!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(){return function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={2:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.wpJsonpTemplateSections=window.wpJsonpTemplateSections||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;return i.push([398,0]),n()}(Array(50).concat([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[],o=0,i=!1,a=!1,s=!1,c=function(){var e=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){e={passive:!0}}}))}catch(e){}return e}(),u={scroll:function(e){a||(a=!0,requestAnimationFrame(this.executeCallbacks))},executeCallbacks:function(){for(var e=0;e<o;e+=1)r[e]();a=!1},registerCallback:function(e){var t=r.indexOf(e);!e||t>-1||(r.push(e),o+=1)},removeCallback:function(e){if(e){var t=r.indexOf(e);-1!==t&&(r.splice(t,1),o-=1)}},bindMethods:function(){i||(this.scroll=this.scroll.bind(this),i=!0)},trigger:function(){this.scroll()},on:function(e){s||(s=!0,this.bindMethods(),window.addEventListener("scroll",this.scroll,c)),this.registerCallback(e)},off:function(e){this.removeCallback(e),o||(this.bindMethods(),s=!1,window.removeEventListener("scroll",this.scroll))}};t.default=u},,,,,,,,,,,,,,,,,,,,,function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(213)("wks"),o=n(214),i=n(97).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){"use strict";var r=i(n(272)),o=i(n(273));function i(e){return e&&e.__esModule?e:{default:e}}var a=n(279),s=n(280),c=s.getValidNodes,u=s.validateCallbacks,l=s.validateBoolean,d=n(303),f=d.VIEWPORT_INFO,p=d.callRangeEvents,h=d.callViewportEvents,m=d.getRatioVisible,y=d.getRangeValues,v=d.getNodePosition,g=d.getScrollDirection,b=d.getScrollingElementScrollTop,w=d.isInRange,S=d.passiveEventListener,A=d.updateNodePosition,O=d.updateRangeValues,x=function(){function e(){(0,r.default)(this,e),this.watchInfo=[],this.scrollingElement=document.scrollingElement||document.body,this.viewportInfo=this.updateViewportInfo(),this.supportsPassive=S(),this.supportsIntersectionObserver=window.IntersectionObserver,this.attachListeners(),this.updateInfo()}return(0,o.default)(e,[{key:"destroy",value:function(){this.watchInfo=[],this.detachListeners()}},{key:"attachListeners",value:function(){this.boundUpdateInfo=this.updateInfo.bind(this),window.addEventListener("scroll",this.boundUpdateInfo,this.supportsPassive),this.crossBrowserUpdateInfo=a.addListener(this.boundUpdateInfo),this.intersectionObserver&&this.intersectionObserver.disconnect()}},{key:"detachListeners",value:function(){window.removeEventListener("scroll",this.boundUpdateInfo,this.supportsPassive),a.removeListener(this.crossBrowserUpdateInfo)}},{key:"updateInfo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=function(){};r="scroll"===t.type?function(){e.viewportInfo=e.updateViewportInfo(n),e.updateWatchInfo()}:function(){O(e.watchInfo),e.viewportInfo=e.updateViewportInfo(n),e.refreshPositionData()},requestAnimationFrame(r)}},{key:"updateWatchInfo",value:function(){var e=this;this.watchInfo.forEach((function(t){var n=t.suspendWatch,r=t.range,o=t.inRange;if(!0!==n){var i=A(t);t.position=i;var a=w(e.supportsIntersectionObserver,t,i,t.useElementHeight);t.prevRatioVisible=t.ratioVisible||0,t.ratioVisible=m(r,i),t.prevRatioVisible<t.ratioVisible?t.presence="entering":t.prevRatioVisible>t.ratioVisible?t.presence="leaving":t.presence=null,a&&h(t),o!==a&&(a||(t.presence=null),t.inRange=a,p(t,a))}}))}},{key:"updateViewportInfo",value:function(e){var t=e||b(this.scrollingElement);return f.direction=g(this.scrollingElement,t),f.scrollTop=t,f}},{key:"addNodes",value:function(e){var t=this,n=c(e.nodes);if(!n)return!1;var r=u(e.callbacks),o=y(e.range),i=l(e.useElementHeight,!0);this.supportsIntersectionObserver&&(this.intersectionObserver=new window.IntersectionObserver((function(e){e.forEach((function(e){var n=t.getNodeInfo(e.target)[0];n&&(n.observedInRange=e.isIntersecting)})),t.updateWatchInfo()}),{rootNode:null,threshold:0,rootMargin:0-o.top+"px 0px "+(o.bottom-window.innerHeight)+"px 0px"})),n.forEach((function(n){t.intersectionObserver&&t.intersectionObserver.observe(n);var a=v(n);t.watchInfo.push({node:n,callbacks:r,range:o,useElementHeight:i,initialPosition:a,position:a,rangeArray:e.range,suspendWatch:!1})})),this.updateWatchInfo()}},{key:"removeNodes",value:function(e){var t=this,n=c(e,this.watchInfo);if(!n)return!1;var r=[];return n.forEach((function(e){t.watchInfo=t.watchInfo.reduce((function(t,n){return n.node!==e?t.push(n):r.push({nodes:n.node,range:n.rangeArray,callbacks:n.callbacks}),t}),[])})),r}},{key:"suspendWatchingNodes",value:function(e){var t=this,n=c(e,this.watchInfo);if(!n)return!1;n.forEach((function(e){t.getNodeInfo(e).forEach((function(e){e.suspendWatch=!0}))}))}},{key:"resumeWatchingNodes",value:function(e){var t=this,n=c(e,this.watchInfo);if(!n)return!1;n.forEach((function(e){t.getNodeInfo(e).forEach((function(e){e.suspendWatch=!1}))})),this.updateWatchInfo()}},{key:"refreshPositionData",value:function(e){var t=this,n=c(e,this.watchInfo);if(!n)return!1;n.forEach((function(e){t.getNodeInfo(e).forEach((function(t){t.initialPosition=v(e)}))})),this.updateWatchInfo()}},{key:"getNodeInfo",value:function(e){var t=this,n=c(e,this.watchInfo);if(!n)return!1;var r=[];return n.forEach((function(e){t.watchInfo.reduce((function(t,n){return n.node===e&&t.push(n),t}),r)})),r}}]),e}();e.exports=x},function(e,t,n){"use strict";var r=n(121);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"containFocus",{enumerable:!0,get:function(){return o.default}});var o=r(n(310))},,,,,,,,,,,,,,,,,,,,,,,function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(118),o=n(277),i=n(278),a=Object.defineProperty;t.f=n(99)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(155)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";var r=n(34),o=n(29),i=n(86),a=n(46),s=n(41),c=n(54),u=n(153),l=n(83),d=n(28),f=n(61),p=n(85).f,h=n(67).f,m=n(42).f,y=n(111).trim,v=o.Number,g=v.prototype,b="Number"==c(f(g)),w=function(e){var t,n,r,o,i,a,s,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=y(u)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(a=(i=u.slice(2)).length,s=0;s<a;s++)if((c=i.charCodeAt(s))<48||c>o)return NaN;return parseInt(i,r)}return+u};if(i("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var S,A=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof A&&(b?d((function(){g.valueOf.call(n)})):"Number"!=c(n))?u(new v(w(t)),n,A):w(t)},O=r?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;O.length>x;x++)s(v,S=O[x])&&!s(A,S)&&m(A,S,h(v,S));A.prototype=g,g.constructor=A,a(o,"Number",A)}},function(e,t,n){"use strict";var r=n(18),o=n(62).find,i=n(78),a=n(51),s=!0,c=a("find");"find"in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s||!c},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},,,,,,,,,,,,,,,function(e,t,n){var r=n(97),o=n(71),i=n(206),a=n(117),s=n(119),c=function(e,t,n){var u,l,d,f=e&c.F,p=e&c.G,h=e&c.S,m=e&c.P,y=e&c.B,v=e&c.W,g=p?o:o[t]||(o[t]={}),b=g.prototype,w=p?r:h?r[t]:(r[t]||{}).prototype;for(u in p&&(n=t),n)(l=!f&&w&&void 0!==w[u])&&s(g,u)||(d=l?w[u]:n[u],g[u]=p&&"function"!=typeof w[u]?n[u]:y&&l?i(d,r):v&&w[u]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((g.virtual||(g.virtual={}))[u]=d,e&c.R&&b&&!b[u]&&a(b,u,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(98),o=n(156);e.exports=n(99)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(154);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(18),o=n(309).values;r({target:"Object",stat:!0},{values:function(e){return o(e)}})},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(220)(Object,"create");e.exports=r},function(e,t,n){var r=n(342);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(348);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){"use strict";var r=n(168).DOCUMENT,o=n(217);e.exports=function(e){return e?e.nodeType===r?o(e):"HTML"===e.nodeName?o(e.ownerDocument):e:null}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports={}},function(e,t,n){var r=n(213)("keys"),o=n(214);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(158);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(163),o=n(356),i=n(125),a=function(e,t){return"auto"===e||"scroll"===e||"visible"===e&&"HTML"===t.nodeName};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!r(e,"ownerDocument.defaultView"))return!1;var n=o(e),s=n.overflowX,c=n.overflowY;if(!0===t)return a(c,e)||a(s,e);var u=i(e),l=u.scrollHeight,d=u.scrollWidth,f=u.clientHeight,p=u.clientWidth;return"HTML"===e.nodeName&&(f=Math.min(f,e.ownerDocument.defaultView.innerHeight),p=Math.min(p,e.ownerDocument.defaultView.innerWidth)),a(c,e)&&l>f||a(s,e)&&d>p}},function(e,t,n){var r=n(315);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(219),o=n(321);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(167).Symbol;e.exports=r},function(e,t,n){var r=n(318),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";e.exports={ELEMENT:1,TEXT:3,COMMENT:8,DOCUMENT:9,DOCTYPE:10,FRAGMENT:11}},function(e,t,n){"use strict";e.exports=function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validatedImage=t.getVideoSource=t.getVideoID=t.getStartTime=t.getPlayerElement=t.findPlayerAspectRatio=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(171),i=s(n(391)),a=s(n(394));function s(e){return e&&e.__esModule?e:{default:e}}var c={youtube:{parsePath:"query.t",timeRegex:/[hms]/,idRegex:o.YOUTUBE_REGEX,getDimensions:function(e){var t=void 0,n=void 0;for(var o in e){var i=e[o];if("object"===(void 0===i?"undefined":r(i))&&i.width&&i.height){t=i.width,n=i.height;break}}return{w:t,h:n}}},vimeo:{parsePath:null,timeRegex:/[#t=s]/,idRegex:o.VIMEO_REGEX,getDimensions:function(e){var t=void 0,n=void 0;return e.dimensions?(t=e.dimensions.width,n=e.dimensions.height):e.iframe&&(t=e.iframe.clientWidth,n=e.iframe.clientHeight),{w:t,h:n}}}};t.findPlayerAspectRatio=function(e,t,n){var r=void 0,o=void 0;if(t){var i=c[n].getDimensions(t);r=i.w,o=i.h}return r&&o||(r=e.clientWidth,o=e.clientHeight,console.warn("No width and height found in "+n+" player "+t+". Using container dimensions.")),parseInt(r,10)/parseInt(o,10)},t.getPlayerElement=function(e){var t=e.querySelector("#player");return t||((t=e.ownerDocument.createElement("div")).id="player",e.appendChild(t)),t.setAttribute("style","position: absolute; top: 0; bottom: 0; left: 0; right: 0;"),t},t.getStartTime=function(e,t){var n=function(e,t){return c[t].parsePath?(0,a.default)(e,c[t].parsePath):null}(new i.default(e,!0),t);if(n){var r=n.split(c[t].timeRegex).filter(Boolean),o=parseInt(r.pop(),10)||0,s=60*parseInt(r.pop(),10)||0;return(3600*parseInt(r.pop(),10)||0)+s+o}},t.getVideoID=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.DEFAULT_PROPERTY_VALUES.url,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=c[t],r=n&&e.match(n.idRegex),i="vimeo"===t?r[3]:r[2];if(r&&i.length)return i;console.error("Video id at "+e+" is not valid")},t.getVideoSource=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.DEFAULT_PROPERTY_VALUES.url,t=e.match(o.YOUTUBE_REGEX);return t&&t[2].length?"youtube":(t=e.match(o.VIMEO_REGEX))&&t[3].length?"vimeo":void console.error("Video source "+e+" does not match supported types")},t.validatedImage=function(e){if(!e)return!1;var t="IMG"===e.nodeName&&e;return t||console.warn("Element is not a valid image element."),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={enabled:!0,verbose:!1},o={container:"body",url:"https://youtu.be/xkEmYQvJ_68",source:"youtube",fitMode:"fill",scaleFactor:1,playbackSpeed:1,filter:1,filterStrength:50,timeCode:{start:0,end:null},DEBUG:r};t.DEBUG=r,t.DEFAULT_PROPERTY_VALUES=o,t.TIMEOUT=2500,t.YOUTUBE_REGEX=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]{11}).*/,t.VIMEO_REGEX=/^.*(vimeo\.com\/)(channels\/[a-zA-Z0-9]*\/)?([0-9]{7,}(#t\=.*s)?)/},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(28),o=n(30),i=n(77),a=o("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(e,t,n){e.exports={default:n(274),__esModule:!0}},function(e,t,n){var r=n(276);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(154),o=n(97).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t){e.exports=!0},function(e,t,n){var r=n(290),o=n(215);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(291),o=n(158);e.exports=function(e){return r(o(e))}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(157),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(71),o=n(97),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(208)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(98).f,o=n(119),i=n(72)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";e.exports=function(e){return e.scrollingElement||e.documentElement||e.body}},function(e,t,n){"use strict";var r=n(162),o=n(357),i=n(168).DOCUMENT;e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t&&r(e,n)?e:o(e,(function(e){return r(e,n)}),(function(e){return e.nodeType===i}))}},function(e,t,n){var r=n(166),o=n(319),i=n(320),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(329),o=n(334);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";var r=n(359);e.exports=function(e){return e instanceof Node?function(t){return t===e}:"string"==typeof e?function(t){return r(t,e)}:e}},function(e,t,n){"use strict";var r=n(125),o=n(224),i=n(169),a=n(225),s=n(367),c=function(){},u=function(e,t,n){i(t)&&(e.scrollLeft=t),i(n)&&(e.scrollTop=n)};e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=r(e);var l="function"==typeof n.onEnd?n.onEnd:c,d=a(n.minDuration,50),f=a(n.maxDuration,50),p=n.easing;if(i(t)&&(t={top:t}),!1===p)return u(e,t.left,t.top),l(),null;var h={left:e.scrollLeft,top:e.scrollTop},m=[t.left-h.left,t.top-h.top],y=Math.max.apply(null,m.map((function(e){return Math.abs(e)})).filter(i));if(y<1)return l(),null;var v=new s((function(t){var n=h.left+t*m[0],r=h.top+t*m[1];u(e,n,r)}),{onEnd:l,duration:o(y,d,f),easing:"string"==typeof p&&p?p:"easeOutSine"});return v.start(),v}},function(e,t,n){"use strict";e.exports=function(e,t,n){return Math.max(t,Math.min(e,n))}},function(e,t,n){"use strict";var r=n(169);e.exports=function(e,t){return r(e)?e:t}},function(e,t,n){"use strict";var r=n(18),o=n(29),i=n(86),a=n(46),s=n(227),c=n(148),u=n(94),l=n(36),d=n(28),f=n(137),p=n(68),h=n(153);e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),v=m?"set":"add",g=o[e],b=g&&g.prototype,w=g,S={},A=function(e){var t=b[e];a(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof g||!(y||b.forEach&&!d((function(){(new g).entries().next()})))))w=n.getConstructor(t,e,m,v),s.REQUIRED=!0;else if(i(e,!0)){var O=new w,x=O[v](y?{}:-0,1)!=O,P=d((function(){O.has(1)})),E=f((function(e){new g(e)})),k=!y&&d((function(){for(var e=new g,t=5;t--;)e[v](t,t);return!e.has(-0)}));E||((w=t((function(t,n){u(t,w,e);var r=h(new g,t,w);return null!=n&&c(n,r[v],r,m),r}))).prototype=b,b.constructor=w),(P||k)&&(A("delete"),A("has"),m&&A("get")),(k||x)&&A(v),y&&b.clear&&delete b.clear}return S[e]=w,r({global:!0,forced:w!=g},S),p(w,e),y||n.setStrong(w,e,m),w}},function(e,t,n){var r=n(84),o=n(36),i=n(41),a=n(42).f,s=n(104),c=n(381),u=s("meta"),l=0,d=Object.isExtensible||function(){return!0},f=function(e){a(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},p=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,u)){if(!d(e))return"F";if(!t)return"E";f(e)}return e[u].objectID},getWeakData:function(e,t){if(!i(e,u)){if(!d(e))return!0;if(!t)return!1;f(e)}return e[u].weakData},onFreeze:function(e){return c&&p.REQUIRED&&d(e)&&!i(e,u)&&f(e),e}};r[u]=!0},function(e,t,n){"use strict";var r=n(42).f,o=n(61),i=n(146),a=n(69),s=n(94),c=n(148),u=n(138),l=n(147),d=n(34),f=n(227).fastKey,p=n(56),h=p.set,m=p.getterFor;e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,r){s(e,l,t),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=r&&c(r,e[u],e,n)})),p=m(t),y=function(e,t,n){var r,o,i=p(e),a=v(e,t);return a?a.value=n:(i.last=a={index:o=f(t,!0),key:t,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),d?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},v=function(e,t){var n,r=p(e),o=f(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return i(l.prototype,{clear:function(){for(var e=p(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=p(this),n=v(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),d?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=p(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),i(l.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),d&&r(l.prototype,"size",{get:function(){return p(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",o=m(t),i=m(r);u(e,t,(function(e,t){h(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(389),o=r.OggVideo,i=r.Mp4Video;t.default=function(){return new Promise((function(e,t){var n=document.createElement("video");n.autoplay=!0,n.setAttribute("autoplay",!0),n.muted=!0,n.setAttribute("muted",!0),n.playsinline=!0,n.setAttribute("playsinline",!0),n.volume=0,n.setAttribute("data-is-playing","false"),n.setAttribute("style","width: 1px; height: 1px; position: fixed; top: 0; left: 0; z-index: 100;"),document.body.appendChild(n);var r=null,a=function(){r&&(clearTimeout(r),r=null);try{document.body.removeChild(n)}catch(e){return}};try{if(n.canPlayType('video/ogg; codecs="theora"').match(/^(probably)|(maybe)/))n.src=o;else{if(!n.canPlayType('video/mp4; codecs="avc1.42E01E"').match(/^(probably)|(maybe)/))return a(),void t("no autoplay: element does not support mp4 or ogg format");n.src=i}}catch(e){return a(),void t("no autoplay: "+e)}n.addEventListener("play",(function(){n.setAttribute("data-is-playing","true"),r=setTimeout((function(){a(),t("no autoplay: unsure")}),3e3)})),n.addEventListener("canplay",(function(){return"true"===n.getAttribute("data-is-playing")?(a(),e("autoplay supported"),!0):(a(),t("no autoplay: browser does not support autoplay"),!1)})),n.load(),n.play()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.filterOptions=["none","blur","brightness","contrast","invert","opacity","saturate","sepia","drop-shadow","grayscale","hue-rotate"],t.filterProperties={blur:{modifier:function(e){return.3*e},unit:"px"},brightness:{modifier:function(e){return.009*e+.1},unit:""},contrast:{modifier:function(e){return.4*e+80},unit:"%"},grayscale:{modifier:function(e){return e},unit:"%"},"hue-rotate":{modifier:function(e){return 3.6*e},unit:"deg"},invert:{modifier:function(e){return 1},unit:""},opacity:{modifier:function(e){return e},unit:"%"},saturate:{modifier:function(e){return 2*e},unit:"%"},sepia:{modifier:function(e){return e},unit:"%"}}},,function(e,t,n){"use strict";e.exports={getDocScrollNode:n(217),getScrollParent:n(218),getScrollParents:n(360),isScrollableNode:n(162),normalizeScrollEmitter:n(362),normalizeScrollSetter:n(125),scrollIntoView:n(363),scrollTo:n(223)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(383),i=n(396),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(e,t){var n=e.querySelector(".sqs-video-background"),r=(0,a.default)(n),i=new o.VideoBackground(r);return"function"==typeof t&&t({handleResize:function(){i.scaleVideo()},handleTweak:function(){i.destroy(),i=new o.VideoBackground(r)}}),{destroy:function(){i.destroy()}}},e.exports=t.default},function(e,t){e.exports=function(){var e=new Float32Array(9);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}},function(e,t,n){!function(){"use strict";function e(e){var t=!0,n=!1,r=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function i(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function a(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function s(e){t=!1}function c(){document.addEventListener("mousemove",u),document.addEventListener("mousedown",u),document.addEventListener("mouseup",u),document.addEventListener("pointermove",u),document.addEventListener("pointerdown",u),document.addEventListener("pointerup",u),document.addEventListener("touchmove",u),document.addEventListener("touchstart",u),document.addEventListener("touchend",u)}function u(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",u),document.removeEventListener("mousedown",u),document.removeEventListener("mouseup",u),document.removeEventListener("pointermove",u),document.removeEventListener("pointerdown",u),document.removeEventListener("pointerup",u),document.removeEventListener("touchmove",u),document.removeEventListener("touchstart",u),document.removeEventListener("touchend",u))}document.addEventListener("keydown",(function(n){n.metaKey||n.altKey||n.ctrlKey||(i(e.activeElement)&&a(e.activeElement),t=!0)}),!0),document.addEventListener("mousedown",s,!0),document.addEventListener("pointerdown",s,!0),document.addEventListener("touchstart",s,!0),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&(n&&(t=!0),c())}),!0),c(),e.addEventListener("focus",(function(e){var n,r,s;i(e.target)&&(t||(n=e.target,r=n.type,"INPUT"===(s=n.tagName)&&o[r]&&!n.readOnly||"TEXTAREA"===s&&!n.readOnly||n.isContentEditable))&&a(e.target)}),!0),e.addEventListener("blur",(function(e){var t;i(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(r),r=window.setTimeout((function(){n=!1}),100),(t=e.target).hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added")))}),!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)}()},function(e,t,n){"use strict";!function(){function e(e){for(var t=[];e=e.parentNode||e.host||e.defaultView;)t.push(e);return t}function t(e){return function(t){var n=void 0!==t.getAttribute?t.getAttribute("class")||"":void 0;void 0!==n&&-1===n.indexOf(e)&&t.setAttribute("class",n.concat(" ",e).trim())}}var n=["\n","\t"," ","\r"];try{document.querySelector(":focus-within")}catch(r){return function(){function r(r){if(!o){window.requestAnimationFrame((function(){o=!1,"blur"===r.type&&Array.prototype.slice.call(e(r.target)).forEach(function(e){return function(t){var r=void 0!==t.getAttribute?t.getAttribute("class")||"":void 0;if(r){var o=r.indexOf(e);0<=o&&(0===o||0<=n.indexOf(r.charAt(o-1)))&&(""===(r=r.replace(e,"").trim())?t.removeAttribute("class"):t.setAttribute("class",r))}}}("focus-within")),"focus"===r.type&&Array.prototype.slice.call(e(r.target)).forEach(t("focus-within"))}));var o=!0}}return document.addEventListener("focus",r,!0),document.addEventListener("blur",r,!0),t("js-focus-within")(document.body),!0}()}}()},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(18),o=n(262),i=n(78);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t,n){"use strict";var r=n(47),o=n(105),i=n(44);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,u=void 0===c?n:o(c,n);u>s;)t[s++]=e;return t}},,,,function(e,t,n){"use strict";var r=n(109),o=n(37),i=n(53),a=n(267),s=n(110);r("search",1,(function(e,t,n){return[function(t){var n=i(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=o(e),c=String(this),u=i.lastIndex;a(u,0)||(i.lastIndex=0);var l=s(i,c);return a(i.lastIndex,u)||(i.lastIndex=u),null===l?-1:l.index}]}))},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";n(7);var r,o=n(18),i=n(34),a=n(204),s=n(29),c=n(179),u=n(46),l=n(94),d=n(41),f=n(198),p=n(185),h=n(143).codeAt,m=n(269),y=n(68),v=n(270),g=n(56),b=s.URL,w=v.URLSearchParams,S=v.getState,A=g.set,O=g.getterFor("URL"),x=Math.floor,P=Math.pow,E=/[A-Za-z]/,k=/[\d+-.A-Za-z]/,T=/\d/,C=/^(0x|0X)/,j=/^[0-7]+$/,I=/^\d+$/,L=/^[\dA-Fa-f]+$/,R=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,_=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,M=/[\u0009\u000A\u000D]/g,F=function(e,t){var n,r,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=z(t.slice(1,-1))))return"Invalid host";e.host=n}else if(Y(e)){if(t=m(t),R.test(t))return"Invalid host";if(null===(n=B(t)))return"Invalid host";e.host=n}else{if(_.test(t))return"Invalid host";for(n="",r=p(t),o=0;o<r.length;o++)n+=V(r[o],W);e.host=n}},B=function(e){var t,n,r,o,i,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=c[r]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=C.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?I:8==i?j:L).test(o))return e;a=parseInt(o,i)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=P(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*P(256,3-r);return s},z=function(e){var t,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,f=function(){return e.charAt(d)};if(":"==f()){if(":"!=e.charAt(1))return;d+=2,l=++u}for(;f();){if(8==u)return;if(":"!=f()){for(t=n=0;n<4&&L.test(f());)t=16*t+parseInt(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,u>6)return;for(r=0;f();){if(o=null,r>0){if(!("."==f()&&r<4))return;d++}if(!T.test(f()))return;for(;T.test(f());){if(i=parseInt(f(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;d++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;c[u++]=t}else{if(null!==l)return;d++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},N=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=x(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},W={},U=f({},W,{" ":1,'"':1,"<":1,">":1,"`":1}),H=f({},U,{"#":1,"?":1,"{":1,"}":1}),q=f({},H,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),V=function(e,t){var n=h(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},G={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Y=function(e){return d(G,e.scheme)},X=function(e){return""!=e.username||""!=e.password},Q=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Z=function(e,t){var n;return 2==e.length&&E.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},J=function(e){var t;return e.length>1&&Z(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},K=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Z(t[0],!0)||t.pop()},$=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},ne={},re={},oe={},ie={},ae={},se={},ce={},ue={},le={},de={},fe={},pe={},he={},me={},ye={},ve={},ge={},be={},we={},Se=function(e,t,n,o){var i,a,s,c,u,l=n||ee,f=0,h="",m=!1,y=!1,v=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(D,"")),t=t.replace(M,""),i=p(t);f<=i.length;){switch(a=i[f],l){case ee:if(!a||!E.test(a)){if(n)return"Invalid scheme";l=ne;continue}h+=a.toLowerCase(),l=te;break;case te:if(a&&(k.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";h="",l=ne,f=0;continue}if(n&&(Y(e)!=d(G,h)||"file"==h&&(X(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,n)return void(Y(e)&&G[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?l=pe:Y(e)&&o&&o.scheme==e.scheme?l=re:Y(e)?l=se:"/"==i[f+1]?(l=oe,f++):(e.cannotBeABaseURL=!0,e.path.push(""),l=ge)}break;case ne:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,l=we;break}l="file"==o.scheme?pe:ie;continue;case re:if("/"!=a||"/"!=i[f+1]){l=ie;continue}l=ce,f++;break;case oe:if("/"==a){l=ue;break}l=ve;continue;case ie:if(e.scheme=o.scheme,a==r)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==a||"\\"==a&&Y(e))l=ae;else if("?"==a)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",l=be;else{if("#"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),l=ve;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=we}break;case ae:if(!Y(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,l=ve;continue}l=ue}else l=ce;break;case se:if(l=ce,"/"!=a||"/"!=h.charAt(f+1))continue;f++;break;case ce:if("/"!=a&&"\\"!=a){l=ue;continue}break;case ue:if("@"==a){m&&(h="%40"+h),m=!0,s=p(h);for(var g=0;g<s.length;g++){var b=s[g];if(":"!=b||v){var w=V(b,q);v?e.password+=w:e.username+=w}else v=!0}h=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(m&&""==h)return"Invalid authority";f-=p(h).length+1,h="",l=le}else h+=a;break;case le:case de:if(n&&"file"==e.scheme){l=me;continue}if(":"!=a||y){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)){if(Y(e)&&""==h)return"Invalid host";if(n&&""==h&&(X(e)||null!==e.port))return;if(c=F(e,h))return c;if(h="",l=ye,n)return;continue}"["==a?y=!0:"]"==a&&(y=!1),h+=a}else{if(""==h)return"Invalid host";if(c=F(e,h))return c;if(h="",l=fe,n==de)return}break;case fe:if(!T.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(e)||n){if(""!=h){var S=parseInt(h,10);if(S>65535)return"Invalid port";e.port=Y(e)&&S===G[e.scheme]?null:S,h=""}if(n)return;l=ye;continue}return"Invalid port"}h+=a;break;case pe:if(e.scheme="file","/"==a||"\\"==a)l=he;else{if(!o||"file"!=o.scheme){l=ve;continue}if(a==r)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==a)e.host=o.host,e.path=o.path.slice(),e.query="",l=be;else{if("#"!=a){J(i.slice(f).join(""))||(e.host=o.host,e.path=o.path.slice(),K(e)),l=ve;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=we}}break;case he:if("/"==a||"\\"==a){l=me;break}o&&"file"==o.scheme&&!J(i.slice(f).join(""))&&(Z(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),l=ve;continue;case me:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&Z(h))l=ve;else if(""==h){if(e.host="",n)return;l=ye}else{if(c=F(e,h))return c;if("localhost"==e.host&&(e.host=""),n)return;h="",l=ye}continue}h+=a;break;case ye:if(Y(e)){if(l=ve,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(l=ve,"/"!=a))continue}else e.fragment="",l=we;else e.query="",l=be;break;case ve:if(a==r||"/"==a||"\\"==a&&Y(e)||!n&&("?"==a||"#"==a)){if(".."===(u=(u=h).toLowerCase())||"%2e."===u||".%2e"===u||"%2e%2e"===u?(K(e),"/"==a||"\\"==a&&Y(e)||e.path.push("")):$(h)?"/"==a||"\\"==a&&Y(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Z(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(a==r||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",l=be):"#"==a&&(e.fragment="",l=we)}else h+=V(a,H);break;case ge:"?"==a?(e.query="",l=be):"#"==a?(e.fragment="",l=we):a!=r&&(e.path[0]+=V(a,W));break;case be:n||"#"!=a?a!=r&&("'"==a&&Y(e)?e.query+="%27":e.query+="#"==a?"%23":V(a,W)):(e.fragment="",l=we);break;case we:a!=r&&(e.fragment+=V(a,U))}f++}},Ae=function(e){var t,n,r=l(this,Ae,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(e),s=A(r,{type:"URL"});if(void 0!==o)if(o instanceof Ae)t=O(o);else if(n=Se(t={},String(o)))throw TypeError(n);if(n=Se(s,a,null,t))throw TypeError(n);var c=s.searchParams=new w,u=S(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},i||(r.href=xe.call(r),r.origin=Pe.call(r),r.protocol=Ee.call(r),r.username=ke.call(r),r.password=Te.call(r),r.host=Ce.call(r),r.hostname=je.call(r),r.port=Ie.call(r),r.pathname=Le.call(r),r.search=Re.call(r),r.searchParams=_e.call(r),r.hash=De.call(r))},Oe=Ae.prototype,xe=function(){var e=O(this),t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",X(e)&&(u+=n+(r?":"+r:"")+"@"),u+=N(o),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},Pe=function(){var e=O(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Y(e)?t+"://"+N(e.host)+(null!==n?":"+n:""):"null"},Ee=function(){return O(this).scheme+":"},ke=function(){return O(this).username},Te=function(){return O(this).password},Ce=function(){var e=O(this),t=e.host,n=e.port;return null===t?"":null===n?N(t):N(t)+":"+n},je=function(){var e=O(this).host;return null===e?"":N(e)},Ie=function(){var e=O(this).port;return null===e?"":String(e)},Le=function(){var e=O(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Re=function(){var e=O(this).query;return e?"?"+e:""},_e=function(){return O(this).searchParams},De=function(){var e=O(this).fragment;return e?"#"+e:""},Me=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&c(Oe,{href:Me(xe,(function(e){var t=O(this),n=String(e),r=Se(t,n);if(r)throw TypeError(r);S(t.searchParams).updateSearchParams(t.query)})),origin:Me(Pe),protocol:Me(Ee,(function(e){var t=O(this);Se(t,String(e)+":",ee)})),username:Me(ke,(function(e){var t=O(this),n=p(String(e));if(!Q(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=V(n[r],q)}})),password:Me(Te,(function(e){var t=O(this),n=p(String(e));if(!Q(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=V(n[r],q)}})),host:Me(Ce,(function(e){var t=O(this);t.cannotBeABaseURL||Se(t,String(e),le)})),hostname:Me(je,(function(e){var t=O(this);t.cannotBeABaseURL||Se(t,String(e),de)})),port:Me(Ie,(function(e){var t=O(this);Q(t)||(""==(e=String(e))?t.port=null:Se(t,e,fe))})),pathname:Me(Le,(function(e){var t=O(this);t.cannotBeABaseURL||(t.path=[],Se(t,e+"",ye))})),search:Me(Re,(function(e){var t=O(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Se(t,e,be)),S(t.searchParams).updateSearchParams(t.query)})),searchParams:Me(_e),hash:Me(De,(function(e){var t=O(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Se(t,e,we)):t.fragment=null}))}),u(Oe,"toJSON",(function(){return xe.call(this)}),{enumerable:!0}),u(Oe,"toString",(function(){return xe.call(this)}),{enumerable:!0}),b){var Fe=b.createObjectURL,Be=b.revokeObjectURL;Fe&&u(Ae,"createObjectURL",(function(e){return Fe.apply(b,arguments)})),Be&&u(Ae,"revokeObjectURL",(function(e){return Be.apply(b,arguments)}))}y(Ae,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Ae})},function(e,t,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,c=function(e){return e+22+75*(e<26)},u=function(e,t,n){var r=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;r+=36)e=a(e/35);return a(r+36*e/(e+38))},l=function(e){var t,n,r=[],o=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=e.charCodeAt(n++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--)}else t.push(o)}return t}(e)).length,l=128,d=0,f=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(s(n));var p=r.length,h=p;for(p&&r.push("-");h<o;){var m=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=l&&n<m&&(m=n);var y=h+1;if(m-l>a((2147483647-d)/y))throw RangeError(i);for(d+=(m-l)*y,l=m,t=0;t<e.length;t++){if((n=e[t])<l&&++d>2147483647)throw RangeError(i);if(n==l){for(var v=d,g=36;;g+=36){var b=g<=f?1:g>=f+26?26:g-f;if(v<b)break;var w=v-b,S=36-b;r.push(s(c(b+w%S))),v=a(w/S)}r.push(s(c(v))),f=u(d,y,h==p),d=0,++h}}++d,++l}return r.join("")};e.exports=function(e){var t,n,i=[],a=e.toLowerCase().replace(o,".").split(".");for(t=0;t<a.length;t++)n=a[t],i.push(r.test(n)?"xn--"+l(n):n);return i.join(".")}},function(e,t,n){"use strict";n(9);var r=n(18),o=n(60),i=n(204),a=n(46),s=n(146),c=n(68),u=n(188),l=n(56),d=n(94),f=n(41),p=n(69),h=n(135),m=n(37),y=n(36),v=n(61),g=n(76),b=n(271),w=n(107),S=n(30),A=o("fetch"),O=o("Headers"),x=S("iterator"),P=l.set,E=l.getterFor("URLSearchParams"),k=l.getterFor("URLSearchParamsIterator"),T=/\+/g,C=Array(4),j=function(e){return C[e-1]||(C[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},I=function(e){try{return decodeURIComponent(e)}catch(t){return e}},L=function(e){var t=e.replace(T," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(j(n--),I);return t}},R=/[!'()~]|%20/g,_={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},D=function(e){return _[e]},M=function(e){return encodeURIComponent(e).replace(R,D)},F=function(e,t){if(t)for(var n,r,o=t.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),e.push({key:L(r.shift()),value:L(r.join("="))}))},B=function(e){this.entries.length=0,F(this.entries,e)},z=function(e,t){if(e<t)throw TypeError("Not enough arguments")},N=u((function(e,t){P(this,{type:"URLSearchParamsIterator",iterator:b(E(e).entries),kind:t})}),"Iterator",(function(){var e=k(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),W=function(){d(this,W,"URLSearchParams");var e,t,n,r,o,i,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,p=[];if(P(l,{type:"URLSearchParams",entries:p,updateURL:function(){},updateSearchParams:B}),void 0!==u)if(y(u))if("function"==typeof(e=w(u)))for(n=(t=e.call(u)).next;!(r=n.call(t)).done;){if((a=(i=(o=b(m(r.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");p.push({key:a.value+"",value:s.value+""})}else for(c in u)f(u,c)&&p.push({key:c,value:u[c]+""});else F(p,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},U=W.prototype;s(U,{append:function(e,t){z(arguments.length,2);var n=E(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){z(arguments.length,1);for(var t=E(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){z(arguments.length,1);for(var t=E(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){z(arguments.length,1);for(var t=E(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){z(arguments.length,1);for(var t=E(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){z(arguments.length,1);for(var n,r=E(this),o=r.entries,i=!1,a=e+"",s=t+"",c=0;c<o.length;c++)(n=o[c]).key===a&&(i?o.splice(c--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=E(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(e=i[n],t=0;t<n;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===n&&o.push(e)}r.updateURL()},forEach:function(e){for(var t,n=E(this).entries,r=p(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new N(this,"keys")},values:function(){return new N(this,"values")},entries:function(){return new N(this,"entries")}},{enumerable:!0}),a(U,x,U.entries),a(U,"toString",(function(){for(var e,t=E(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(M(e.key)+"="+M(e.value));return n.join("&")}),{enumerable:!0}),c(W,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:W}),i||"function"!=typeof A||"function"!=typeof O||r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,o=[e];return arguments.length>1&&(y(t=arguments[1])&&(n=t.body,"URLSearchParams"===h(n)&&((r=t.headers?new O(t.headers):new O).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:g(0,String(n)),headers:g(0,r)}))),o.push(t)),A.apply(this,o)}}),e.exports={URLSearchParams:W,getState:E}},function(e,t,n){var r=n(37),o=n(107);e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(205),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){n(275);var r=n(71).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(116);r(r.S+r.F*!n(99),"Object",{defineProperty:n(98).f})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports=!n(99)&&!n(155)((function(){return 7!=Object.defineProperty(n(207)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(154);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n,r,o,i;function a(){n=i.innerWidth,r=i.screen.availHeight,o=i.outerHeight}e.exports={addListener:function(e,t){var s;t||(t=window),!i&&((s=t)&&s.window===s)&&(i=t);var c=function(e){return function(t){i.innerWidth===n&&i.screen.availHeight===r&&i.outerHeight===o||e(t)}}(e);return i.addEventListener("resize",c),i.removeEventListener("resize",a),i.addEventListener("resize",a),c},removeListener:function(e){i.removeEventListener("resize",e)}}},function(e,t,n){"use strict";var r,o=n(281),i=(r=o)&&r.__esModule?r:{default:r};var a=function(e){return e instanceof HTMLElement||e&&"children"in e},s=function(e){return Array.isArray(e)&&!e.some((function(e){return!a(e)}))?e:function(e){return e instanceof NodeList&&e.length>0}(e)?(0,i.default)(e):a(e)?[e]:(console.error("`nodes` must be HTMLElement or NodeList"),null)};e.exports={getValidNodes:function(e,t){if(e)return s(e);var n=[];return t.forEach((function(e){n.push(e.node)})),n},validateNodes:s,validateCallbacks:function(e){return["onEnter","onExit","whileInRange"].reduce((function(t,n){var r=e[n],o=r&&"function"==typeof r;return t[n]=o?r:function(){},t}),{})},validateBoolean:function(e,t){return"true"===e||!0===e||"false"!==e&&!1!==e&&(t||!1)}}},function(e,t,n){e.exports={default:n(282),__esModule:!0}},function(e,t,n){n(283),n(296),e.exports=n(71).Array.from},function(e,t,n){"use strict";var r=n(284)(!0);n(285)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(157),o=n(158);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||c>=u?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(208),o=n(116),i=n(286),a=n(117),s=n(159),c=n(287),u=n(216),l=n(295),d=n(72)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,m,y,v){c(n,t,h);var g,b,w,S=function(e){if(!f&&e in P)return P[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},A=t+" Iterator",O="values"==m,x=!1,P=e.prototype,E=P[d]||P["@@iterator"]||m&&P[m],k=E||S(m),T=m?O?S("entries"):k:void 0,C="Array"==t&&P.entries||E;if(C&&(w=l(C.call(new e)))!==Object.prototype&&w.next&&(u(w,A,!0),r||"function"==typeof w[d]||a(w,d,p)),O&&E&&"values"!==E.name&&(x=!0,k=function(){return E.call(this)}),r&&!v||!f&&!x&&P[d]||a(P,d,k),s[t]=k,s[A]=p,m)if(g={values:O?k:S("values"),keys:y?k:S("keys"),entries:T},v)for(b in g)b in P||i(P,b,g[b]);else o(o.P+o.F*(f||x),t,g);return g}},function(e,t,n){e.exports=n(117)},function(e,t,n){"use strict";var r=n(288),o=n(156),i=n(216),a={};n(117)(a,n(72)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(118),o=n(289),i=n(215),a=n(160)("IE_PROTO"),s=function(){},c=function(){var e,t=n(207)("iframe"),r=i.length;for(t.style.display="none",n(294).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(98),o=n(118),i=n(209);e.exports=n(99)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;s>c;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(119),o=n(210),i=n(292)(!1),a=n(160)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(211);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(210),o=n(212),i=n(293);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),l=i(a,u);if(e&&n!=n){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(157),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(97).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(119),o=n(161),i=n(160)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(206),o=n(116),i=n(161),a=n(297),s=n(298),c=n(212),u=n(299),l=n(300);o(o.S+o.F*!n(302)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,d,f=i(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,y=void 0!==m,v=0,g=l(f);if(y&&(m=r(m,h>2?arguments[2]:void 0,2)),null==g||p==Array&&s(g))for(n=new p(t=c(f.length));t>v;v++)u(n,v,y?m(f[v],v):f[v]);else for(d=g.call(f),n=new p;!(o=d.next()).done;v++)u(n,v,y?a(d,m,[o.value,v],!0):o.value);return n.length=v,n}})},function(e,t,n){var r=n(118);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(159),o=n(72)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){"use strict";var r=n(98),o=n(156);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(301),o=n(72)("iterator"),i=n(159);e.exports=n(71).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(211),o=n(72)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(72)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){"use strict";var r=i(n(304)),o=i(n(308));function i(e){return e&&e.__esModule?e:{default:e}}var a={},s="toTop",c="toBottom",u="top",l="bottom",d=["node","position","presence","ratioOfRange","ratioVisible"],f=function(e){return window.innerHeight*e/100},p=function(e){var t;if(!Array.isArray(e)||2!==e.length||"number"==typeof e[0]&&isNaN(e[0])||"number"==typeof e[1]&&isNaN(e[1]))throw new Error("Must be an array of two numbers");return t={},(0,o.default)(t,l,f(Math.max(e[0],e[1]))),(0,o.default)(t,u,f(Math.min(e[0],e[1]))),t},h=function(e){var t={};return(0,r.default)(e).forEach((function(n){d.includes(n)&&(t[n]=e[n])})),t};e.exports={VIEWPORT_INFO:a,callRangeEvents:function(e,t){var n=a,r=void 0;t?r=e.callbacks.onEnter:(e.ratioOfRange=n.direction===c?1:0,r=e.callbacks.onExit),r(h(e),n.direction||null)},callViewportEvents:function(e){var t=a,n=e.position,r=e.range,o=e.useElementHeight?n.height:0,i=(r.bottom-n.top)/(r.bottom-r.top+o);e.ratioOfRange=Math.min(Math.max(i,0),1);var s=h(e);e.callbacks.whileInRange(s,t.direction)},convertToPixelValue:f,getNodePosition:function(e){var t=e.getBoundingClientRect();return{top:t.top+a.scrollTop,bottom:t.bottom+a.scrollTop,width:t.width,height:t.height}},getRangeValues:p,getRatioVisible:function(e,t){var n=t.top,r=t.height,o=Math.min((e.bottom-n)/r,1)+Math.min((n-e.top)/r,0);return Math.min(Math.max(o,0),100)},getScrollDirection:function(e,t){var n=a.scrollTop;return t&&t!==n?n>t?s:c:a.direction},getScrollingElementScrollTop:function(e){if(0===e.scrollTop&&e===document.body){if(void 0!==window.pageYOffset)return window.pageYOffset;if(document.documentElement&&document.documentElement.scrollTop)return document.documentElement.scrollTop}return e.scrollTop},isInRange:function(e,t,n,r){return e&&t.useElementHeight?t.observedInRange:!(n.top>t.range.bottom-1)&&!(n[r?"bottom":"top"]<t.range.top)},passiveEventListener:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){console.log(e)}return!!e&&{passive:!0}},updateNodePosition:function(e){return{top:e.initialPosition.top-a.scrollTop,bottom:e.initialPosition.bottom-a.scrollTop,width:e.initialPosition.width,height:e.initialPosition.height}},updateRangeValues:function(e){e.forEach((function(e){e.range=p(e.rangeArray)}))}}},function(e,t,n){e.exports={default:n(305),__esModule:!0}},function(e,t,n){n(306),e.exports=n(71).Object.keys},function(e,t,n){var r=n(161),o=n(209);n(307)("keys",(function(){return function(e){return o(r(e))}}))},function(e,t,n){var r=n(116),o=n(71),i=n(155);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(205),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(34),o=n(88),i=n(52),a=n(102).f,s=function(e){return function(t){for(var n,s=i(t),c=o(s),u=c.length,l=0,d=[];u>l;)n=c[l++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,n){"use strict";var r=n(121);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.container,n=void 0===t?null:t,r=e.predicate,o=void 0===r?null:r,a=e.root,u=void 0===a?document.body:a,l=e.setFocusOnContain,d=void 0===l||l,f=e.restoreFocusOnRevert,p=void 0===f||f;if(!n&&!o||n&&o)throw new Error("One (and only one) of container and predicate must be set");n&&(o=function(e){return n.contains(e)});var h=document.activeElement,m=[],y=!1;return setTimeout((function(){if(!y){var e,t=i(u.querySelectorAll(s));try{for(t.s();!(e=t.n()).done;){var n=e.value;o(n)||(m.push({element:n,originalTabIndex:n.tabIndex}),n.tabIndex=-1)}}catch(e){t.e(e)}finally{t.f()}var r=c(d,o);r&&"function"==typeof r.focus&&r.focus()}}),0),function(){y=!0;var e,t=i(m);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.element.tabIndex=n.originalTabIndex}}catch(e){t.e(e)}finally{t.f()}p&&h&&"function"==typeof h.focus&&h.focus()}};var o=r(n(311));function i(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"iframe"].join(",");function c(e,t){return e instanceof HTMLElement?e:"string"==typeof e?document.body.querySelector(e):e?(0,o.default)(document.body.querySelectorAll(s)).find((function(e){return t(e)})):null}e.exports=t.default},function(e,t,n){var r=n(312),o=n(313),i=n(314);e.exports=function(e){return r(e)||o(e)||i()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){var r=n(316),o=n(355);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(164),o=n(317),i=n(322),a=n(352);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(164),o=n(165),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(75))},function(e,t,n){var r=n(166),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(323),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(324);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(325);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(326),o=n(347),i=n(349),a=n(350),s=n(351);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(327),o=n(339),i=n(346);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(328),o=n(335),i=n(336),a=n(337),s=n(338);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(122);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(330),o=n(331),i=n(221),a=n(333),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,d=u.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},function(e,t,n){var r=n(219),o=n(221);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){var r,o=n(332),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(167)["__core-js_shared__"];e.exports=r},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(122),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(122),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(122);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(340),o=n(341),i=n(343),a=n(344),s=n(345);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(123),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(123);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(123);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(123);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(220)(n(167),"Map");e.exports=r},function(e,t,n){var r=n(124);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(124);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(124);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(124);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(353);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(166),o=n(354),i=n(164),a=n(165),s=r?r.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(165);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,n){"use strict";var r=n(163);e.exports=function(e){var t=r(e,"ownerDocument.defaultView");return t?t.getComputedStyle(e):{}}},function(e,t,n){"use strict";var r=n(358);e.exports=function(e,t,n){return e?r(e.parentElement,t,n):null}},function(e,t,n){"use strict";var r=n(222);e.exports=function(e,t,n){for(t=r(t),n=r(n);e&&(!n||!n(e));){if(t(e))return e;e=e.parentElement}return null}},function(e,t,n){"use strict";var r="undefined"!=typeof Element?Element.prototype:{},o=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;e.exports=function(e,t){if(!e||1!==e.nodeType)return!1;if(o)return o.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1}},function(e,t,n){"use strict";var r=n(162),o=n(361),i=n(168).DOCUMENT;e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[];return t&&r(e,n)&&a.push(e),a.concat(o(e,(function(e){return r(e,n)}),(function(e){return e.nodeType===i})))}},function(e,t,n){"use strict";var r=n(222);e.exports=function(e,t,n){t=r(t),n=r(n),e=e.parentElement;for(var o=[];e&&(!n||!n(e));)t&&!t(e)||o.push(e),e=e.parentElement;return o}},function(e,t,n){"use strict";e.exports=function(e){return e&&"HTML"===e.nodeName?e.ownerDocument:e}},function(e,t,n){"use strict";var r=n(121),o=r(n(364)),i=r(n(366));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s=n(163),c=n(125),u=n(218),l=n(223),d=n(224),f=n(225),p=/(body|html)/i,h=function(e,t,n,r){return e[0]-n<t[0]||r&&e[1]+n>t[1]?Math.round(e[0]-t[0]-n):e[1]+n>t[1]?Math.round(e[1]-t[1]+n):0},m=function(e){var t=e.getClientRects()[0],n=e.ownerDocument.defaultView.innerWidth,r=e.ownerDocument.defaultView.innerHeight;p.test(e.nodeName)||(n=Math.min(e.clientWidth||e.scrollWidth,n),r=Math.min(e.clientHeight||e.scrollHeight,r));var o=t.left+e.scrollLeft,i=t.top+e.scrollTop;return{width:n,height:r,left:o,top:i,right:o+n,bottom:i+r}},y=function(e,t){"boolean"==typeof e&&(e={anchorToTopLeft:e});var n=e,r=n.scrollNode,o=n.offset;return r||(r=u(t)),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{scrollNode:r=c(r),offset:o=f(o,30)})};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=y(t,e),r=n.scrollNode,i=n.anchorToTopLeft,a=n.offset,c=(0,o.default)(n,["scrollNode","anchorToTopLeft","offset"]);if(!r||!s(r,"ownerDocument.defaultView"))return null;var u=e.getClientRects()[0],f=m(r),p=h([u.left,u.right],[f.left,f.right],a,i),v=h([u.top,u.bottom],[f.top,f.bottom],a,i);if(Math.abs(p)<1&&Math.abs(v)<1)return null;var g=r.scrollWidth-f.width,b=r.scrollHeight-f.height;return l(r,{left:d(r.scrollLeft+p,0,g),top:d(r.scrollTop+v,0,b)},c)}},function(e,t,n){var r=n(365);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(121),o=r(n(368)),i=r(n(369)),a=n(370),s=n(373),c=n(169),u=function(){function e(t,n){if((0,o.default)(this,e),"function"!=typeof t)throw new Error("[Tween] First parameter needs to be a function.");var r=n.duration,i=n.easing,a=n.onEnd;if(void 0!==r&&!c(r))throw new Error("[Tween] Duration is not a finite number.");this.fn=t,this.duration=void 0===r?300:r,this.easingFn=s[i||"linear"],this.onEnd=a}return(0,i.default)(e,[{key:"start",value:function(){var e=this;this.next=a((function(){e.startTime=(new Date).getTime(),e.tween()}))}},{key:"end",value:function(){this.cancelNext(),this.fn(1),"function"==typeof this.onEnd&&this.onEnd()}},{key:"cancelNext",value:function(){this.next&&(a.cancel(this.next),this.next=null)}},{key:"pause",value:function(){this.next&&(this.cancelNext(),this.pausedTime=(new Date).getTime())}},{key:"resume",value:function(){var e=this;this.pausedTime&&(this.next=a((function(){var t=(new Date).getTime()-e.pausedTime;e.startTime+=t,e.tween(),delete e.pausedTime})))}},{key:"isPaused",value:function(){return!!this.pausedTime}},{key:"isRunning",value:function(){return!!this.next}},{key:"getMultiplier",value:function(e){return this.easingFn(e,0,1,1)}},{key:"tween",value:function(){this.next=null;var e=(new Date).getTime(),t=this.duration,n=e-this.startTime;n>=t?this.end():(this.fn(this.getMultiplier(n/t)),this.next=a(this.tween.bind(this)))}}]),e}(),l=["start","end","resume","pause","isRunning","isPaused"];e.exports=function e(t,n){var r=this;(0,o.default)(this,e);var i=new u(t,n);l.forEach((function(e){r[e]=function(){return i[e]()}}))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){(function(t){for(var r=n(371),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],c=o["cancel"+a]||o["cancelRequest"+a],u=0;!s&&u<i.length;u++)s=o[i[u]+"Request"+a],c=o[i[u]+"Cancel"+a]||o[i[u]+"CancelRequest"+a];if(!s||!c){var l=0,d=0,f=[];s=function(e){if(0===f.length){var t=r(),n=Math.max(0,1e3/60-(t-l));l=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){c.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}}).call(this,n(75))},function(e,t,n){(function(t){(function(){var n,r,o,i,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,i=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),a=i-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(372))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";t.__esModule=!0;var r={linear:function(e,t,n,r){return n*e/r+t},easeInQuad:function(e,t,n,r){return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){var o;return null!==(o=0===e)?o:{b:n*Math.pow(2,10*(e/r-1))+t}},easeOutExpo:function(e,t,n,r){var o;return null!==(o=e===r)?o:t+{c:n*(1-Math.pow(2,-10*e/r))+t}},easeInOutExpo:function(e,t,n,r){return(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,n,r){var o,i,a;return a=1.70158,0===e||(e/=r),(i=0)||(i=.3*r),(o=n)<Math.abs(n)?(o=n,a=i/4):a=i/(2*Math.PI)*Math.asin(n/o),-o*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/i)+t},easeOutElastic:function(e,t,n,r){var o,i,a;return a=1.70158,0===e||(e/=r),(i=0)||(i=.3*r),(o=n)<Math.abs(n)?(o=n,a=i/4):a=i/(2*Math.PI)*Math.asin(n/o),o*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/i)+n+t},easeInOutElastic:function(e,t,n,r){var o,i,a;return a=1.70158,0===e||(e/=r/2),(i=0)||(i=r*(.3*1.5)),(o=n)<Math.abs(n)?(o=n,a=i/4):a=i/(2*Math.PI)*Math.asin(n/o),e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/i)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/i)*.5+n+t},easeInBack:function(e,t,n,r,o){return void 0===o&&(o=1.70158),n*(e/=r)*e*((o+1)*e-o)+t},easeOutBack:function(e,t,n,r,o){return void 0===o&&(o=1.70158),n*((e=e/r-1)*e*((o+1)*e+o)+1)+t},easeInOutBack:function(e,t,n,r,o){return void 0===o&&(o=1.70158),(e/=r/2)<1?n/2*(e*e*((1+(o*=1.525))*e-o))+t:n/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+t},easeInBounce:function(e,t,n,o){return n-r.easeOutBounce(o-e,0,n,o)+t},easeOutBounce:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,n,o){return e<o/2?.5*r.easeInBounce(2*e,0,n,o)+t:.5*r.easeOutBounce(2*e-o,0,n,o)+.5*n+t}};t.default=r,e.exports=t.default},function(e,t,n){"use strict";var r=n(18),o=n(375);r({target:"String",proto:!0,forced:n(376)("link")},{link:function(e){return o(this,"a","href",e)}})},function(e,t,n){var r=n(53),o=/"/g;e.exports=function(e,t,n,i){var a=String(r(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+a+"</"+t+">"}},function(e,t,n){var r=n(28);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,n){"use strict";var r=n(18),o=n(378),i=n(47),a=n(44),s=n(57),c=n(106);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),n=a(t.length),r=c(t,0);return r.length=o(r,t,t,n,0,void 0===e?1:s(e)),r}})},function(e,t,n){"use strict";var r=n(87),o=n(44),i=n(69),a=function(e,t,n,s,c,u,l,d){for(var f,p=c,h=0,m=!!l&&i(l,d,3);h<s;){if(h in n){if(f=m?m(n[h],h,t):n[h],u>0&&r(f))p=a(e,t,f,o(f.length),p,u-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=f}p++}h++}return p};e.exports=a},function(e,t,n){n(78)("flat")},function(e,t,n){"use strict";var r=n(226),o=n(228);e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,n){var r=n(28);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,n){"use strict";var r=n(18),o=n(62).every,i=n(64),a=n(51),s=i("every"),c=a("every");r({target:"Array",proto:!0,forced:!s||!c},{every:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoAutoplayTest=t.VideoFilterPropertyValues=t.VideoBackground=void 0,n(384);var r=n(385);t.VideoBackground=r.VideoBackground,t.VideoFilterPropertyValues=r.VideoFilterPropertyValues,t.videoAutoplayTest=r.videoAutoplayTest},function(e,t){!function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoAutoplayTest=t.VideoFilterPropertyValues=t.VideoBackground=void 0;var r=a(n(386)),o=n(230),i=a(n(229));function a(e){return e&&e.__esModule?e:{default:e}}t.VideoBackground=r.default,t.VideoFilterPropertyValues=o.filterProperties,t.videoAutoplayTest=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(387)),i=d(n(229)),a=n(390),s=n(395),c=n(171),u=n(230),l=n(170);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p={vimeo:{api:a.initializeVimeoAPI,player:a.initializeVimeoPlayer},youtube:{api:s.initializeYouTubeAPI,player:s.initializeYouTubePlayer}},h=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;f(this,e),this.windowContext=r,this.events=[],this.browserCanAutoPlay=!1,this.videoCanAutoPlay=!1,this.setInstanceProperties(t),this.renderFallbackBehavior(),(0,i.default)().then((function(e){n.logger(e),n.browserCanAutoPlay=!0,n.initializeVideoAPI()}),(function(e){n.logger(e),n.browserCanAutoPlay=!1})).then((function(){n.setDisplayEffects(),n.bindUI(),!0===n.DEBUG.enabled&&(window.vdbg=n)}))}return r(e,[{key:"destroy",value:function(){this.events&&this.events.forEach((function(e){return e.target.removeEventListener(e.type,e.handler,!0)})),this.events=null,this.player&&"function"==typeof this.player.destroy&&(this.player.iframe&&this.player.iframe.classList.remove("ready"),this.player.destroy(),this.player={}),"number"==typeof this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"bindUI",value:function(){var e=this,t=function(){e.windowContext.requestAnimationFrame((function(){e.scaleVideo()}))};this.events.push({target:this.windowContext,type:"resize",handler:t}),this.windowContext.addEventListener("resize",t,!0)}},{key:"setInstanceProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(1===(e=(0,o.default)({},c.DEFAULT_PROPERTY_VALUES,e)).container.nodeType?this.container=e.container:"string"==typeof e.container&&(this.container=document.querySelector(e.container)),!this.container)return console.error("Container "+e.container+" not found"),!1;this.videoSource=(0,l.getVideoSource)(e.url),this.videoId=(0,l.getVideoID)(e.url,this.videoSource),this.customFallbackImage=(0,l.validatedImage)(e.customFallbackImage||e.container.querySelector("img")),this.filter=e.filter,this.filterStrength=e.filterStrength,this.fitMode=e.fitMode,this.scaleFactor=e.scaleFactor,this.playbackSpeed=parseFloat(e.playbackSpeed)<.5?1:parseFloat(e.playbackSpeed),this.timeCode={start:(0,l.getStartTime)(e.url,this.videoSource)||e.timeCode.start,end:e.timeCode.end},this.player={},this.DEBUG=e.DEBUG}},{key:"onFallbackImageLoaded",value:function(){this.customFallbackImage.classList.add("loaded")}},{key:"setFallbackImage",value:function(){var e=this,t=this.customFallbackImage;t&&(t.hasAttribute("src")&&t.complete?this.onFallbackImageLoaded():(t.addEventListener("load",(function(){e.onFallbackImageLoaded()}),{once:!0}),this.windowContext.ImageLoader?this.windowContext.ImageLoader.load(t,{load:!0}):t.src=t.src))}},{key:"initializeVideoAPI",value:function(){var e=this;this.browserCanAutoPlay&&this.videoSource&&this.videoId?(this.player.ready=!1,(0,p[this.videoSource].api)(this.windowContext).then((function(t){e.logger(t),e.player.ready=!1,e.initializeVideoPlayer()})).catch((function(t){document.body.classList.add("ready"),e.logger(t)}))):document.body.classList.add("ready")}},{key:"initializeVideoPlayer",value:function(){var e=this;if(this.player.ready){try{this.player.destroy()}catch(e){}this.player.ready=!1}(0,p[this.videoSource].player)({instance:this,container:this.container,win:this.windowContext,videoId:this.videoId,startTime:this.timeCode.start,speed:this.playbackSpeed,readyCallback:function(){e.player.iframe.classList.add("background-video"),e.videoAspectRatio=(0,l.findPlayerAspectRatio)(e.container,e.player,e.videoSource),e.syncPlayer();var t=new CustomEvent("ready");e.container.dispatchEvent(t)},stateChangeCallback:function(t,n){switch(t){case"playing":e.videoCanAutoPlay||(e.logger("video started playing"),e.videoCanAutoPlay=!0,e.player.ready=!0,e.player.iframe.classList.add("ready"),e.container.classList.remove("mobile"))}t&&e.logger(t),n&&e.logger(n)}}).then((function(t){e.player=t}),(function(t){e.logger(t)}))}},{key:"renderFallbackBehavior",value:function(){this.setFallbackImage(),this.container.classList.add("mobile"),this.logger("added mobile")}},{key:"syncPlayer",value:function(){this.setDisplayEffects(),this.setSpeed(),this.scaleVideo()}},{key:"scaleVideo",value:function(e){this.setFallbackImage();var t=this.player.iframe;if(t){var n=e||this.scaleFactor;if("fill"!==this.fitMode)return t.style.width="",void(t.style.height="");var r=t.parentNode.clientWidth,o=t.parentNode.clientHeight,i=r/o,a=0,s=0;i>this.videoAspectRatio?(a=r*n,s=r*n/this.videoAspectRatio):this.videoAspectRatio>i?(a=o*n*this.videoAspectRatio,s=o*n):(a=r*n,s=o*n),t.style.width=a+"px",t.style.height=s+"px",t.style.left=0-(a-r)/2+"px",t.style.top=0-(s-o)/2+"px"}}},{key:"setSpeed",value:function(e){this.playbackSpeed=parseFloat(this.playbackSpeed),this.player.setPlaybackRate&&this.player.setPlaybackRate(this.playbackSpeed)}},{key:"setDisplayEffects",value:function(){this.setFilter()}},{key:"setFilter",value:function(){var e=this.container.style,t=u.filterOptions[this.filter-1],n="";"none"!==t&&(n=this.getFilterStyle(t,this.filterStrength));var r="blur"===t;e.webkitFilter=r?"":n,e.filter=r?"":n,this.container.classList.toggle("filter-blur",r),Array.prototype.slice.call(this.container.children).forEach((function(e){e.style.webkitFilter=r?n:"",e.style.filter=r?n:""}))}},{key:"getFilterStyle",value:function(e,t){return e+"("+(u.filterProperties[e].modifier(t)+u.filterProperties[e].unit)+")"}},{key:"logger",value:function(e){this.DEBUG.enabled&&this.DEBUG.verbose&&this.windowContext.console.log(e)}}]),e}();t.default=h},function(e,t,n){(function(e,n){var r=/^\[object .+?Constructor\]$/,o=/^(?:0|[1-9]\d*)$/,i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1;var a="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,c=a||s||Function("return this")(),u=t&&!t.nodeType&&t,l=u&&"object"==typeof n&&n&&!n.nodeType&&n,d=l&&l.exports===u,f=d&&a.process,p=function(){try{var e=l&&l.require&&l.require("util").types;return e||f&&f.binding&&f.binding("util")}catch(e){}}(),h=p&&p.isTypedArray;function m(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var y,v,g,b=Array.prototype,w=Function.prototype,S=Object.prototype,A=c["__core-js_shared__"],O=w.toString,x=S.hasOwnProperty,P=(y=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",E=S.toString,k=O.call(Object),T=RegExp("^"+O.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=d?c.Buffer:void 0,j=c.Symbol,I=c.Uint8Array,L=C?C.allocUnsafe:void 0,R=(v=Object.getPrototypeOf,g=Object,function(e){return v(g(e))}),_=Object.create,D=S.propertyIsEnumerable,M=b.splice,F=j?j.toStringTag:void 0,B=function(){try{var e=ue(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),z=C?C.isBuffer:void 0,N=Math.max,W=Date.now,U=ue(c,"Map"),H=ue(Object,"create"),q=function(){function e(){}return function(t){if(!Se(t))return{};if(_)return _(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function V(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(e){var t=this.__data__=new G(e);this.size=t.size}function Q(e,t){var n=ye(e),r=!n&&me(e),o=!n&&!r&&ge(e),i=!n&&!r&&!o&&Oe(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=s.length;for(var u in e)!t&&!x.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||le(u,c))||s.push(u);return s}function Z(e,t,n){(void 0!==n&&!he(e[t],n)||void 0===n&&!(t in e))&&$(e,t,n)}function J(e,t,n){var r=e[t];x.call(e,t)&&he(r,n)&&(void 0!==n||t in e)||$(e,t,n)}function K(e,t){for(var n=e.length;n--;)if(he(e[n][0],t))return n;return-1}function $(e,t,n){"__proto__"==t&&B?B(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}V.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},V.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},V.prototype.get=function(e){var t=this.__data__;if(H){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return x.call(t,e)?t[e]:void 0},V.prototype.has=function(e){var t=this.__data__;return H?void 0!==t[e]:x.call(t,e)},V.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H&&void 0===t?"__lodash_hash_undefined__":t,this},G.prototype.clear=function(){this.__data__=[],this.size=0},G.prototype.delete=function(e){var t=this.__data__,n=K(t,e);return!(n<0)&&(n==t.length-1?t.pop():M.call(t,n,1),--this.size,!0)},G.prototype.get=function(e){var t=this.__data__,n=K(t,e);return n<0?void 0:t[n][1]},G.prototype.has=function(e){return K(this.__data__,e)>-1},G.prototype.set=function(e,t){var n=this.__data__,r=K(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Y.prototype.clear=function(){this.size=0,this.__data__={hash:new V,map:new(U||G),string:new V}},Y.prototype.delete=function(e){var t=ce(this,e).delete(e);return this.size-=t?1:0,t},Y.prototype.get=function(e){return ce(this,e).get(e)},Y.prototype.has=function(e){return ce(this,e).has(e)},Y.prototype.set=function(e,t){var n=ce(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},X.prototype.clear=function(){this.__data__=new G,this.size=0},X.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},X.prototype.get=function(e){return this.__data__.get(e)},X.prototype.has=function(e){return this.__data__.has(e)},X.prototype.set=function(e,t){var n=this.__data__;if(n instanceof G){var r=n.__data__;if(!U||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Y(r)}return n.set(e,t),this.size=n.size,this};var ee,te=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[ee?a:++r];if(!1===t(o[s],s,o))break}return e};function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=x.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(e){}var o=E.call(e);r&&(t?e[F]=n:delete e[F]);return o}(e):function(e){return E.call(e)}(e)}function re(e){return Ae(e)&&"[object Arguments]"==ne(e)}function oe(e){return!(!Se(e)||function(e){return!!P&&P in e}(e))&&(be(e)?T:r).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ie(e){if(!Se(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=de(e),n=[];for(var r in e)("constructor"!=r||!t&&x.call(e,r))&&n.push(r);return n}function ae(e,t,n,r,o){e!==t&&te(t,(function(i,a){if(o||(o=new X),Se(i))!function(e,t,n,r,o,i,a){var s=fe(e,n),c=fe(t,n),u=a.get(c);if(u)return void Z(e,n,u);var l=i?i(s,c,n+"",e,t,a):void 0,d=void 0===l;if(d){var f=ye(c),p=!f&&ge(c),h=!f&&!p&&Oe(c);l=c,f||p||h?ye(s)?l=s:Ae(b=s)&&ve(b)?l=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):p?(d=!1,l=function(e,t){if(t)return e.slice();var n=e.length,r=L?L(n):new e.constructor(n);return e.copy(r),r}(c,!0)):h?(d=!1,m=c,y=!0?(v=m.buffer,g=new v.constructor(v.byteLength),new I(g).set(new I(v)),g):m.buffer,l=new m.constructor(y,m.byteOffset,m.length)):l=[]:function(e){if(!Ae(e)||"[object Object]"!=ne(e))return!1;var t=R(e);if(null===t)return!0;var n=x.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&O.call(n)==k}(c)||me(c)?(l=s,me(s)?l=function(e){return function(e,t,n,r){var o=!n;n||(n={});var i=-1,a=t.length;for(;++i<a;){var s=t[i],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),o?$(n,s,c):J(n,s,c)}return n}(e,xe(e))}(s):Se(s)&&!be(s)||(l=function(e){return"function"!=typeof e.constructor||de(e)?{}:q(R(e))}(c))):d=!1}var m,y,v,g;var b;d&&(a.set(c,l),o(l,c,r,i,a),a.delete(c));Z(e,n,l)}(e,t,a,n,ae,r,o);else{var s=r?r(fe(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),Z(e,a,s)}}),xe)}function se(e,t){return pe(function(e,t,n){return t=N(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=N(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),m(e,this,s)}}(e,t,ke),e+"")}function ce(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return oe(n)?n:void 0}function le(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&o.test(e))&&e>-1&&e%1==0&&e<t}function de(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||S)}function fe(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var pe=function(e){var t=0,n=0;return function(){var r=W(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(B?function(e,t){return B(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:ke);function he(e,t){return e===t||e!=e&&t!=t}var me=re(function(){return arguments}())?re:function(e){return Ae(e)&&x.call(e,"callee")&&!D.call(e,"callee")},ye=Array.isArray;function ve(e){return null!=e&&we(e.length)&&!be(e)}var ge=z||function(){return!1};function be(e){if(!Se(e))return!1;var t=ne(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function we(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Se(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==typeof e}var Oe=h?function(e){return function(t){return e(t)}}(h):function(e){return Ae(e)&&we(e.length)&&!!i[ne(e)]};function xe(e){return ve(e)?Q(e,!0):ie(e)}var Pe,Ee=(Pe=function(e,t,n){ae(e,t,n)},se((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=Pe.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!Se(n))return!1;var r=typeof t;return!!("number"==r?ve(n)&&le(t,n.length):"string"==r&&t in n)&&he(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&Pe(e,a,n,o)}return e})));function ke(e){return e}n.exports=Ee}).call(this,n(75),n(388)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OggVideo="data:video/ogg;base64,T2dnUwACAAAAAAAAAABmnCATAAAAAHDEixYBKoB0aGVvcmEDAgEAAQABAAAQAAAQAAAAAAAFAAAAAQAAAAAAAAAAAGIAYE9nZ1MAAAAAAAAAAAAAZpwgEwEAAAACrA7TDlj///////////////+QgXRoZW9yYSsAAABYaXBoLk9yZyBsaWJ0aGVvcmEgMS4xIDIwMDkwODIyIChUaHVzbmVsZGEpAQAAABoAAABFTkNPREVSPWZmbXBlZzJ0aGVvcmEtMC4yOYJ0aGVvcmG+zSj3uc1rGLWpSUoQc5zmMYxSlKQhCDGMYhCEIQhAAAAAAAAAAAAAEW2uU2eSyPxWEvx4OVts5ir1aKtUKBMpJFoQ/nk5m41mUwl4slUpk4kkghkIfDwdjgajQYC8VioUCQRiIQh8PBwMhgLBQIg4FRba5TZ5LI/FYS/Hg5W2zmKvVoq1QoEykkWhD+eTmbjWZTCXiyVSmTiSSCGQh8PB2OBqNBgLxWKhQJBGIhCHw8HAyGAsFAiDgUCw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDw8PDAwPEhQUFQ0NDhESFRUUDg4PEhQVFRUOEBETFBUVFRARFBUVFRUVEhMUFRUVFRUUFRUVFRUVFRUVFRUVFRUVEAwLEBQZGxwNDQ4SFRwcGw4NEBQZHBwcDhATFhsdHRwRExkcHB4eHRQYGxwdHh4dGxwdHR4eHh4dHR0dHh4eHRALChAYKDM9DAwOExo6PDcODRAYKDlFOA4RFh0zV1A+EhYlOkRtZ00YIzdAUWhxXDFATldneXhlSFxfYnBkZ2MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEhIVGRoaGhoSFBYaGhoaGhUWGRoaGhoaGRoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhESFh8kJCQkEhQYIiQkJCQWGCEkJCQkJB8iJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJCQREhgvY2NjYxIVGkJjY2NjGBo4Y2NjY2MvQmNjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRUVFRISEhUXGBkbEhIVFxgZGxwSFRcYGRscHRUXGBkbHB0dFxgZGxwdHR0YGRscHR0dHhkbHB0dHR4eGxwdHR0eHh4REREUFxocIBERFBcaHCAiERQXGhwgIiUUFxocICIlJRcaHCAiJSUlGhwgIiUlJSkcICIlJSUpKiAiJSUlKSoqEBAQFBgcICgQEBQYHCAoMBAUGBwgKDBAFBgcICgwQEAYHCAoMEBAQBwgKDBAQEBgICgwQEBAYIAoMEBAQGCAgAfF5cdH1e3Ow/L66wGmYnfIUbwdUTe3LMRbqON8B+5RJEvcGxkvrVUjTMrsXYhAnIwe0dTJfOYbWrDYyqUrz7dw/JO4hpmV2LsQQvkUeGq1BsZLx+cu5iV0e0eScJ91VIQYrmqfdVSK7GgjOU0oPaPOu5IcDK1mNvnD+K8LwS87f8Jx2mHtHnUkTGAurWZlNQa74ZLSFH9oF6FPGxzLsjQO5Qe0edcpttd7BXBSqMCL4k/4tFrHIPuEQ7m1/uIWkbDMWVoDdOSuRQ9286kvVUlQjzOE6VrNguN4oRXYGkgcnih7t13/9kxvLYKQezwLTrO44sVmMPgMqORo1E0sm1/9SludkcWHwfJwTSybR4LeAz6ugWVgRaY8mV/9SluQmtHrzsBtRF/wPY+X0JuYTs+ltgrXAmlk10xQHmTu9VSIAk1+vcvU4ml2oNzrNhEtQ3CysNP8UeR35wqpKUBdGdZMSjX4WVi8nJpdpHnbhzEIdx7mwf6W1FKAiucMXrWUWVjyRf23chNtR9mIzDoT/6ZLYailAjhFlZuvPtSeZ+2oREubDoWmT3TguY+JHPdRVSLKxfKH3vgNqJ/9emeEYikGXDFNzaLjvTeGAL61mogOoeG3y6oU4rW55ydoj0lUTSR/mmRhPmF86uwIfzp3FtiufQCmppaHDlGE0r2iTzXIw3zBq5hvaTldjG4CPb9wdxAme0SyedVKczJ9AtYbgPOzYKJvZZImsN7ecrxWZg5dR6ZLj/j4qpWsIA+vYwE+Tca9ounMIsrXMB4Stiib2SPQtZv+FVIpfEbzv8ncZoLBXc3YBqTG1HsskTTotZOYTG+oVUjLk6zhP8bg4RhMUNtfZdO7FdpBuXzhJ5Fh8IKlJG7wtD9ik8rWOJxy6iQ3NwzBpQ219mlyv+FLicYs2iJGSE0u2txzed++D61ZWCiHD/cZdQVCqkO2gJpdpNaObhnDfAPrT89RxdWFZ5hO3MseBSIlANppdZNIV/Rwe5eLTDvkfWKzFnH+QJ7m9QWV1KdwnuIwTNtZdJMoXBf74OhRnh2t+OTGL+AVUnIkyYY+QG7g9itHXyF3OIygG2s2kud679ZWKqSFa9n3IHD6MeLv1lZ0XyduRhiDRtrNnKoyiFVLcBm0ba5Yy3fQkDh4XsFE34isVpOzpa9nR8iCpS4HoxG2rJpnRhf3YboVa1PcRouh5LIJv/uQcPNd095ickTaiGBnWLKVWRc0OnYTSyex/n2FofEPnDG8y3PztHrzOLK1xo6RAml2k9owKajOC0Wr4D5x+3nA0UEhK2m198wuBHF3zlWWVKWLN1CHzLClUfuoYBcx4b1llpeBKmbayaR58njtE9onD66lUcsg0Spm2snsb+8HaJRn4dYcLbCuBuYwziB8/5U1C1DOOz2gZjSZtrLJk6vrLF3hwY4Io9xuT/ruUFRSBkNtUzTOWhjh26irLEPx4jPZL3Fo3QrReoGTTM21xYTT9oFdhTUIvjqTkfkvt0bzgVUjq/hOYY8j60IaO/0AzRBtqkTS6R5ellZd5uKdzzhb8BFlDdAcrwkE0rbXTOPB+7Y0FlZO96qFL4Ykg21StJs8qIW7h16H5hGiv8V2Cflau7QVDepTAHa6Lgt6feiEvJDM21StJsmOH/hynURrKxvUpQ8BH0JF7BiyG2qZpnL/7AOU66gt+reLEXY8pVOCQvSsBtqZTNM8bk9ohRcwD18o/WVkbvrceVKRb9I59IEKysjBeTMmmbA21xu/6iHadLRxuIzkLpi8wZYmmbbWi32RVAUjruxWlJ//iFxE38FI9hNKOoCdhwf5fDe4xZ81lgREhK2m1j78vW1CqkuMu/AjBNK210kzRUX/B+69cMMUG5bYrIeZxVSEZISmkzbXOi9yxwIfPgdsov7R71xuJ7rFcACjG/9PzApqFq7wEgzNJm2suWESPuwrQvejj7cbnQxMkxpm21lUYJL0fKmogPPqywn7e3FvB/FCNxPJ85iVUkCE9/tLKx31G4CgNtWTTPFhMvlu8G4/TrgaZttTChljfNJGgOT2X6EqpETy2tYd9cCBI4lIXJ1/3uVUllZEJz4baqGF64yxaZ+zPLYwde8Uqn1oKANtUrSaTOPHkhvuQP3bBlEJ/LFe4pqQOHUI8T8q7AXx3fLVBgSCVpMba55YxN3rv8U1Dv51bAPSOLlZWebkL8vSMGI21lJmmeVxPRwFlZF1CpqCN8uLwymaZyjbXHCRytogPN3o/n74CNykfT+qqRv5AQlHcRxYrC5KvGmbbUwmZY/29BvF6C1/93x4WVglXDLFpmbapmF89HKTogRwqqSlGbu+oiAkcWFbklC6Zhf+NtTLFpn8oWz+HsNRVSgIxZWON+yVyJlE5tq/+GWLTMutYX9ekTySEQPLVNQQ3OfycwJBM0zNtZcse7CvcKI0V/zh16Dr9OSA21MpmmcrHC+6pTAPHPwoit3LHHqs7jhFNRD6W8+EBGoSEoaZttTCZljfduH/fFisn+dRBGAZYtMzbVMwvul/T/crK1NQh8gN0SRRa9cOux6clC0/mDLFpmbarmF8/e6CopeOLCNW6S/IUUg3jJIYiAcDoMcGeRbOvuTPjXR/tyo79LK3kqqkbxkkMRAOB0GODPItnX3Jnxro/25Ud+llbyVVSN4ySGIgHA6DHBnkWzr7kz410f7cqO/Syt5KqpFVJwn6gBEvBM0zNtZcpGOEPiysW8vvRd2R0f7gtjhqUvXL+gWVwHm4XJDBiMpmmZtrLfPwd/IugP5+fKVSysH1EXreFAcEhelGmbbUmZY4Xdo1vQWVnK19P4RuEnbf0gQnR+lDCZlivNM22t1ESmopPIgfT0duOfQrsjgG4tPxli0zJmF5trdL1JDUIUT1ZXSqQDeR4B8mX3TrRro/2McGeUvLtwo6jIEKMkCUXWsLyZROd9P/rFYNtXPBli0z398iVUlVKAjFlY437JXImUTm2r/4ZYtMy61hf16RPJIU9nZ1MABAwAAAAAAAAAZpwgEwIAAABhp658BScAAAAAAADnUFBQXIDGXLhwtttNHDhw5OcpQRMETBEwRPduylKVB0HRdF0A",t.Mp4Video="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAs1tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTEgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEwIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAD2WIhAA3//728P4FNjuZQQAAAu5tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAZAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACGHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAgAAAAIAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAGQAAAAAAAEAAAAAAZBtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACgAAAAEAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAE7bWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAA+3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAgACAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAAr/4QAYZ2QACqzZX4iIhAAAAwAEAAADAFA8SJZYAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAEAAAQAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAAAsUAAAABAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ=="},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeVimeoPlayer=t.initializeVimeoAPI=void 0;var r=n(170),o=n(171),i=void 0,a="*",s=null,c=function(e,t){var n={method:e};t&&(n.value=t);var r=JSON.stringify(n);i.ownerDocument.defaultView.eval("(function(playerIframe){ playerIframe.contentWindow.postMessage("+r+", "+JSON.stringify(a)+") })")(i)};t.initializeVimeoAPI=function(){return new Promise((function(e,t){e("no api needed")}))},t.initializeVimeoPlayer=function(e){var t=e.win,n=e.instance,u=e.container,l=e.videoId,d=e.startTime,f=e.readyCallback,p=e.stateChangeCallback;return new Promise((function(e,h){var m=n.logger||function(){};(i=t.document.createElement("iframe")).id="vimeoplayer";i.src="//player.vimeo.com/video/"+l+"?api=1&background=1",(0,r.getPlayerElement)(u).appendChild(i);var y={iframe:i,setPlaybackRate:function(){}};e(y);var v=function(){c("getDuration"),c("getVideoHeight"),c("getVideoWidth")},g=null,b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(e||y.dimensions.width&&y.dimensions.height&&y.duration)&&(e&&v(),y.dimensions.width=y.dimensions.width||y.iframe.parentNode.offsetWidth,y.dimensions.height=y.dimensions.height||y.iframe.parentNode.offsetHeight,y.duration=y.duration||10,c("setVolume","0"),c("setLoop","true"),c("seekTo",d),c("addEventListener","playProgress"),f(y))},w=function(e){if(!/^https?:\/\/player.vimeo.com/.test(e.origin))return!1;a=e.origin;var t=e.data;switch("string"==typeof t&&(t=JSON.parse(t)),t.event){case"ready":s&&(clearTimeout(s),s=null),y.dimensions||(y.dimensions={},v(),p("buffering"),g=setTimeout((function(){m.call(n,"retrying"),b(!0)}),.75*o.TIMEOUT));break;case"playProgress":case"timeupdate":g&&(clearTimeout(g),g=null),p("playing",t),c("setVolume","0"),t.data.percent>=.98&&d>0&&c("seekTo",d)}switch(t.method){case"getVideoHeight":m.call(n,t.method),y.dimensions.height=t.value,b();break;case"getVideoWidth":m.call(n,t.method),y.dimensions.width=t.value,b();break;case"getDuration":m.call(n,t.method),y.duration=t.value,d>=y.duration&&(d=0),b()}},S=function(e){w(e)};t.addEventListener("message",S,!1),y.destroy=function(){t.removeEventListener("message",S),y.iframe.parentElement&&y.iframe.parentElement.removeChild(y.iframe)},s=setTimeout((function(){h("Ran out of time")}),o.TIMEOUT)}))}},function(e,t,n){"use strict";(function(t){var r=n(392),o=n(393),i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function d(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},o={},a=typeof(e=e||r);if("blob:"===e.protocol)o=new p(unescape(e.pathname),{});else if("string"===a)for(n in o=new p(e,{}),l)delete o[n];else if("object"===a){for(n in e)n in l||(o[n]=e[n]);void 0===o.slashes&&(o.slashes=i.test(e.href))}return o}function f(e){e=c(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function p(e,t,n){if(e=c(e),!(this instanceof p))return new p(e,t,n);var i,a,s,l,h,m,y=u.slice(),v=typeof t,g=this,b=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),t=d(t),i=!(a=f(e||"")).protocol&&!a.slashes,g.slashes=a.slashes||i&&t.slashes,g.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(y[3]=[/(.*)/,"pathname"]);b<y.length;b++)"function"!=typeof(l=y[b])?(s=l[0],m=l[1],s!=s?g[m]=e:"string"==typeof s?~(h=e.indexOf(s))&&("number"==typeof l[2]?(g[m]=e.slice(0,h),e=e.slice(h+l[2])):(g[m]=e.slice(h),e=e.slice(0,h))):(h=s.exec(e))&&(g[m]=h[1],e=e.slice(0,h.index)),g[m]=g[m]||i&&l[3]&&t[m]||"",l[4]&&(g[m]=g[m].toLowerCase())):e=l(e);n&&(g.query=n(g.query)),i&&t.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==t.pathname)&&(g.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(g.pathname,t.pathname)),r(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(l=g.auth.split(":"),g.username=l[0]||"",g.password=l[1]||""),g.origin=g.protocol&&g.host&&"file:"!==g.protocol?g.protocol+"//"+g.host:"null",g.href=g.toString()}p.prototype={set:function(e,t,n){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),i[e]=t;break;case"port":i[e]=t,r(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";i[e]=t.charAt(0)!==a?a+t:t}else i[e]=t;break;default:i[e]=t}for(var s=0;s<u.length;s++){var c=u[s];c[4]&&(i[c[1]]=i[c[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}},p.extractProtocol=f,p.location=d,p.trimLeft=c,p.qs=o,e.exports=p}).call(this,n(75))},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,o,i=[];for(o in"string"!=typeof t&&(t="?"),e)if(r.call(e,o)){if((n=e[o])||null!=n&&!isNaN(n)||(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;i.push(o+"="+n)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=o(t[1]),a=o(t[2]);null===i||null===a||i in r||(r[i]=a)}return r}},function(e,t,n){(function(t){var n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/,o=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=/^\[object .+?Constructor\]$/,c="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,l=c||u||Function("return this")();var d,f=Array.prototype,p=Function.prototype,h=Object.prototype,m=l["__core-js_shared__"],y=(d=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",v=p.toString,g=h.hasOwnProperty,b=h.toString,w=RegExp("^"+v.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=l.Symbol,A=f.splice,O=_(l,"Map"),x=_(Object,"create"),P=S?S.prototype:void 0,E=P?P.toString:void 0;function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function I(e,t){for(var o,i=0,a=(t=function(e,t){if(B(e))return!1;var o=typeof e;if("number"==o||"symbol"==o||"boolean"==o||null==e||N(e))return!0;return r.test(e)||!n.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:B(o=t)?o:D(o)).length;null!=e&&i<a;)e=e[M(t[i++])];return i&&i==a?e:void 0}function L(e){return!(!z(e)||(t=e,y&&y in t))&&(function(e){var t=z(e)?b.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?w:s).test(function(e){if(null!=e){try{return v.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function R(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function _(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return L(n)?n:void 0}k.prototype.clear=function(){this.__data__=x?x(null):{}},k.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},k.prototype.get=function(e){var t=this.__data__;if(x){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return g.call(t,e)?t[e]:void 0},k.prototype.has=function(e){var t=this.__data__;return x?void 0!==t[e]:g.call(t,e)},k.prototype.set=function(e,t){return this.__data__[e]=x&&void 0===t?"__lodash_hash_undefined__":t,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(e){var t=this.__data__,n=j(t,e);return!(n<0)&&(n==t.length-1?t.pop():A.call(t,n,1),!0)},T.prototype.get=function(e){var t=this.__data__,n=j(t,e);return n<0?void 0:t[n][1]},T.prototype.has=function(e){return j(this.__data__,e)>-1},T.prototype.set=function(e,t){var n=this.__data__,r=j(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},C.prototype.clear=function(){this.__data__={hash:new k,map:new(O||T),string:new k}},C.prototype.delete=function(e){return R(this,e).delete(e)},C.prototype.get=function(e){return R(this,e).get(e)},C.prototype.has=function(e){return R(this,e).has(e)},C.prototype.set=function(e,t){return R(this,e).set(e,t),this};var D=F((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(N(e))return E?E.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return o.test(e)&&n.push(""),e.replace(i,(function(e,t,r,o){n.push(r?o.replace(a,"$1"):t||e)})),n}));function M(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function F(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(F.Cache||C),n}F.Cache=C;var B=Array.isArray;function z(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function N(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==b.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:I(e,t);return void 0===r?n:r}}).call(this,n(75))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeYouTubePlayer=t.initializeYouTubeAPI=void 0;var r=n(170);t.initializeYouTubeAPI=function(e){return new Promise((function(t,n){if(e.document.documentElement.querySelector('script[src*="www.youtube.com/iframe_api"].loaded'))t("already loaded");else{var r=e.document.createElement("script");r.src="https://www.youtube.com/iframe_api";var o=e.document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o),r.addEventListener("load",(function(e){e.currentTarget.classList.add("loaded"),t("api script tag created and loaded")}),!0),r.addEventListener("error",(function(e){n("Failed to load YouTube script: ",e)}))}}))},t.initializeYouTubePlayer=function(e){var t=e.container,n=e.win,o=e.videoId,i=e.startTime,a=e.speed,s=e.readyCallback,c=e.stateChangeCallback,u=(0,r.getPlayerElement)(t),l=function(){return new n.YT.Player(u,{videoId:o,playerVars:{autohide:1,autoplay:0,controls:0,enablejsapi:1,iv_load_policy:3,loop:0,modestbranding:1,playsinline:1,rel:0,showinfo:0,wmode:"opaque"},events:{onReady:function(e){!function(e,t){var n=e.target;n.iframe=n.getIframe(),n.mute(),n.ready=!0,n.seekTo(t<n.getDuration()?t:0),n.playVideo()}(e,i),s(e.target)},onStateChange:function(e){var t=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=e.target,i=(o.getDuration()-t)/r,a=function e(){o.getCurrentTime()+.1>=o.getDuration()&&(o.pauseVideo(),o.seekTo(t),o.playVideo()),requestAnimationFrame(e)};return e.data===n.YT.PlayerState.BUFFERING&&1!==o.getVideoLoadedFraction()&&(0===o.getCurrentTime()||o.getCurrentTime()>i- -.1)?"buffering":e.data===n.YT.PlayerState.PLAYING?(requestAnimationFrame(a),"playing"):void(e.data===n.YT.PlayerState.ENDED&&o.playVideo())}(e,i,n,a);c(t,t)}}})};return new Promise((function(e,t){!function t(){1===n.YT.loaded?e(l()):setTimeout(t,100)}()}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t={container:e};return e.getAttribute("data-config-url")&&(t.url=e.getAttribute("data-config-url")),e.getAttribute("data-config-playback-speed")&&(t.playbackSpeed=e.getAttribute("data-config-playback-speed")),e.getAttribute("data-config-filter")&&(t.filter=e.getAttribute("data-config-filter")),e.getAttribute("data-config-filter-strength")&&(t.filterStrength=e.getAttribute("data-config-filter-strength")),t},e.exports=t.default},function(e,t,n){"use strict";var r=n(226),o=n(228);e.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,n){"use strict";n.r(t);n(235),n(236),function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}();var r=n(15),o=n(6),i=n(16),a=function(e){var t=function(){"true"===o.a.getValue("tweak-blog-item-show-author-profile")&&i.a.loadLazy(e,{load:!0,mode:"cover"})};o.a.watch(["tweak-blog-item-show-author-profile"],t),t()},s=(n(4),n(5),n(1)),c=n(0),u=function(e){var t=function(){i.a.loadAllLazy({load:!0,mode:"cover"},e)},n=function(e){e.closest(".blog-item").classList.add("is-loaded")};return o.a.watch(["basicBlogGutter","basicBlogColumns","tweak-blog-basic-grid-image-aspect-ratio","tweak-blog-basic-grid-columns","tweak-blog-single-column-image-aspect-ratio","tweak-blog-side-by-side-image-aspect-ratio","tweak-blog-side-by-side-image-size","tweak-blog-alternating-side-by-side-image-aspect-ratio","tweak-blog-alternating-side-by-side-image-size","tweak-blog-grid-basic-gutter","tweak-blog-single-column-width"],(function(e){t()})),e.querySelectorAll("img").forEach((function(e){var t=n.bind(void 0,e);e.addEventListener("load",t)})),t(),s.a.on(t,c.e),{destroy:function(){s.a.off(t)}}},l=(n(27),n(7),n(3),n(11),n(12),n(32),n(22),n(9),n(33),n(25),n(26),n(20),n(19),n(8),n(21),n(13),n(10),n(2)),d=n(66),f=n(31);n(261),n(45),n(38),n(39);function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}var P=function(){function e(t){var n=t.node,r=t.imgWrapper,o=t.img,i=t.autoFitImage;A(this,e),this.node=n,this.imageWrapper=r,this.image=o,this.node.style.position="absolute",this.autoFitImage=i,i&&this.image&&(this.imageAspectRatio=Object(f.a)(this.image))}return x(e,[{key:"applyAspectRatio",value:function(e){var t=e.aspectRatio,n=(e.x,e.y,e.width),r=e.height;if(t<=0)return Object(d.a)(this.image,{width:"100%",top:"0%",left:"0%",transform:"none"}),void(this.imageWrapper.style.height="auto");var o=Math.ceil(n*(1/t));if(r/o<1){var i=o/r,a=Math.round(n*i);Object(d.a)(this.image,{width:"".concat(a,"px"),height:"".concat(o,"px")})}this.imageWrapper.style.height="".concat(o,"px")}},{key:"setPosition",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(r=this.imageAspectRatio?this.imageAspectRatio:r,Object(d.a)(this.node,{width:"".concat(Math.round(n),"px"),transform:"translate3d(".concat(Math.round(e),"px, ").concat(Math.round(t),"px, 0)")}),!this.autoFitImage||!this.image)return this.node.clientHeight;var o=Math.round(1/this.imageAspectRatio*n);return this.image.style.width="100%",this.image.style.height="".concat(o,"px"),this.imageWrapper&&this.applyAspectRatio({aspectRatio:r,x:e,y:t,width:n,height:o}),this.node.clientHeight}},{key:"clearPosition",value:function(){this.node.style.width="",this.node.style.transform="",this.autoFitImage&&this.image&&this.imageWrapper&&(this.image.style.width="",this.image.style.height="",this.imageWrapper.style.top="",this.imageWrapper.style.left="",this.imageWrapper.style.transform="")}}]),e}(),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(n,e);var t=g(n);function n(e){var r;A(this,n);var o=(r=t.call(this,e)).props,i=o.container,a=o.nodes,s=o.gutter,c=o.columns,u=o.isReadyClass,l=o.aspectRatio,d=o.horizontalGutter,f=o.verticalGutter;return r.state={columns:c,aspectRatio:l,horizontalGutter:isNaN(d)?s:d,verticalGutter:isNaN(f)?s:f,shouldApplyGutterToContainerEdge:!1},r.nodes=r.getNodes(a),r.len=r.nodes.length,r.layout(),setTimeout((function(){i.classList.add(u)}),0),r}return x(n,[{key:"getNodes",value:function(e){var t=this.props,n=t.imageWrapperSelector,r=t.imageSelector,o=t.autoFitImage,i=t.aspectRatio;return e.map((function(e){var t=e.querySelector(n),a=e.querySelectorAll(r)[0];return new P({node:e,imgWrapper:t,img:a,autoFitImage:o,aspectRatio:i})}))}},{key:"setStyles",value:function(){var e,t,n,r=this.props.container,o=this.state,i=o.columns,a=o.horizontalGutter,s=o.verticalGutter,c=o.aspectRatio,u=o.shouldApplyGutterToContainerEdge,l=(e=i,"function"==typeof(t=0)?new Array(e).fill("").map(t):new Array(e).fill(t)),d=r.clientWidth,f=d/100,h=a/20*f,m=s/20*f,y=0,v=(d+h)/i,g=v-h;u&&(y=h,g=(v=(d-h)/i)-h);for(var b=0;b<this.len;b+=1){var w=(n=l).indexOf(Math.min.apply(Math,p(n))),S=y+v*w,A=this.nodes[b].setPosition(S,l[w],g,c);l[w]+=A+m}r.style.height="".concat(l[function(e){return e.indexOf(Math.max.apply(Math,p(e)))}(l)]-m,"px")}},{key:"clearStyles",value:function(){this.props.container.style.height="";for(var e=0;e<this.len;e+=1)this.nodes[e].clearPosition()}},{key:"layout",value:function(e){e&&this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),this.setStyles()}},{key:"destroy",value:function(){this.clearStyles()}}]),n}(l.a);function k(){var e=window.matchMedia("(max-width: ".concat(c.g.md-1,"px)"));return e&&e.matches}S(E,"defaultProps",{container:document.createElement("div"),nodes:[],autoFitImage:!0,imageWrapperSelector:null,imageSelector:"img",aspectRatio:-1,gutter:0,columns:2,isReadyClass:"masonry-ready",horizontalGutter:void 0,verticalGutter:void 0});var T=function(e){var t,n=function(e){e.closest(".blog-item").classList.add("is-loaded")},r=function(){!function(){t&&(t.destroy(),t=null);var e=document.getElementById("BlogMasonryContainer");if(e){var n=Array.from(e.querySelectorAll(".blog-item")),r=k()?1:parseInt(o.a.getValue("tweak-blog-masonry-columns"),10);(t=new E({container:e,nodes:n,columns:r,horizontalGutter:parseInt(o.a.getValue("tweak-blog-masonry-horizontal-spacing"),10),verticalGutter:parseInt(o.a.getValue("tweak-blog-masonry-vertical-spacing"),10),imageWrapperSelector:".image-wrapper",shouldApplyGutterToContainerEdge:!1})).layout()}}(),i.a.loadAllLazy({load:!0,mode:"cover",useAdvancedPositioning:!0},e)};return o.a.watch(["tweak-blog-masonry-horizontal-spacing","tweak-blog-masonry-vertical-spacing","tweak-blog-masonry-columns","tweak-blog-masonry-list-read-more-style","tweak-blog-masonry-image-spacing","tweak-blog-masonry-read-more-spacing","tweak-blog-masonry-width","tweak-blog-masonry-meta-spacing"],(function(e){r()})),e.querySelectorAll("img").forEach((function(e){e.addEventListener("load",n.bind(void 0,e))})),r(),s.a.on(r,c.e),{destroy:function(){s.a.off(r)}}},C=function(e){var t=function(){"true"===o.a.getValue("tweak-events-stacked-show-thumbnails")&&i.a.loadAllLazy({load:!0,mode:"content-fill"},e)};return o.a.watch(["tweak-events-stacked-show-thumbnails","tweak-events-stacked-thumbnail-size"],(function(e){t()})),t(),s.a.on(t,c.e),{destroy:function(){s.a.off(t)}}},j=(n(35),n(40),n(24));function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),I(this,"addBlogMobileStyles",(function(e){n.isBlogMobileStylingEnabled&&(e.dataset.blogMobileStyles=!0)})),I(this,"addGalleryMobileStyles",(function(e){n.isGalleryMobileStylingEnabled&&(e.dataset.galleryMobileStyles=!0)})),I(this,"addSummaryBlockMobileStyles",(function(e){n.isSummaryBlockMobileStylingEnabled&&(e.dataset.summaryBlockMobileStyles=!0)})),I(this,"addMobileLogo",(function(e){n.isMobileHeaderEditingEnabled&&(e.dataset.mobileHeaderEditing=!0)})),I(this,"addMenuOverlayThemeSwitcher",(function(e){n.isMenuOverlayThemeSwitcherEnabled&&(e.dataset.menuOverlayThemeSwitcher=!0)})),I(this,"addMobileHeaderFontTweaks",(function(e){n.isMobileHeaderFontTweaksEnabled&&(e.dataset.mobileHeaderFontTweaks=!0)})),I(this,"addQuickViewLightboxColors",(function(e){n.isQuickViewLightboxColorsEnabled&&(e.dataset.quickViewLightboxColors=!0)})),I(this,"addUserItemsListCardThemes",(function(e){n.isUserItemsListCardThemesEnabled&&(e.dataset.userItemsListCardThemes=!0)})),this.node=t,this.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),this.isBlogMobileStylingEnabled=this.betaFeatureFlags.includes("seven-one-blog-mobile-styles"),this.isGalleryMobileStylingEnabled=this.betaFeatureFlags.includes("seven-one-gallery-mobile-styles"),this.isSummaryBlockMobileStylingEnabled=this.betaFeatureFlags.includes("seven-one-summary-block-mobile-styles"),this.isMobileHeaderEditingEnabled=this.betaFeatureFlags.includes("seven_one_header_editor_update"),this.isMenuOverlayThemeSwitcherEnabled=this.betaFeatureFlags.includes("seven-one-menu-overlay-theme-switcher"),this.isMobileHeaderFontTweaksEnabled=this.betaFeatureFlags.includes("seven-one-mobile-header-font-tweaks"),this.isQuickViewLightboxColorsEnabled=this.betaFeatureFlags.includes("seven-one-quick-view-lightbox-colors"),this.isUserItemsListCardThemesEnabled=this.betaFeatureFlags.includes("seven_one_list_section_card_themes"),this.addBlogMobileStyles(this.node),this.addGalleryMobileStyles(this.node),this.addSummaryBlockMobileStyles(this.node),this.addMobileLogo(this.node),this.addMenuOverlayThemeSwitcher(this.node),this.addMobileHeaderFontTweaks(this.node),this.addQuickViewLightboxColors(this.node),this.addUserItemsListCardThemes(this.node)},R=n(59),_=function(e){Object(R.a)().then((function(){var t=Object(j.a)(window,"Y.Squarespace.Singletons.ShoppingCart",null);t&&(t.on("item-added",(function(t){e.classList.remove("hidden")})),t.after("load",(function(t){t.target.get("totalQuantity")>0&&e.classList.remove("hidden")})))}))},D=n(23);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B={square:[1,1],standard:[3,2],"standard-vertical":[2,3],"four-three":[4,3],"three-four-vertical":[3,4],widescreen:[16,9],"anamorphic-widescreen":[2.4,1],"ultra-widescreen":[2.4,1]},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.toLowerCase();if("natural"===t)return-1;var n=t||"standard",r=B[n]||B.standard,o=M(r,2),i=o[0],a=o[1];return a/i},N=n(48);n(203),n(43),n(266),n(268);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Q(e);if(t){var o=Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(a,e);var t,n,r,o=G(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Z(X(t=o.call(this,e)),"onResize",(function(){var e=t.ref.image;i.a.loadLazy(e,H({load:!0,forceImageUpdate:!0},t.props.imageLoadMode)),t.calculateCaptionVerticalPositionFromTopOnMobile()}));var n=t.props,r=n.node,s=n.regionSelector,c=n.imageSelector,u=n.imageWrapperSelector,l=n.videoWrapperSelector,d=n.captionSelector;return t.state={},t.node=r,t.ref={region:r.querySelector(s),image:r.querySelector(c),caption:r.querySelector(d)},t.isVideo=null!==t.ref.image.closest(l),t.ref.wrapper=u?t.ref.image.closest(u):t.ref.image.parentNode,t.slideUrl=t.node.dataset.slideUrl,t.slideId=t.node.dataset.itemId,t.state=H(H({isActive:!1,isVideo:!1},Object(f.c)(t.ref.image)),{},{focalPoint:Object(f.b)(t.ref.image)}),t.activeTimeout=null,t.transitionTimeout=null,t.ref.image.onload=function(){t.ref.wrapper.dataset.loaded=!0,t.calculateCaptionVerticalPositionFromTopOnMobile()},t}return t=a,(n=[{key:"calculateCaptionVerticalPositionFromTopOnMobile",value:function(){var e=this.ref,t=e.image,n=e.caption,r=e.region;if(n&&k()){var o=r.clientHeight,i=o/2+t.clientHeight/2,a=Math.round(i/o*100);n.style.top="".concat(a,"%")}}},{key:"loadImage",value:function(){var e=this.ref.image;i.a.loadLazy(e,H({load:!0},this.props.imageLoadMode))}},{key:"add",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.props.switchDelay;if(this.loadImage(),this.node.dataset.active=!1,this.node.dataset.next=e,this.node.dataset.static=n,this.node.parentNode&&this.node.parentNode.appendChild(this.node),this.setState({isActive:!0,isVideo:this.isVideo}),this.calculateCaptionVerticalPositionFromTopOnMobile(),clearTimeout(this.activeTimeout),clearTimeout(this.transitionTimeout),n)return this.node.dataset.active=!0,void(this.node.dataset.in=!0);this.activeTimeout=setTimeout((function(){t.node.dataset.active=!0}),0),this.transitionTimeout=setTimeout((function(){t.node.dataset.in=!0}),r)}},{key:"remove",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.props.transitionDuration;if(this.node.dataset.next=!e,this.node.dataset.in=!1,this.node.dataset.static=n,clearTimeout(this.activeTimeout),clearTimeout(this.transitionTimeout),n)return this.setState({isActive:!1}),void(this.node.dataset.active=!1);this.transitionTimeout=setTimeout((function(){t.setState({isActive:!1}),t.node.dataset.active=!1}),n?0:r)}},{key:"destroy",value:function(){clearTimeout(this.activeTimeout),clearTimeout(this.transitionTimeout)}}])&&q(t.prototype,n),r&&q(t,r),a}(l.a);Z(J,"defaultProps",{node:null,regionSelector:".gallery-slideshow-item-wrapper",imageSelector:"img",videoWrapperSelector:".sqs-video-wrapper",captionSelector:".gallery-caption-slideshow",isLightbox:!1,switchDelay:0,transitionDuration:500,imageLoadMode:{},isVideo:!1});var K=n(80),$=function(e,t){var n,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=function(){return e.apply(void 0,o)};clearTimeout(n),n=setTimeout(a,t)};return r.cancel=function(){window.clearTimeout(n)},r},ee=n(14);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ue(e);if(t){var o=ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return se(this,n)}}function se(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?ce(e):t}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(i,e);var t,n,r,o=ae(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),le(ce(t=o.call(this,e)),"onSwipe",(function(e){console.log(e)})),le(ce(t),"getSlideIndexByUrlOrId",(function(e){return t.slides.findIndex((function(t){return t.slideId===e||t.slideUrl===e}))})),le(ce(t),"getSlides",(function(e,t){var n=t.regionSelector,r=t.imageSelector,o=t.switchDelay,i=t.transitionDuration,a=t.imageLoadMode,s=t.isInstant,c=t.imageWrapperSelector;return e.map((function(e){return new J({node:e,regionSelector:n,imageSelector:r,switchDelay:o,transitionDuration:i,imageLoadMode:a,isInstant:s,imageWrapperSelector:c})}))})),le(ce(t),"onDisableMove",(function(e){e.preventDefault()})),le(ce(t),"onPreviousSlide",(function(e){t.setTargetSlide(t.state.index-1,!1,!1,t.state.isInstant),e&&e.preventDefault&&e.preventDefault()})),le(ce(t),"onNextSlide",(function(e){t.setTargetSlide(t.state.index+1,!0,!1,t.state.isInstant),e&&e.preventDefault&&e.preventDefault()})),le(ce(t),"onCloseLightbox",(function(e){t.closeLightbox()})),le(ce(t),"keyCodeListener",(function(e){if(27===e.keyCode&&(t.closeLightbox(),e.stopPropagation()),39===e.keyCode){var n=t.state.index+1;t.setSlide(n,!1,t.state.isInstant)}if(37===e.keyCode){var r=t.state.index-1;t.setSlide(r,!1,t.state.isInstant)}})),le(ce(t),"initAutoplay",(function(e){t.autoplayInterval=setInterval((function(){var e=t.state.index+1;t.setSlide(e,!1,t.state.isInstant)}),e)})),le(ce(t),"onHistoryStateChange",(function(){var e=t.matchUrlToSlideIndex(),n=t.state.isLightboxOpen;-1===e&&n?t.closeLightbox({adjustHistory:!1}):e>-1&&!n&&t.openLightbox(e)})),le(ce(t),"onResize",(function(){var e=ce(t).sizedWrapper,n=t.state.aspectRatio;n&&(e.style.height="".concat(e.clientWidth*n,"px")),t.loadSlides()})),le(ce(t),"loadSlides",(function(){var e=t.state,n=e.index,r=e.thumbnailsEnabled,o=e.controls;if(-1!==n){var i;if(r||"bullets"===o)i=t.slides.map((function(e,t){return t}));else{var a=t.slides.length;i=[n,(a+n-1)%a,(a+n+1)%a]}i.forEach((function(e){return t.slides[e].loadImage()}))}}));var n=t.props,r=n.node,a=n.display,s=n.isHistoryEnabled,u=n.isLightbox,l=n.autoplayEnabled,d=n.slideDurationMs,f=n.slides,p=n.aspectRatio,h=n.isInstant,m=n.galleryHeight,y=n.galleryWidth,v=n.controls,g=n.thumbnailsEnabled,b=n.sizedWrapper,w=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null);return t.node=r,t.display=a||r,t.sizedWrapper=b||t.display,t.history=Object(N.a)(),t.state={collectionFullUrl:w,isHistoryEnabled:w&&s&&t.history,aspectRatio:p,autoplayEnabled:l,slideDurationMs:d,galleryHeight:m,galleryWidth:y,isInstant:h,controls:v,thumbnailsEnabled:g,index:0,previous:-1,isLightboxOpen:!1},t.onResize=$(t.onResize,c.e),t.slides=t.getSlides(f,t.props),t.lightbox=t.node.querySelector(".gallery-lightbox"),t.state.index=t.matchUrlToSlideIndex(),t.autoplayInterval=null,t.len=t.slides.length,t.len?(t.swipe=new K.a({axis:"xy",node:t.display,onSwipeRight:t.onPreviousSlide,onSwipeLeft:t.onNextSlide,onSwipeUp:u&&t.onCloseLightbox}),t.bindListeners(),t.checkLightboxReady(),t.state.autoplayEnabled&&t.initAutoplay(t.state.slideDurationMs),t):se(t)}return t=i,(n=[{key:"checkLightboxReady",value:function(){if(!this.props.isLightbox)return-1===this.state.index&&(this.state.index=0),void this.setTargetSlide(this.state.index);this.state.index>-1&&this.openLightbox(this.state.index)}},{key:"matchUrlToSlideIndex",value:function(){var e=this.state.collectionFullUrl;if(-1===!window.location.pathname.indexOf(e))return-1;var t=new URLSearchParams(window.location.search).get("itemId");return this.getSlideIndexByUrlOrId(t)}},{key:"bindListeners",value:function(){var e=this.props,t=e.isLightbox,n=e.buttonPrevious,r=e.buttonNext,o=e.buttonLightboxClose;n&&n.addEventListener("click",this.onPreviousSlide),r&&r.addEventListener("click",this.onNextSlide),t&&(this.lightbox.addEventListener("touchmove",this.onDisableMove),o&&o.addEventListener("click",this.onCloseLightbox),this.history&&this.history.change.on(this.onHistoryStateChange)),s.a.on(this.onResize)}},{key:"unbindListeners",value:function(){var e=this.props,t=e.isLightbox,n=e.buttonPrevious,r=e.buttonNext;n&&n.removeEventListener("click",this.onPreviousSlide),r&&r.removeEventListener("click",this.onNextSlide),t&&this.lightbox.removeEventListener("touchmove",this.onDisableMove),t&&this.history&&this.history.change.off(this.onHistoryStateChange),s.a.off(this.onResize)}},{key:"setSlide",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;e!==this.state.index&&this.setTargetSlide(e,e>this.state.index,t,n)}},{key:"setTargetSlide",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=(e%this.len+this.len)%this.len,i=this.slides[this.state.previous],a=this.slides[o];i&&i.remove(t,r),this.setState({index:o,previous:o}),a.add(t,r),a.state.isVideo&&this.lightbox?this.lightbox.classList.add("video-slide"):this.lightbox&&this.lightbox.classList.remove("video-slide"),this.setUrl(a.slideUrl),n||this.props.onSetSlide(o,t,r),this.onResize()}},{key:"setUrl",value:function(e){var t=this.props.isLightbox,n=this.state.isHistoryEnabled;t&&n&&history.replaceState({},"","?itemId=".concat(e))}},{key:"openLightbox",value:function(e){if(!this.state.isLightboxOpen){var t=this.props.onLightboxOpen;this.setState({isLightboxOpen:!0}),this.lightbox.dataset.open=!0,document.addEventListener("keyup",this.keyCodeListener),t(),this.setTargetSlide(e,!0,!1,this.state.isInstant)}}},{key:"closeLightbox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.adjustHistory,n=void 0===t||t,r=this.props.onLightboxClose;this.setState({index:-1,isLightboxOpen:!1}),n&&history.back(),this.lightbox.dataset.open=!1,document.removeEventListener("keyup",this.keyCodeListener),r()}},{key:"refresh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.autoplayEnabled!==e.autoplayEnabled&&(!0===e.autoplayEnabled?this.initAutoplay(e.slideDurationMs):this.autoplayInterval&&clearInterval(this.autoplayInterval)),this.state.slideDurationMs!==e.slideDurationMs&&(clearInterval(this.autoplayInterval),this.initAutoplay(e.slideDurationMs)),this.setState(re({},e)),this.onResize()}},{key:"destroy",value:function(){this.unbindListeners(),this.autoplayInterval&&clearInterval(this.autoplayInterval),this.slides.forEach((function(e){return e.destroy()})),this.swipe&&this.swipe.destroy(),this.slides=[],this.len=0}}])&&oe(t.prototype,n),r&&oe(t,r),i}(l.a);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return he(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ae(e);if(t){var o=Ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return we(this,n)}}function we(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?Se(e):t}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}le(de,"defaultProps",{isLightbox:!1,node:document.createElement("div"),display:null,sizedWrapper:null,buttonNext:document.createElement("button"),buttonPrevious:document.createElement("button"),buttonLightboxClose:document.createElement("button"),aspectRatio:null,slides:[],isHistoryEnabled:!0,autoplayEnabled:!1,slideDurationMs:5e3,galleryHeight:75,galleryWidth:80,regionSelector:".gallery-slideshow-item-wrapper",imageSelector:"img",switchDelay:0,transitionDuration:1e3,isInstant:!1,onSetSlide:ee.a,onLightboxOpen:ee.a,onLightboxClose:ee.a});var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(i,e);var t,n,r,o=be(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Oe(Se(t=o.call(this)),"bindBulletNav",(function(){"bullets"===t.state.controls&&t.bullets.length>0&&t.bullets.forEach((function(e){e.node.addEventListener("click",(function(n){t.slideshow.setSlide(e.target-1,!1,!1)}))}))})),Oe(Se(t),"unbindBulletNav",(function(){t.bullets.length>0&&t.bullets.forEach((function(e){e.node.removeEventListener("click",(function(n){t.slideshow.setSlide(e.target-1,!1,!1)}))}))})),Oe(Se(t),"onSetSlide",(function(e){"bullets"===t.state.controls&&t.bullets.length>0&&t.bullets.forEach((function(t){var n=parseInt(t.target,10)===e+1;n?t.node.classList.add("active"):t.node.classList.remove("active"),t.node.setAttribute("aria-label",n?t.activeAltText:t.inactiveAltText)})),t.clickLinks.forEach((function(t){parseInt(t.getAttribute("data-target"),10)===e+1?t.classList.add("active"):t.classList.remove("active")}))})),Oe(Se(t),"onSectionTweak",(function(e){var n=e.galleryOptions,r=n.fullscreenSlideshowOptions,o=n.design,i=ye(ye(ye({},t.state),r),{},{design:o});return i.design===t.state.design&&((i.viewportHeight!==t.state.viewportHeight||i.transition!==t.state.transition||i.controls!==t.state.controls||i.autoplayEnabled!==t.state.autoplayEnabled||i.slideDurationMs!==t.state.slideDurationMs)&&(t.setState(ye({},i)),t.node.dataset.transition=i.transition,t.node.dataset.controls=i.controls,t.node.dataset.autoplayEnabled=i.autoplayEnabled,t.node.style.height="".concat(i.viewportHeight,"vh"),t.node.dataset.height="".concat(i.viewportHeight>75?"L":i.viewportHeight>50?"M":"S"),t.slideshow.refresh(i),!0))})),Oe(Se(t),"onLightboxOpen",(function(e){t.state.isHistoryEnabled&&(e.preventDefault(),history.pushState({},"",e.currentTarget.href))})),Oe(Se(t),"destroy",(function(){D.a.disconnect(t.sectionId,t.onSectionTweak),t.unbindBulletNav(),t.unbindListeners(),t.slideshow.destroy()})),t.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),t.isGalleryCaptionsBetaFlagOn=t.betaFeatureFlags.includes("gallery_captions_71");var n=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null);t.history=Object(N.a)();var r=t.props,a=r.listSelector,s=r.slideSelector,c=r.previousSelector,u=r.nextSelector,l={};e.dataset.props&&(l=JSON.parse(e.dataset.props)),t.state=ye({design:"fullscreenSlideshow",viewportHeight:75,transition:"fade",controls:"arrows",autoplayEnabled:!1,slideDurationMs:5e3,isHistoryEnabled:n&&t.history},l),t.node=e;var d=t.node.querySelectorAll(".gallery-fullscreen-slideshow-bullet");return t.bullets=pe(d).map((function(e){var t=e.querySelector(".js-slideshow-inactive-slide"),n=Object(j.a)(t,"innerText"),r=e.querySelector(".js-slideshow-active-slide"),o=Object(j.a)(r,"innerText");return{node:e,target:e.dataset.target,inactiveAltText:n||"",activeAltText:o||""}})),t.clickLinks=t.node.querySelectorAll(".gallery-click-through-link"),t.sectionId=t.node.dataset.sectionId,t.slideshow=new de({node:t.node,display:t.node.querySelector(a),slides:Array.from(t.node.querySelectorAll(s)),buttonPrevious:t.node.querySelector(c),buttonNext:t.node.querySelector(u),aspectRatio:z(t.state.aspectRatio),regionSelector:".gallery-fullscreen-slideshow-item-wrapper",onSetSlide:t.onSetSlide.bind(Se(t)),autoplayEnabled:t.state.autoplayEnabled,slideDurationMs:t.state.slideDurationMs,controls:t.state.controls,imageLoadMode:{mode:"fill",useAdvancedPositioning:!0,forceImageUpdate:!0},imageWrapperSelector:".gallery-fullscreen-slideshow-item-img"}),t.node.dataset.galleryCaptionBetaFlag=t.isGalleryCaptionsBetaFlagOn,t.bindBulletNav(),D.a.watch(t.sectionId,t.onSectionTweak),t.bindListeners(),t}return t=i,(n=[{key:"bindListeners",value:function(){var e=this;this.node.querySelectorAll(this.props.lightboxLinkSelector).forEach((function(t){t.addEventListener("click",e.onLightboxOpen)}))}},{key:"unbindListeners",value:function(){var e=this;this.node.querySelectorAll(this.props.lightboxLinkSelector).forEach((function(t){t.removeEventListener("click",e.onLightboxOpen)}))}}])&&ve(t.prototype,n),r&&ve(t,r),i}(l.a);Oe(xe,"defaultProps",{listSelector:".gallery-fullscreen-slideshow-list",slideSelector:".gallery-fullscreen-slideshow-item",previousSelector:"[data-previous]",nextSelector:"[data-next]",lightboxLinkSelector:'.gallery-fullscreen-slideshow-item[data-video="true"] .gallery-fullscreen-slideshow-lightbox-link'});var Pe=n(73),Ee=n.n(Pe);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ie(this,n)}}function Ie(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?Le(e):t}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(i,e);var t,n,r,o=je(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),_e(Le(t=o.call(this,e)),"onNodeEnter",(function(e){var n=e.node,r=t.props,o=r.delay,i=r.stagger;n.__staggerEntered||(n.__staggerEntered=!0,n.__staggerTimeout=setTimeout((function(){t.props.onEnter(e)}),o+t.count*i),t.instant||(t.count+=1,t.count=Math.min(t.props.maxCount,t.count),t.countTimeout()))})),t.state={isActive:!1},t.count=0,t.baseTimeout=null,t.instant=!1,t.viewportWatcher=new Ee.a,t}return t=i,(n=[{key:"start",value:function(){this.state.isActive||(this.setState({isActive:!0}),this.viewportWatcher.addNodes({nodes:this.props.nodes,range:[100,0],callbacks:{onEnter:this.onNodeEnter}}))}},{key:"countTimeout",value:function(){var e=this;clearTimeout(this.baseTimeout),this.baseTimeout=setTimeout((function(){e.count=0}),10)}},{key:"destroy",value:function(){this.viewportWatcher.destroy(),clearTimeout(this.baseTimeout),this.props.nodes.forEach((function(e){clearTimeout(e.__staggerTimeout)}))}}])&&Te(t.prototype,n),r&&Te(t,r),i}(l.a);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}_e(De,"defaultProps",{delay:50,stagger:50,maxCount:20,nodes:[],onEnter:ee.a});var qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(i,e);var t,n,r,o=Ne(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var n=(t=o.call(this,e)).props,r=n.gutter,a=n.columns,s=n.width;return t.state={gutter:r,columns:a,width:s},t.layout(),t}return t=i,(n=[{key:"setStyles",value:function(){var e=this.props.container,t=this.state,n=t.columns,r=t.gutter,o=t.width,i=r/20;"full"!==o&&"inset"!==o?e.setAttribute("style","grid-template-columns: repeat(".concat(n,", 1fr); grid-column-gap: ").concat(i,"vw; \n      grid-row-gap: ").concat(i,"vw; padding: 0vw ").concat(i,"vw; width: auto")):e.setAttribute("style","grid-template-columns: repeat(".concat(n,", 1fr); grid-column-gap: \n        ").concat(i,"vw; grid-row-gap: ").concat(i,"vw;\n        width: auto"))}},{key:"layout",value:function(e){e&&this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),this.setStyles()}},{key:"destroy",value:function(){}}])&&Be(t.prototype,n),r&&Be(t,r),i}(l.a);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$e(e);if(t){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Je(this,n)}}function Je(e,t){return!t||"object"!==Ve(t)&&"function"!=typeof t?Ke(e):t}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}He(qe,"defaultProps",{container:document.createElement("div"),gutter:0,columns:2,width:"full-bleed"});var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(a,e);var t,n,r,o=Ze(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),et(Ke(t=o.call(this)),"loadImage",(function(e){var n=t.props.imageSelector,r=e.querySelector(n);r.onload=function(){e.dataset.loaded=!0},i.a.loadLazy(r,{load:!0,mode:"cover",useAdvancedPositioning:!0})})),et(Ke(t),"onLightboxOpen",(function(e){t.state.isHistoryEnabled&&(e.preventDefault(),history.pushState({},"",e.currentTarget.href))})),et(Ke(t),"onResize",(function(){var e=t.getColumnData(t.state.numColumns,t.state.gutter);t.packer.layout(Ye(Ye({},e),{},{width:t.node.dataset.width})),t.loadImages(t.ref.items)})),et(Ke(t),"onItemShow",(function(e){var t=e.node;t.dataset.show||(t.dataset.show=!0)})),et(Ke(t),"onSectionTweak",(function(e){var n=e.galleryOptions,r=n.gridOptions,o=n.design,i=Ye(Ye(Ye({},t.state),r),{},{design:o});return i.design===t.state.design&&((i.gutter!==t.state.gutter||i.width!==t.state.width||i.numColumns!==t.state.numColumns)&&(t.setState(Ye({},i)),t.node.dataset.tweaking=!0,t.node.dataset.width=i.width,clearTimeout(t.tweakTimeout),t.tweakTimeout=setTimeout((function(){t.node.dataset.tweaking=!1}),100),t.onResize(),!0))})),et(Ke(t),"destroy",(function(){clearTimeout(t.tweakTimeout),t.unbindListeners(),t.stagger.destroy(),t.packer.destroy()})),t.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),t.isGalleryCaptionsBetaFlagOn=t.betaFeatureFlags.includes("gallery_captions_71");var n=t.props,r=n.listSelector,s=n.itemSelector,u=n.imageSelector,l=n.lightboxLinkSelector,d=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null),f={};return e.dataset.props&&(f=JSON.parse(e.dataset.props)),t.history=Object(N.a)(),t.node=e,t.sectionId=t.node.dataset.sectionId,t.state=Ye({design:"grid",collectionFullUrl:d,isHistoryEnabled:d&&t.history,numColumns:3,gutter:20,width:"full",lightboxEnabled:!1},f),t.ref={list:t.node.querySelector(r),items:Array.from(t.node.querySelectorAll(s)),lightboxLinks:Array.from(t.node.querySelectorAll(l)),images:Array.from(t.node.querySelectorAll("".concat(s," ").concat(u)))},t.onResize=$(t.onResize,c.e),t.node.dataset.galleryCaptionBetaFlag=t.isGalleryCaptionsBetaFlagOn,t.stagger=new De({nodes:t.ref.items,onEnter:t.onItemShow}),t.packer=new qe(Ye(Ye({container:t.ref.list},t.getColumnData(t.state.numColumns,t.state.gutter)),{},{width:t.node.dataset.width})),t.node.dataset.lightbox=t.state.lightboxEnabled,t.tweakTimeout=null,t.bindListeners(),t}return t=a,(n=[{key:"getColumnData",value:function(e,t){return{columns:Object(f.d)(e),gutter:t}}},{key:"loadImages",value:function(e){e.forEach(this.loadImage)}},{key:"bindListeners",value:function(){var e=this;this.ref.lightboxLinks.forEach((function(t){t.addEventListener("click",e.onLightboxOpen)})),D.a.watch(this.sectionId,this.onSectionTweak),s.a.on(this.onResize),this.stagger.start(),this.onResize()}},{key:"unbindListeners",value:function(){var e=this;this.ref.lightboxLinks.forEach((function(t){t.removeEventListener("click",e.onLightboxOpen)})),D.a.disconnect(this.sectionId,this.onSectionTweak),s.a.off(this.onResize)}}])&&Xe(t.prototype,n),r&&Xe(t,r),a}(l.a);et(tt,"defaultProps",{listSelector:".gallery-grid-wrapper",itemSelector:".gallery-grid-item",lightboxLinkSelector:".gallery-grid-lightbox-link",imageSelector:"img",loadedItemClass:""});function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lt(e);if(t){var o=lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){return!t||"object"!==nt(t)&&"function"!=typeof t?ut(e):t}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}(a,e);var t,n,r,o=st(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),dt(ut(t=o.call(this)),"loadImage",(function(e){var n=t.props.imageSelector,r=e.querySelector(n);r.onload=function(){e.dataset.loaded=!0},i.a.loadLazy(r,{load:!0,mode:"cover",useAdvancedPositioning:!0})})),dt(ut(t),"onLightboxOpen",(function(e){t.state.isHistoryEnabled&&(e.preventDefault(),history.pushState({},"",e.currentTarget.href))})),dt(ut(t),"onResize",(function(){var e=t.getColumnData(t.state.numColumns,t.state.gutter),n="full-bleed"===t.node.dataset.width;t.packer.layout(ot(ot({},e),{},{shouldApplyGutterToContainerEdge:n})),t.loadImages(t.ref.items)})),dt(ut(t),"onItemShow",(function(e){var t=e.node;t.dataset.show||(t.dataset.show=!0)})),dt(ut(t),"onSectionTweak",(function(e){var n=e.galleryOptions,r=n.masonryOptions,o=n.design,i=ot(ot(ot({},t.state),r),{},{design:o});return i.design===t.state.design&&((i.gutter!==t.state.gutter||i.width!==t.state.width||i.numColumns!==t.state.numColumns)&&(t.setState(i),t.node.dataset.tweaking=!0,t.node.dataset.width=i.width,clearTimeout(t.tweakTimeout),t.tweakTimeout=setTimeout((function(){t.node.dataset.tweaking=!1}),100),t.onResize(),!0))})),dt(ut(t),"destroy",(function(){clearTimeout(t.tweakTimeout),t.unbindListeners(),t.stagger.destroy(),t.packer.destroy()})),t.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),t.isGalleryCaptionsBetaFlagOn=t.betaFeatureFlags.includes("gallery_captions_71");var n=t.props,r=n.listSelector,s=n.itemSelector,u=n.lightboxLinkSelector,l=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null),d={};return e.dataset.props&&(d=JSON.parse(e.dataset.props)),t.history=Object(N.a)(),t.node=e,t.sectionId=t.node.dataset.sectionId,t.node.dataset.galleryCaptionBetaFlag=t.isGalleryCaptionsBetaFlagOn,t.state=ot({design:"masonry",collectionFullUrl:l,isHistoryEnabled:l&&t.history,numColumns:3,gutter:10,lightboxEnabled:!1,width:"full"},d),t.ref={list:t.node.querySelector(r),items:Array.from(t.node.querySelectorAll(s)),lightboxLinks:Array.from(t.node.querySelectorAll(u))},t.onResize=$(t.onResize,c.e),t.stagger=new De({nodes:t.ref.items,onEnter:t.onItemShow}),t.packer=new E(ot({container:t.ref.list,nodes:t.ref.items,imageWrapperSelector:".gallery-masonry-item-wrapper",isReadyClass:"gallery-masonry-list--ready",shouldApplyGutterToContainerEdge:"full-bleed"===t.node.dataset.width},t.getColumnData(t.state.numColumns,t.state.gutter))),t.node.dataset.lightbox=t.state.lightboxEnabled,t.tweakTimeout=null,t.bindListeners(),t}return t=a,(n=[{key:"loadImages",value:function(e){e.forEach(this.loadImage)}},{key:"bindListeners",value:function(){var e=this;this.ref.lightboxLinks.forEach((function(t){t.addEventListener("click",e.onLightboxOpen)})),D.a.watch(this.sectionId,this.onSectionTweak),s.a.on(this.onResize),this.stagger.start(),this.onResize()}},{key:"unbindListeners",value:function(){var e=this;this.ref.lightboxLinks.forEach((function(t){t.removeEventListener("click",e.onLightboxOpen)})),D.a.disconnect(this.sectionId,this.onSectionTweak),s.a.off(this.onResize)}},{key:"getColumnData",value:function(e,t){var n=Object(f.d)(e),r=Object(f.e)(t);return{columns:n,horizontalGutter:r,verticalGutter:r}}}])&&it(t.prototype,n),r&&it(t,r),a}(l.a);dt(ft,"defaultProps",{listSelector:".gallery-masonry-wrapper",itemSelector:".gallery-masonry-item",lightboxLinkSelector:".gallery-masonry-lightbox-link",imageSelector:"img",loadedItemClass:"loaded"});var pt=n(17);function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e){return function(e){if(Array.isArray(e))return vt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||yt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){if(e){if("string"==typeof e)return vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}function vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return St(this,n)}}function St(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?At(e):t}function At(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(a,e);var t,n,r,o=wt(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),xt(At(t=o.call(this,e)),"loadImages",(function(){t.state.isImagesLoad||(t.setState({isImagesLoad:!0}),t.node.querySelectorAll("img").forEach((function(e){t.loadImage(e)})))})),xt(At(t),"loadImage",(function(e){e.onload=function(){e.dataset.loaded=!0},i.a.loadLazy(e,{load:!0,mode:"content-fill",useAdvancedPositioning:!0})})),xt(At(t),"getThumbnails",(function(e){return e.map((function(e){var t=e.querySelector(".js-slideshow-inactive-slide"),n=Object(j.a)(t,"innerText"),r=e.querySelector(".js-slideshow-active-slide"),o=Object(j.a)(r,"innerText");return{node:e,image:e.querySelector("img"),x:0,width:0,inactiveAltText:n||"",activeAltText:o||""}}))})),xt(At(t),"onPress",(function(e){if(!(t.state.isInteracting||"number"==typeof e.button&&0!==e.button)){var n=Object(pt.d)(e).clientX;t.target.x=t.pos.x,t.drag.start.x=n,t.drag.active.x=n,t.drag.moved.x=0,t.velocity.x=0,clearTimeout(t.clickDisabledTimeout),t.setState({isInteracting:!0}),document.addEventListener(pt.a.move,t.onMove),pt.a.release.forEach((function(e){document.addEventListener(e,t.onRelease)}))}})),xt(At(t),"onMove",(function(e){var n=t.props,r=n.dragThreshold,o=n.onDragStart,i=Object(pt.d)(e).clientX;t.state.isDragging||(o(),t.setState({isDragging:!0}),t.node.dataset.dragging=!0,t.update()),e.preventDefault(),e.stopPropagation(),t.drag.moved.x=i-t.drag.active.x,t.drag.active.x=i,t.target.x+=t.drag.moved.x,t.velocity.x+=.2*t.drag.moved.x,t.velocity.then=Date.now(),!t.state.isClickDisabled&&Math.abs(i-t.drag.start.x)>r&&t.setState({isClickDisabled:!0})})),xt(At(t),"onRelease",(function(e){var n=t.props.onDragEnd,r=Date.now();n(),t.node.dataset.dragging=!1,r-t.velocity.then>50&&(t.velocity.x=0),t.setState({isInteracting:!1,isDragging:!1}),document.removeEventListener(pt.a.move,t.onMove),pt.a.release.forEach((function(e){document.removeEventListener(e,t.onRelease)})),clearTimeout(t.clickDisabledTimeout),t.clickDisabledTimeout=setTimeout((function(){t.setState({isClickDisabled:!1})}),200)})),xt(At(t),"onSelectThumbnail",(function(e){if(!t.state.isClickDisabled){var n=t.props.thumbnails.indexOf(e.target);-1!==n&&(t.velocity.x=0,t.setTargetThumbnail(n),t.update())}})),xt(At(t),"onResize",(function(){for(var e=t.props,n=e.node,r=e.scroller,o=e.loadImages,i=n.clientWidth,a=r.clientWidth,s=Math.min(i,a),c=0;c<t.len;c+=1){var u=t.thumbnails[c];u.x=u.node.offsetLeft,u.width=u.node.clientWidth}t.setState({regionWidth:s,maxX:.5*s-.5*t.thumbnails[0].width,minX:.5*s-a+.5*t.thumbnails[t.thumbnails.length-1].width}),t.update(),o&&t.loadImages()})),xt(At(t),"update",(function(){var e=t.state,n=e.maxX,r=e.minX;cancelAnimationFrame(t.frame),t.state.isDragging?(t.pos.x=t.target.x,t.pos.x>n&&(t.pos.x=n+.2*(t.target.x-n)),t.pos.x<r&&(t.pos.x=r-.2*(r-t.target.x)),t.updateTargetItem(),t.frame=requestAnimationFrame(t.update)):(t.target.x>n&&(t.target.x=n),t.target.x<r&&(t.target.x=r),t.target.x+=t.velocity.x,t.pos.x+=.2*(t.target.x-t.pos.x),Math.abs(t.pos.x-t.target.x)>.01&&(t.frame=requestAnimationFrame(t.update))),t.velocity.x*=.9,Math.abs(t.velocity.x)>.1&&t.updateTargetItem(),t.props.scroller.style.transform="matrix(1, 0, 0, 1, ".concat(t.pos.x,", 0)");var o,i=t.props.node.getBoundingClientRect(),a=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=yt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(t.thumbnails);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=s.node.getBoundingClientRect();c.left+c.width<=i.left||c.left>=i.left+i.width?s.node.tabIndex=-1:s.node.tabIndex=0}}catch(e){a.e(e)}finally{a.f()}}));var n=t.props,r=n.node,s=n.thumbnails,c=r.clientWidth;return t.state={regionWidth:0,maxX:0,minX:0,index:-1,isImagesLoad:!1,isInteracting:!1,isDragging:!1,isClickDisabled:!1},t.node=r,t.target={x:.5*c},t.drag={start:{x:0},active:{x:0},moved:{x:0}},t.pos={x:.5*c},t.velocity={then:Date.now(),x:0},t.thumbnails=t.getThumbnails(s),t.len=t.thumbnails.length,t.frame=null,t.clickDisabledTimeout=null,t.len?(t.onResize=$(t.onResize,200),t.onResize(),t.bindListeners(),t):St(t)}return t=a,(n=[{key:"bindListeners",value:function(){this.node.addEventListener(pt.a.press,this.onPress),this.node.addEventListener("click",this.onSelectThumbnail),s.a.on(this.onResize)}},{key:"unbindListeners",value:function(){var e=this;this.node.removeEventListener(pt.a.press,this.onPress),document.removeEventListener(pt.a.move,this.onMove),pt.a.release.forEach((function(t){document.removeEventListener(t,e.onRelease)})),this.node.removeEventListener("click",this.onSelectThumbnail),s.a.off(this.onResize)}},{key:"setThumbnail",value:function(e){this.setTargetThumbnail(e,!0),this.update()}},{key:"setTargetThumbnail",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.thumbnails[e],o=0;o<this.len;o+=1){var i=this.thumbnails[o],a=o===e;i.node.dataset.active=a,i.image.alt=a?i.activeAltText:i.inactiveAltText}this.setState({index:e}),t||this.props.onSetThumbnail(e,n),r&&!this.state.isDragging&&(this.target.x=-r.x-.5*r.width+.5*this.state.regionWidth)}},{key:"refresh",value:function(){this.len&&this.onResize()}},{key:"updateTargetItem",value:function(){var e=this.pos.x-.5*this.state.regionWidth,t=this.thumbnails.map((function(t){var n=t.x,r=t.width;return Math.sqrt(Math.pow(-n-.5*r-e,2))})),n=t.indexOf(Math.min.apply(Math,mt(t)));n!==this.state.index&&this.setTargetThumbnail(n,!1,!0)}},{key:"destroy",value:function(){this.unbindListeners(),clearTimeout(this.clickDisabledTimeout),cancelAnimationFrame(this.frame)}}])&&gt(t.prototype,n),r&&gt(t,r),a}(l.a);function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_t(e);if(t){var o=_t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?Rt(e):t}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}xt(Pt,"defaultProps",{node:document.createElement("div"),scroller:document.createElement("div"),thumbnails:[],dragThreshold:10,loadImages:!0,onSetThumbnail:ee.a,onDragStart:ee.a,onDragEnd:ee.a});var Mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(a,e);var t,n,r,i=It(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Dt(Rt(t=i.call(this)),"onSetSlide",(function(e){t.thumbnailScroller.setThumbnail(e),t.clickLinks.forEach((function(t){parseInt(t.getAttribute("data-target"),10)===e+1?t.classList.add("active"):t.classList.remove("active")}))})),Dt(Rt(t),"onSetThumbnail",(function(e,n){return t.slideshow.setSlide(e,n)})),Dt(Rt(t),"onSectionTweak",(function(e){var n=e.galleryOptions,r=n.slideshowOptions,o=n.design,i=Tt(Tt(Tt({},t.state),r),{},{design:o});return i.design===t.state.design&&((i.transition!==t.state.transition||i.controlsLocation!==t.state.controlsLocation||i.thumbnailsEnabled!==t.state.thumbnailsEnabled||i.autoplayEnabled!==t.state.autoplayEnabled||i.slideDurationMs!==t.state.slideDurationMs||i.galleryHeight!==t.state.galleryHeight||i.galleryWidth!==t.state.galleryWidth)&&(t.setState(Tt({},i)),"none"===i.transition||"none"===t.state.transition?(i.isInstant=!0,t.setState({isInstant:!0})):(i.isInstant=!1,t.setState({isInstant:!1})),t.refreshSlideshowDOM(i),!0))})),Dt(Rt(t),"resizeSlideshowContainer",(function(e){var n=e.galleryHeight,r=e.galleryWidth,i=o.a.getValue("pagePadding"),a=o.a.getValue("maxPageWidth");t.node.style.height="calc(".concat(n,"vh + (").concat(i," * 2))"),t.node.style.maxWidth="calc(".concat(a," * (").concat(r/100,"))")})),Dt(Rt(t),"destroy",(function(){D.a.disconnect(t.sectionId,t.onSectionTweak),t.slideshow.destroy(),t.thumbnailScroller.destroy()})),t.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),t.isGalleryCaptionsBetaFlagOn=t.betaFeatureFlags.includes("gallery_captions_71");var n=t.props,r=n.listSelector,s=n.wrapperSelector,c=n.slideSelector,u=n.previousSelector,l=n.nextSelector,d=n.thumbnailsContainerSelector,f=n.thumbnailsScrollerSelector,p=n.thumbnailSelector,h={};return e.dataset.props&&(h=JSON.parse(e.dataset.props)),t.state=Tt({design:"slideshow",transition:"fade",controlsLocation:"side",thumbnailsEnabled:!0,autoplayEnabled:!1,slideDurationMs:5e3,galleryHeight:75,galleryWidth:80,isInstant:!1},h),t.node=e,t.clickLinks=t.node.querySelectorAll(".gallery-click-through-link"),t.sectionId=t.node.dataset.sectionId,t.thumbnailNodes=Array.from(t.node.querySelectorAll(p)),t.thumbnailScroller=new Pt({node:t.node.querySelector(d),scroller:t.node.querySelector(f),thumbnails:t.thumbnailNodes,loadImages:!0,onSetThumbnail:t.onSetThumbnail}),"none"===t.state.transition?t.state.isInstant=!0:t.state.isInstant=!1,t.node.dataset.galleryCaptionBetaFlag=t.isGalleryCaptionsBetaFlagOn,t.resizeSlideshowContainer(t.state),t.slideshow=new de({node:t.node,display:t.node.querySelector(r),sizedWrapper:t.node.querySelector(s),slides:Array.from(t.node.querySelectorAll(c)),buttonPrevious:t.node.querySelector(u),buttonNext:t.node.querySelector(l),aspectRatio:z("standard"),onSetSlide:t.onSetSlide,autoplayEnabled:t.state.autoplayEnabled,slideDurationMs:t.state.slideDurationMs,galleryHeight:t.state.galleryHeight,galleryWidth:t.state.galleryWidth,isInstant:t.state.isInstant,thumbnailsEnabled:t.state.thumbnailsEnabled,imageLoadMode:{mode:"content-fit"},imageWrapperSelector:".gallery-slideshow-item-img"}),D.a.watch(t.sectionId,t.onSectionTweak),o.a.watch(["pagePadding","maxPageWidth"],(function(){return t.refreshSlideshowDOM(t.state)})),t}return t=a,(n=[{key:"refreshSlideshowDOM",value:function(e){this.node.dataset.transition=e.transition,this.node.dataset.controlsLocation=e.controlsLocation,this.node.dataset.thumbnails=e.thumbnailsEnabled,this.resizeSlideshowContainer(e),this.thumbnailScroller.refresh(e),this.slideshow.refresh(e)}}])&&Ct(t.prototype,n),r&&Ct(t,r),a}(l.a);Dt(Mt,"defaultProps",{listSelector:".gallery-slideshow-list",wrapperSelector:".gallery-slideshow-wrapper",slideSelector:".gallery-slideshow-item",previousSelector:"[data-previous]",nextSelector:"[data-next]",thumbnailSelector:".gallery-slideshow-thumbnails-thumb",thumbnailsContainerSelector:".gallery-slideshow-thumbnails",thumbnailsScrollerSelector:".gallery-slideshow-thumbnails-scroll"});function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ut(e);if(t){var o=Ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t,n){return t&&Vt(e.prototype,t),n&&Vt(e,n),e}var Yt=function(){function e(t){var n=t.node,r=t.img;qt(this,e),this.node=n,this.image=r,this.aspectRatio=Object(f.a)(this.image),this.node.style.position="absolute"}return Gt(e,[{key:"getWidth",value:function(e){return Math.round(this.aspectRatio*e)}},{key:"setPosition",value:function(e,t,n){var r=this.aspectRatio*n;return this.node.style.transform="matrix(1, 0, 0, 1, ".concat(e,", ").concat(t,")"),this.node.style.width="".concat(Math.round(r),"px"),this.image.style.height="".concat(n,"px"),{width:r,height:this.node.clientHeight}}}]),e}(),Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(n,e);var t=Nt(n);function n(e){var r;qt(this,n);var o=(r=t.call(this,e)).props,i=o.container,a=o.nodes,s=o.gutter,c=o.rowTargetHeight,u=o.isReadyClass;return r.state={gutter:s,rowTargetHeight:c},r.nodes=r.getNodes(a),r.len=r.nodes.length,r.layout(),setTimeout((function(){i.classList.add(u)}),0),r}return Gt(n,[{key:"getNodes",value:function(e){var t=this.props.imageSelector;return e.map((function(e){var n=e.querySelectorAll(t)[0];return new Yt({node:e,img:n})}))}},{key:"positionRow",value:function(e,t,n){for(var r=this.state.gutter,o=0,i=0,a=0,s=e.length;a<s;a+=1){var c=e[a].setPosition(o,t,n);o+=c.width+r,i=Math.max(i,c.height)}return i}},{key:"setStyles",value:function(){var e,t,n=this.props.container,r=this.state,o=r.gutter,i=r.rowTargetHeight,a=n.clientWidth,s=a+o+.25*i,c=[{items:[],rowWidth:0}],u=0;for(e=0;e<this.len;e+=1){var l=c[u],d=this.nodes[e],f=d.getWidth(i);l.rowWidth+f>s&&(c.push({items:[],rowWidth:0}),l=c[u+=1]),l.items.push(d),l.rowWidth+=f}var p=0;if(a>500&&c.length>1&&1===c[c.length-1].items.length&&c[c.length-2].items.length>1){var h=c[c.length-1],m=c[c.length-2];m.items.push(h.items[0]),m.rowWidth+=h.items[0].getWidth(i),c.pop()}for(e=0,t=c.length;e<t;e+=1){var y=c[e],v=Math.round((a-o*(y.items.length-1))/y.rowWidth*i);p+=this.positionRow(y.items,p,v)+o}n.style.height="".concat(p-o,"px")}},{key:"layout",value:function(e){e&&this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),this.setStyles()}},{key:"destroy",value:function(){}}]),n}(l.a);function Qt(e){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rn(e);if(t){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tn(this,n)}}function tn(e,t){return!t||"object"!==Qt(t)&&"function"!=typeof t?nn(e):t}function nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ht(Xt,"defaultProps",{container:document.createElement("div"),nodes:[],imageSelector:"img",gutter:0,rowTargetHeight:300,isReadyClass:"masonry-ready"});var an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(a,e);var t,n,r,o=en(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),on(nn(t=o.call(this)),"loadImage",(function(e){var n=t.props.imageSelector,r=e.querySelector(n);r.onload=function(){e.dataset.loaded=!0},i.a.loadLazy(r,{load:!0,mode:"cover",useAdvancedPositioning:!0})})),on(nn(t),"onLightboxOpen",(function(e){t.state.isHistoryEnabled&&(e.preventDefault(),history.pushState({},"",e.currentTarget.href))})),on(nn(t),"onResize",(function(){return t.packer.layout({gutter:Object(f.e)(t.state.gutter)})})),on(nn(t),"onItemShow",(function(e){var t=e.node;t.dataset.show||(t.dataset.show=!0)})),on(nn(t),"onSectionTweak",(function(e){var n=e.galleryOptions,r=n.stripOptions,o=n.design,i=Jt(Jt(Jt({},t.state),r),{},{design:o});if(i.design!==t.state.design)return!1;if(i.gutter!==t.state.gutter||i.width!==t.state.width||i.rowHeight!==t.state.rowHeight){t.setState(Jt({},i));var a={gutter:Object(f.e)(i.gutter),rowTargetHeight:i.rowHeight};return t.node.dataset.tweaking=!0,t.node.dataset.width=i.width,t.node.dataset.lightbox=i.lightboxEnabled,clearTimeout(t.tweakTimeout),t.tweakTimeout=setTimeout((function(){t.node.dataset.tweaking=!1}),100),t.packer.layout(a),!0}return!1})),on(nn(t),"destroy",(function(){clearTimeout(t.tweakTimeout),t.unbindListeners(),t.stagger.destroy(),t.packer.destroy()})),t.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),t.isGalleryCaptionsBetaFlagOn=t.betaFeatureFlags.includes("gallery_captions_71");var n=t.props,r=n.listSelector,s=n.itemSelector,u=n.lightboxLinkSelector,l=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null),d={};return e.dataset.props&&(d=JSON.parse(e.dataset.props)),t.history=Object(N.a)(),t.node=e,t.sectionId=t.node.dataset.sectionId,t.state=Jt({design:"strips",collectionFullUrl:l,isHistoryEnabled:l&&t.history,gutter:Object(f.e)(20),rowHeight:300,lightboxEnabled:!1,width:"full"},d),t.ref={list:t.node.querySelector(r),items:Array.from(t.node.querySelectorAll(s)),lightboxLinks:Array.from(t.node.querySelectorAll(u))},t.node.dataset.galleryCaptionBetaFlag=t.isGalleryCaptionsBetaFlagOn,t.onResize=$(t.onResize,c.e),t.stagger=new De({nodes:t.ref.items,onEnter:t.onItemShow}),t.packer=new Xt({container:t.ref.list,nodes:t.ref.items,isReadyClass:"gallery-strips-list--ready",gutter:t.state.gutter,rowTargetHeight:t.state.rowHeight}),t.node.dataset.lightbox=t.state.lightboxEnabled,t.tweakTimeout=null,t.loadImages(t.ref.items),t.bindListeners(),t}return t=a,(n=[{key:"loadImages",value:function(e){e.forEach(this.loadImage)}},{key:"bindListeners",value:function(){var e=this;this.ref.lightboxLinks.forEach((function(t){t.addEventListener("click",e.onLightboxOpen)})),D.a.watch(this.sectionId,this.onSectionTweak),s.a.on(this.onResize),this.stagger.start(),this.onResize()}},{key:"unbindListeners",value:function(){var e=this;this.ref.lightboxLinks.forEach((function(t){t.removeEventListener("click",e.onLightboxOpen)})),D.a.disconnect(this.sectionId,this.onSectionTweak),s.a.off(this.onResize)}}])&&Kt(t.prototype,n),r&&Kt(t,r),a}(l.a);on(an,"defaultProps",{listSelector:".gallery-strips-wrapper",itemSelector:".gallery-strips-item",lightboxLinkSelector:".gallery-strips-lightbox-link",imageSelector:"img",loadedItemClass:""});n(79),n(141),n(100),n(120),n(113),n(92),n(93),n(70);function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cn,un,ln,dn=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),sn(this,"prepare",(function(){n.node.classList.add("animation-segment-parent-hidden")})),sn(this,"bind",(function(){if(!n.viewportWatcher)return console.warn("No viewport watcher available for",n.node),void n.node.classList.remove("animation-segment-parent-hidden");n.viewportWatcher.addNodes({nodes:[n.node],range:n.viewportRange,callbacks:{onEnter:n.enteredViewport}})})),sn(this,"unbind",(function(){n.viewportWatcher.removeNodes([n.node])})),sn(this,"enteredViewport",(function(){n.hasRevealed||(n.hasRevealed=!0,n.install(),n.node.offsetTop,n.play())})),sn(this,"install",(function(){n.originalHTML=n.node.innerHTML,n.node.innerHTML=n.node.innerHTML.replace("&nbsp;"," ").split(" ").map((function(e,t){return'<div\n        class="animation-segment-wrapper animation-segmented-flex-primed"><div\n          class="animation-segment-interior"\n          style="\n            transition-duration: '.concat(n.duration,";\n            transition-timing-function: ").concat(n.easingFunction,";\n            transition-delay: ").concat(20*t,'ms;\n          ">').concat(e,"</div></div>")})).join(" "),n.node.classList.remove("animation-segment-parent-hidden")})),sn(this,"onSegmentTransitionEnd",(function(e){"transform"===e.propertyName&&(e.target.removeEventListener("transitionend",n.onSegmentTransitionEnd),e.target.removeEventListener("transitioncancel",n.onSegmentTransitionEnd),n.completedTransitionCount++,n.completedTransitionCount>=n.expectedTransitions&&n.uninstall())})),sn(this,"play",(function(){n.expectedTransitions=n.node.children.length,n.completedTransitionCount=0,n.node.children.forEach((function(e){e.addEventListener("transitionend",n.onSegmentTransitionEnd),e.addEventListener("transitioncancel",n.onSegmentTransitionEnd),e.classList.add("animation-segmented-flex-fired")}))})),sn(this,"uninstall",(function(){n.unbind(),n.hasRevealed&&(n.node.innerHTML=n.originalHTML,n.hasRevealed=!1)})),this.node=t.node,this.hasRevealed=!1,this.viewportWatcher=t.viewportWatcher,this.viewportRange=t.viewportRange||[100,0],this.easingFunction=t.easingFunction,this.duration=t.duration};function fn(e){return function(e){if(Array.isArray(e))return hn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||pn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(e,t){if(e){if("string"==typeof e)return hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hn(e,t):void 0}}function hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}sn(dn,"isSegmentable",(function(e){return 0===e.children.length&&!!e.innerText.trim()}));var yn,vn,gn,bn,wn,Sn,An,On,xn=new(n(73)),Pn=[100,0],En="fade",kn="scale",Tn="slide",Cn="clip",jn="flex",In="none",Ln=(mn(cn={},En,"preFade"),mn(cn,kn,"preScale"),mn(cn,Tn,"preSlide"),mn(cn,Cn,"preClip"),mn(cn,jn,"preFlex"),cn),Rn=(mn(un={},En,"fadeIn"),mn(un,kn,"scaleIn"),mn(un,Tn,"slideIn"),mn(un,Cn,"clipIn"),mn(un,jn,"flexIn"),un),_n='[data-animation-role="image"]:not([data-animation-override])',Dn='[data-animation-role="button"]',Mn='[data-animation-role="header-element"]',Fn='[data-animation-role="content"]',Bn='[data-animation-role="section"]',zn='[data-animation-role="quote"]:not([data-animation-override])',Nn='[data-animation-role="video"]',Wn=".image-button-wrapper",Un="footer .sqs-block-content",Hn=".grid-item",qn=".form-wrapper",Vn=".menu-wrapper",Gn=".acuity-block-wrapper",Yn=".sqs-block-soundcloud iframe",Xn=".sqs-video-wrapper",Qn=".sqs-block-calendar .sqs-block-content",Zn=".chart-block-container",Jn=".tweet-list .tweet",Kn=(mn(ln={},En,["h1","h2","h3","h4","h5","p",Un,_n,Dn,Mn,Fn,'[data-animation-role="date"]',Bn,zn,Nn]),mn(ln,kn,["h1","h2","h3",Un,_n,zn,Nn,Bn,Mn]),mn(ln,Tn,["h1","h2","h3",Un,_n,zn,Nn,Bn,Mn,Dn]),mn(ln,Cn,[Un,_n,Nn]),mn(ln,jn,["h1","h2","h3","h4","p",Hn,qn,Vn,Gn,Yn,Xn,Qn,Zn,Jn,_n,Mn,Fn,Dn,Wn]),ln),$n=["h1","h2","h3"],er=[Mn,Hn,Jn],tr=function(e){return On.some((function(t){return e.matches(t)}))},nr=function(e,t){tr(e.node)?e.node.classList.add(Rn[En]):e.node.classList.add(Rn[An])},rr={},or={},ir=function(e,t){return new Promise((function(n,r){var o=window.requestAnimationFrame((function(){if(delete rr[o],0===e)n(t);else{var r=window.setTimeout((function(){delete or[r],n(t)}),e);or[r]=r}}));rr[o]=o}))};window.addEventListener("beforeunload",(function(){Object.keys(rr).forEach((function(e){return window.cancelAnimationFrame(e)})),Object.keys(or).forEach((function(e){return window.clearTimeout(e)}))}));var ar=function(){if(0===yn.length)return Promise.resolve();for(var e=0;e<yn.length;e++){var t,n=yn[e];n.style.transitionTimingFunction="",n.style.transitionDuration="",n.style.transitionDelay="",(t=n.classList).remove.apply(t,fn(Object.values(Rn)).concat(fn(Object.values(Ln))))}return xn.removeNodes(yn),yn=[],vn.forEach((function(e){e.uninstall()})),vn=[],On=[],ir(0)},sr=function(e){return(!(t=e.closest(".image-block-outer-wrapper"))||!t.querySelector("[data-animation-override]"))&&!e.matches(".form-wrapper.hidden");var t},cr=function(){var e=function(){var e=Kn[An];if(An!==En){var t=e.map((function(e){return e.trim()}));On=Kn[En].filter((function(e){return"string"==typeof e&&!t.includes(e.trim())}))}var n=document.body.querySelectorAll([].concat(e,On).join(","));return Array.from(n).filter(sr)}(),t=[],n=[],r=$n.join(",");return e.forEach((function(e){if(An===jn&&e.matches(r)&&dn.isSegmentable(e)){var o=new dn({node:e,viewportWatcher:xn,viewportRange:Pn,duration:wn,easingFunction:gn});o.prepare(),n.push(o)}else t.push(e)})),!t.length&&!n.length||An===In?Promise.reject():(yn=t,vn=n,Promise.resolve({directTargets:t,segmentables:n}))},ur=function(e,t){return t.directTargets.forEach((function(e){var t=tr(e)?Ln[En]:Ln[An];e.classList.add(t)})),document.body.dataset.animationState="booted",ir(e?350:0,t)},lr=function(e){var t,n=(t=e.directTargets.length,Number(Sn.substring(0,Sn.length-1))/t),r=er.join(", ");return e.directTargets.forEach((function(e,t){An===jn?(e.style.transitionTimingFunction=bn,e.style.transitionDuration=wn,r&&e.matches(r)&&(e.style.transitionDelay=t*n+"s")):(e.style.transitionTimingFunction=gn,e.style.transitionDuration=wn,e.style.transitionDelay=t*n+"s",An===Cn?e.style.animationDuration=wn:e.style.removeProperty("animation-duration"))})),ir(0,e)},dr=function(e){xn.addNodes({nodes:fn(e.directTargets),range:Pn,callbacks:{onEnter:nr}}),e.segmentables.forEach((function(e){e.bind()}))},fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.animationsPanelOpen,n=void 0!==t&&t;ar().then(cr).then((function(e){return ur(n,e)})).then(lr).then(dr).catch((function(){}))},pr=function(e){An=e},hr=function(e){gn=e},mr={"tweak-global-animations-animation-type":{exec:function(e){pt.b&&An!==In?pr(En):pr(e)}},"tweak-global-animations-complexity-level":{exec:function(e){return function(){console.warn("Complexity Level unimplemented")}}},"tweak-global-animations-animation-curve":{exec:function(e){hr("custom-cubic-bezier"!==e?e:"cubic-bezier(0.19, 1, 0.22, 1)")}},"tweak-global-animations-animation-duration":{exec:function(e){wn=e}},"tweak-global-animations-animation-delay":{exec:function(e){Sn=e}}},yr=Object.keys(mr),vr=$((function(){fr({animationsPanelOpen:!0})}),10);o.a.watch(yr,(function(e){mr[e.name].exec(e.value),vr()})),document.addEventListener("DOMContentLoaded",(function(){if(setTimeout((function(){document.body.dataset.animationState="booted"}),500),"true"===o.a.getValue("tweak-global-animations-enabled")){var e,t=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=pn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(yr);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=o.a.getValue(n);void 0!==r?mr[n].exec(r):console.log("Tweak value is undefined!",r)}}catch(e){t.e(e)}finally{t.f()}fr()}})),An=En,yn=[],vn=[],On=[],gn="ease",bn="cubic-bezier(0.19, 1, 0.22, 1)",wn="0.6s",Sn="0.1s";var gr=function(e){var t=function(){i.a.loadAllLazy({load:!0,mode:"cover",useAdvancedPositioning:!0},e)};return o.a.watch(["gridGutter","gridColumns","tweak-portfolio-grid-image-aspect-ratio"],t),t(),s.a.on(t,c.e),{destroy:function(){s.a.off(t)}}},br=(n(101),n(74)),wr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n||(n=setTimeout((function(){e.apply(void 0,o),n=null}),t))};return r.cancel=function(){clearTimeout(n),n=null},r},Sr=(n(96),[]),Ar=0,Or=!1,xr=!1,Pr=!1,Er={scroll:function(e){xr||(xr=!0,requestAnimationFrame(this.executeCallbacks))},executeCallbacks:function(){for(var e=0;e<Ar;e+=1)Sr[e]();xr=!1},registerCallback:function(e){var t=Sr.indexOf(e);!e||t>-1||(Sr.push(e),Ar+=1)},removeCallback:function(e){if(e){var t=Sr.indexOf(e);-1!==t&&(Sr.splice(t,1),Ar-=1)}},bindMethods:function(){Or||(this.scroll=this.scroll.bind(this),Or=!0)},trigger:function(){this.scroll()},on:function(e){Pr||(Pr=!0,this.bindMethods(),window.addEventListener("scroll",this.scroll)),this.registerCallback(e)},off:function(e){this.removeCallback(e),Ar||(this.bindMethods(),Pr=!1,window.removeEventListener("scroll",this.scroll))}};function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t){return(Cr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rr(e);if(t){var o=Rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ir(this,n)}}function Ir(e,t){return!t||"object"!==kr(t)&&"function"!=typeof t?Lr(e):t}function Lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cr(e,t)}(i,e);var t,n,r,o=jr(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),_r(Lr(t=o.call(this,e)),"onClick",(function(){return t.props.onClick()})),_r(Lr(t),"open",(function(){t.state.isOpen||t.updateOpenState(!0)})),_r(Lr(t),"close",(function(){t.state.isOpen&&t.updateOpenState(!1)})),_r(Lr(t),"updateOpenState",(function(e){t.setState({isOpen:e});var n=t.props,r=n.node,o=n.activeClass,i=n.openTitleSelector,a=n.closeTitleSelector,s=r.querySelector(i),c=r.querySelector(a);e?(r.classList.add(o),s.setAttribute("hidden",""),c.removeAttribute("hidden")):(r.classList.remove(o),s.removeAttribute("hidden"),c.setAttribute("hidden",""))}));var n=t.props.node;return t.state={},t.updateOpenState(!1),n.addEventListener("click",t.onClick),t}return t=i,(n=[{key:"destroy",value:function(){this.props.node.removeEventListener("click",this.onClick)}}])&&Tr(t.prototype,n),r&&Tr(t,r),i}(l.a);_r(Dr,"defaultProps",{node:document.createElement("div"),onClick:ee.a,activeClass:"burger--active",openTitleSelector:".js-header-burger-open-title",closeTitleSelector:".js-header-burger-close-title"});n(95);function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ur(e);if(t){var o=Ur(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nr(this,n)}}function Nr(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?Wr(e):t}function Wr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ur(e){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(i,e);var t,n,r,o=zr(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Hr(Wr(t=o.call(this,e)),"initFolders",(function(e,t){return t.reduce((function(t,n){return t[n.dataset.folder]=n,e.appendChild(n),t}),{})})),Hr(Wr(t),"setInitialState",(function(){var e=t.props,n=e.rootFolder,r=e.folderOpenClass,o=e.folderActiveClass,i=e.transitionDisabledClass;t.depth=[],t.ref.controlBack.length&&t.ref.controlBack.forEach((function(e){return e.classList.add(i)})),Object.keys(t.folders).forEach((function(e){var a=t.folders[e];a.scrollTop=0,a.classList.remove(r),a.classList.remove(o),a.classList.add(i),e===n&&(t.setActiveFolder(a),t.depth.push(a)),setTimeout((function(){a.classList.remove(i),t.ref.controlBack.length&&t.ref.controlBack.forEach((function(e){return e.classList.remove(i)}))}),0)}))})),Hr(Wr(t),"setActiveFolder",(function(e){var n=t.props.folderActiveClass;e.classList.add(n),t.revertFocusContainment&&t.revertFocusContainment(),t.revertFocusContainment=Object(br.containFocus)({predicate:function(t){return t.closest("[data-folder]")===e},root:t.ref.list,setFocusOnContain:!1,restoreFocusOnRevert:!1})})),Hr(Wr(t),"onKeyUp",(function(e){27===e.keyCode&&(e.stopPropagation(),1===t.depth.length?t.props.header.close():t.onParentFolderOpen(e))})),Hr(Wr(t),"handleItemSelect",(function(e){var n=t.props.folderLinkSelector,r=e.target,o=document.location.hostname===e.target.hostname&&document.location.pathname===e.target.pathname,i=""!==e.target.hash;o&&i&&t.props.header.close(),r.matches(n)&&t.handleFolderSelect(e)})),Hr(Wr(t),"handleFolderSelect",(function(e){var n=e.target.dataset.folderId;if(t.folders[n]){e.preventDefault();var r=t.folders[n];t.onSubFolderOpen(r);var o=t.props.controlBackSelector,i=r.querySelector(o);i&&i.focus()}})),Hr(Wr(t),"onSubFolderOpen",(function(e){if(!t.depth.includes(e)){var n=t.props.folderOpenClass,r=t.depth[t.depth.length-1];e.scrollTop=0,r.classList.add(n),t.setActiveFolder(e),t.depth.push(e)}})),Hr(Wr(t),"onParentFolderOpen",(function(e){e.preventDefault();var n=t.props,r=n.folderActiveClass,o=n.folderOpenClass;if(!(t.depth.length<=1)){var i=t.depth[t.depth.length-1];i.classList.remove(r);var a=i.dataset.folder,s=t.props.folderLinkSelector,c=s.trim().substring(1,s.length-1),u=document.querySelector("[".concat(c,'="').concat(a,'"]'));u&&u.focus(),t.depth.pop(),(i=t.depth[t.depth.length-1]).classList.remove(o),t.setActiveFolder(i)}})),Hr(Wr(t),"open",(function(){t.setInitialState(),document.addEventListener("keyup",t.onKeyUp)})),Hr(Wr(t),"close",(function(){document.removeEventListener("keyup",t.onKeyUp),t.revertFocusContainment&&t.revertFocusContainment()}));var n=t.props,r=n.node,a=n.listSelector,s=n.folderSelector,c=n.controlBackSelector;return t.state={},t.depth=[],t.ref={list:r.querySelector(a),folders:Array.from(r.querySelectorAll(s)),controlBack:document.querySelectorAll(c)},t.folders=t.initFolders(t.ref.list,t.ref.folders),t.revertFocusContainment=null,t.setInitialState(),t.bindListeners(),t}return t=i,(n=[{key:"bindListeners",value:function(){var e=this;this.props.node.addEventListener("click",this.handleItemSelect),this.ref.controlBack&&this.ref.controlBack.forEach((function(t){return t.addEventListener("click",e.onParentFolderOpen)}))}},{key:"unbindListeners",value:function(){var e=this;this.ref.node.removeEventListener("click",this.handleItemSelect),this.ref.controlBack&&this.ref.controlBack.forEach((function(t){return t.removeEventListener("click",e.onParentFolderOpen)}))}},{key:"destroy",value:function(){this.unbindListeners()}}])&&Fr(t.prototype,n),r&&Fr(t,r),i}(l.a);function Vr(e,t,n){!function(e,t){t.forEach((function(t){"string"==typeof t&&e.classList.remove(t)}))}(e,t),n&&e.classList.add(n)}function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yr(e){return function(e){if(Array.isArray(e))return Zr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Qr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||Qr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(e,t){if(e){if("string"==typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zr(e,t):void 0}}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t){return(Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=no(e);if(t){var o=no(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return eo(this,n)}}function eo(e,t){return!t||"object"!==Gr(t)&&"function"!=typeof t?to(e):t}function to(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function no(e){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ro(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Hr(qr,"defaultProps",{node:null,listSelector:".header-menu-nav-list",folderSelector:".header-menu-nav-folder",folderLinkSelector:"[data-folder-id]",controlBackSelector:'[data-action="back"]',folderActiveClass:"header-menu-nav-folder--active",folderOpenClass:"header-menu-nav-folder--open",transitionDisabledClass:"transition-disabled",rootFolder:"root"});var oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}(a,e);var t,n,r,i=$r(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ro(to(t=i.call(this)),"tweaks",["header-vert-padding","tweak-transparent-header","header-logo-height","tweak-fixed-header","tweak-fixed-header-style","section-theme","header-horizontal-spacing","tweak-portfolio-index-background-width"]),ro(to(t),"bindGlobalEvents",(function(e){e.forEach((function(e){var n=e.event,r=e.handler;return window.Y.Global.on(n,r,to(t))}))})),ro(to(t),"unbindGlobalEvents",(function(e){t.onWindowLoadGlobalHandler&&window.removeEventListener("load",t.onWindowLoadGlobalHandler),window.removeEventListener(c.a,t.updateNeighborSections),e.forEach((function(e){var n=e.event,r=e.handler;return window.Y.Global.detach(n,r,to(t))}))})),ro(to(t),"observeAnnouncementBar",(function(){var e=t.node.querySelector(".sqs-announcement-bar-dropzone");if(e){t.announcementBarObserver=new MutationObserver(t.dispatchHeaderHeightChangeEvent),t.announcementBarObserver.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]})}})),ro(to(t),"dispatchHeaderHeightChangeEvent",(function(){var e=t.node.getBoundingClientRect().height;window.dispatchEvent(new CustomEvent(c.a,{detail:{headerHeight:e}}))})),ro(to(t),"createBurgers",(function(){t.burgerMobile=new Dr({node:t.ref.burgerMobile,onClick:t.onToggle}),t.isMobileHeaderLayoutsBetaFlagOn&&(t.burgerDesktop=new Dr({node:t.ref.burgerDesktop,onClick:t.onToggle}))})),ro(to(t),"openBurgers",(function(){t.burgerMobile.open(),t.isMobileHeaderLayoutsBetaFlagOn&&t.burgerDesktop.open()})),ro(to(t),"closeBurgers",(function(){t.burgerMobile.close(),t.isMobileHeaderLayoutsBetaFlagOn&&t.burgerDesktop.close()})),ro(to(t),"destroyBurgers",(function(){t.burgerMobile.destroy(),t.isMobileHeaderLayoutsBetaFlagOn&&t.burgerDesktop.destroy()})),ro(to(t),"onFirstSectionChange",(function(){t.updateNeighborSections(),t.onSectionThemeChange(t.getFirstSectionId(),t.getFirstSectionTheme())})),ro(to(t),"onSectionThemeChange",(function(e,n){if(t.state.isOpen)t.updateHeaderTheme(t.node.dataset.menuOverlayTheme);else if(e)e===t.getFirstSectionId()&&t.isHeaderTransparent()&&(t.isFirstSectionInset()?t.updateHeaderTheme():t.updateHeaderTheme(n));else{if(n)return void t.updateHeaderTheme(n);if(!t.isHeaderTransparent())return void t.updateHeaderTheme();var r=t.getFirstSectionTheme();t.updateHeaderTheme(r)}})),ro(to(t),"onTweakSync",(function(e){t.setState({scrollMode:o.a.getValue("tweak-fixed-header-style").toLowerCase()}),"tweak-fixed-header"===e.name&&"true"===e.value?Er.on(t.onScroll):"tweak-fixed-header"===e.name&&Er.off(t.onScroll),t.updateNeighborSections()})),ro(to(t),"hasSibling",(function(){return!!t.node.nextElementSibling})),ro(to(t),"getPageSections",(function(){return t.hasSibling()?t.node.nextElementSibling.querySelectorAll(".page-section, .sqs-empty-section"):[]})),ro(to(t),"getFirstSection",(function(){return Xr(t.getPageSections(),1)[0]})),ro(to(t),"getFirstSectionId",(function(){return t.getFirstSection().getAttribute("data-section-id")})),ro(to(t),"getFirstSectionTheme",(function(){var e=t.getFirstSection();return t.props.themesClasses.find((function(t){return e&&e.classList.contains(t)}))})),ro(to(t),"isFirstSectionInset",(function(){var e=t.getFirstSection();return e&&e.classList.contains("background-width--inset")})),ro(to(t),"isFirstSectionPortfolioInset",(function(){var e=t.getFirstSection();return e&&e.classList.contains("collection-type-portfolio-index-background")&&"Full"===o.a.getValue("tweak-portfolio-index-background-width")})),ro(to(t),"updateHeaderTheme",(function(e){var n=t.node;if(e=e||n.dataset.headerTheme,!t.state.isOpen)return t.isHeaderTransparent()?t.isFirstSectionInset()?void Vr(n,c.j,e):void Vr(n,c.j,t.getFirstSectionTheme()):void Vr(n,c.j,e);Vr(n,c.j,n.dataset.menuOverlayTheme)})),ro(to(t),"onSectionTweak",(function(e){if(t.node.dataset.menuOverlayTheme=e.menuOverlayTheme,Vr(t.ref.menu,c.j,e.menuOverlayTheme),t.state.isOpen?t.updateHeaderTheme(e.menuOverlayTheme):t.updateHeaderTheme(e.sectionTheme),window.Y&&window.Y.Global){var n=t.node.getBoundingClientRect().height;window.Y.Global.fire("headerHeight",{headerHeight:n})}return t.updateNeighborSections(),!0})),ro(to(t),"setBurgerDisplay",(function(){var e,n=t.node.querySelector(".header-nav-list");(e=t.node.querySelector(".header-burger"),t.isMobileHeaderLayoutsBetaFlagOn)&&(e=document.querySelector(".header-display-mobile").querySelector(t.props.burgerSelector));(n.childNodes.length<1||1===n.childNodes.length&&1!==n.childNodes[0].nodeType)&&e.classList.add("no-nav-links")})),ro(to(t),"onResize",(function(){t.updateNeighborSections(),t.toggleFocusContainerOnMenuVisibilityChange()})),ro(to(t),"onScroll",(function(){null!==document.querySelector(".sqs-edit-mode-active")||(t.updateScrollDisplay(),t.scrollTop=window.scrollY)})),ro(to(t),"onToggle",(function(){t.state.isSwitching||(t.state.isOpen?t.close():t.open())})),ro(to(t),"open",(function(){t.state.isOpen||(t.setState({isOpen:!0,isVisible:!0,isSwitching:!0}),t.node.closest("body").classList.add(t.props.headerMenuOpenClass),t.updateHeaderTheme(),t.openBurgers(),t.menu.open(),t.revertFocusContainment=Object(br.containFocus)({container:t.node,setFocusOnContain:!1}),t.setState({isSwitching:!1}))})),ro(to(t),"close",(function(){t.state.isOpen&&(t.setState({isOpen:!1,isVisible:!1,isSwitching:!1}),t.node.closest("body").classList.remove(t.props.headerMenuOpenClass),t.updateHeaderTheme(),t.closeBurgers(),t.menu.close(),t.revertFocusContainment&&t.revertFocusContainment(),t.setState({isSwitching:!1}))})),ro(to(t),"isMenuVisible",(function(){return"visible"===window.getComputedStyle(t.ref.menu).visibility})),ro(to(t),"offsetFirstSectionBackground",(function(e){var n=t.getFirstSection();if(n){var r=n.querySelector(".section-background");r&&(t.isFirstSectionInset()?r.style.top="".concat(e,"px"):r.style.top="")}})),ro(to(t),"toggleHeaderTransparentOverride",(function(e){var n=t.node.querySelector(".header-announcement-bar-wrapper");e?n.classList.add(c.f):n.classList.remove(c.f)})),ro(to(t),"updateNeighborSections",(function(e){var n=null;e&&e.detail&&(n=e.detail.headerHeight);var r=Xr(t.getPageSections(),2),o=r[0],i=r[1],a=n||t.node.getBoundingClientRect().height;if(o){var s=o.classList.contains("gallery-section"),c=o.classList.contains("collection-type-portfolio-hover")||o.classList.contains("collection-type-portfolio-index-background"),u=o.classList.contains("layout-engine-section"),l=o.querySelector(".section-background");if(c){var d="full"===o.querySelector(".portfolio-hover").dataset.width||"inset"===o.querySelector(".portfolio-hover").dataset.width,f=o.querySelector(".portfolio-hover-items"),p=o.querySelector(".section-background");d?(o.style.paddingTop="".concat(a,"px"),f.style.paddingTop="",p&&(p.style.top="".concat(a,"px")),t.toggleHeaderTransparentOverride(!0)):(o.style.paddingTop="",f.style.paddingTop="".concat(a,"px"),p&&(p.style.top=""),t.toggleHeaderTransparentOverride(!1))}else o.style.paddingTop="".concat(a,"px"),s||t.offsetFirstSectionBackground(a);l&&u&&(t.isFirstSectionInset()?l.style.top="".concat(a,"px"):l.style.top=""),k()?setTimeout((function(){t.updateSectionWrapper(o,!0)}),280):t.updateSectionWrapper(o,!0)}i&&(i.style.paddingTop&&(i.style.paddingTop=""),t.updateSectionWrapper(i,!1)),t.node.querySelector(".header-menu").style.paddingTop="".concat(a,"px"),window.Y&&window.Y.Global&&window.Y.Global.fire("headerHeight",{headerHeight:a}),t.addPaddingToSystemPages()})),ro(to(t),"toggleFocusContainerOnMenuVisibilityChange",(function(){t.state.isOpen&&(!t.state.isVisible&&t.isMenuVisible()?(t.revertFocusContainment=Object(br.containFocus)({container:t.node}),t.setState({isVisible:!0})):t.state.isVisible&&!t.isMenuVisible()&&(t.revertFocusContainment&&t.revertFocusContainment(),t.setState({isVisible:!1})))})),ro(to(t),"addPaddingToSystemPages",(function(){var e=document.querySelector(".system-page"),n=t.node.getBoundingClientRect().height;e&&(e.style.paddingTop="".concat(n,"px"))})),ro(to(t),"updateSectionWrapper",(function(e,n){var r=e.querySelector("div[data-template-getter='section-wrapper']");if(r){var o=t.node.getBoundingClientRect().height,i="calc(100% - ".concat(o,"px)");r.style.height=n?i:"100%",r.style.top=n?o+"px":0}})),ro(to(t),"destroy",(function(){t.unbindListeners(),t.destroyBurgers(),t.announcementBarObserver&&t.announcementBarObserver.disconnect()})),t.node=e,t.state={isOpen:!1,isVisible:!1,isSwitching:!1,scrollMode:o.a.getValue("tweak-fixed-header-style").toLowerCase()};var n=t.props,r=n.burgerSelector,s=n.navWrapperSelector,u=n.navListSelector,l=n.menuSelector,d=n.titleLogoSelector;t.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),t.isMobileHeaderLayoutsBetaFlagOn=t.betaFeatureFlags.includes("seven_one_header_editor_update");var f=null,p=t.node.querySelector(r);if(t.isMobileHeaderLayoutsBetaFlagOn){var h=t.node.querySelector(".header-display-desktop");p=t.node.querySelector(".header-display-mobile").querySelector(r),f=h.querySelector(r)}if(t.ref={burgerDesktop:f,burgerMobile:p,navWrapper:t.node.querySelector(s),navList:t.node.querySelector(u),menu:t.node.querySelector(l),titleLogo:t.node.querySelector(d)},t.pos={distance:0,then:0},t.createBurgers(),t.menu=new qr({node:t.ref.menu,header:to(t)}),t.scrollTop=window.scrollY,t.currentStyles=JSON.parse(t.node.getAttribute("data-current-styles")),t.scrollBackTimeout=!1,t.onScroll=wr(t.onScroll,100),t.setBurgerDisplay(),t.globalEvents=[{event:"section:first:change",handler:t.onFirstSectionChange},{event:"section:theme:change",handler:t.onSectionThemeChange},{event:"frame:device:change",handler:t.close},{event:"header:menuOverlay:opened",handler:t.open},{event:"header:menuOverlay:closed",handler:t.close}],t.observeAnnouncementBar(),t.bindListeners(),t.onResize(),t.isHeaderTransparent()&&!t.isFirstSectionInset()){var m=t.getFirstSectionTheme();t.updateHeaderTheme(m)}return Yr(t.node.querySelectorAll(t.props.folderTitleSelector)).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault()}))})),t}return t=a,(n=[{key:"bindListeners",value:function(){var e=this;"true"===o.a.getValue("tweak-fixed-header")&&Er.on(this.onScroll),D.a.watch("header",this.onSectionTweak),s.a.on(this.onResize),o.a.watch(this.tweaks,this.onTweakSync),"complete"===document.readyState?this.bindGlobalEvents(this.globalEvents):(this.onWindowLoadGlobalHandler=function(){return e.bindGlobalEvents(e.globalEvents)},window.addEventListener("load",this.onWindowLoadGlobalHandler)),window.addEventListener(c.a,this.updateNeighborSections),this.ref.titleLogo&&(this.ref.titleLogo.complete&&this.updateNeighborSections(),this.ref.titleLogo.addEventListener("load",this.updateNeighborSections))}},{key:"unbindListeners",value:function(){this.unbindGlobalEvents(this.globalEvents),D.a.disconnect("header",this.onSectionTweak),s.a.off(this.onResize),this.onScroll.cancel&&this.onScroll.cancel(),Er.off(this.onScroll),this.ref.titleLogo&&this.ref.titleLogo.removeEventListener("load",this.updateNeighborSections)}},{key:"updateScrollDisplay",value:function(){var e=this,t=this.state.scrollMode,n=window.scrollY,r=Date.now();if("scroll back"===t){var o=n>this.scrollTop?"down":"up";"up"===o&&n>10?(this.pos.distance+=Math.abs(n-this.scrollTop),r-this.pos.then>500&&(this.pos.distance=0),this.pos.distance>200&&(this.node.style.transform=""),this.pos.then=r):this.node.style.transform="down"===o&&n>10?"translateY(-100%)":""}n>10?this.node.classList.add("shrink"):window.setTimeout((function(){e.node.classList.remove("shrink")}),300)}},{key:"isHeaderTransparent",value:function(){return"true"===o.a.getValue("tweak-transparent-header")}}])&&Jr(t.prototype,n),r&&Jr(t,r),a}(l.a);ro(oo,"defaultProps",{headerMenuOpenClass:"header--menu-open",burgerSelector:".header-burger-btn",navWrapperSelector:".header-nav-wrapper",navListSelector:".header-nav-list",menuSelector:".header-menu",folderTitleSelector:".header-nav-folder-title",titleLogoSelector:".header-title-logo img",themesClasses:c.j});function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function so(e,t){return(so=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function co(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fo(e);if(t){var o=fo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uo(this,n)}}function uo(e,t){return!t||"object"!==io(t)&&"function"!=typeof t?lo(e):t}function lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fo(e){return(fo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&so(e,t)}(u,e);var t,n,r,a=co(u);function u(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),po(lo(t=a.call(this)),"init",(function(){t.zoomOut(),t.unbindListeners(),t.hasImageZoom()&&(t.zoomedNode=null,t.isZoomed=!1,t.nodeRect=null,t.addImageZoom(),t.hasHoverToZoom()?t.addListenersForHover():t.hasClickToZoom()&&t.addListenersForClick(),t.addCommonEventListeners())})),po(lo(t),"addListenersForHover",(function(){t.node.addEventListener("mouseenter",t.zoomIn)})),po(lo(t),"addListenersForClick",(function(){t.node.addEventListener("click",t.onClick)})),po(lo(t),"addImageZoom",(function(){t.hasImageZoom()&&(t.zoomedNode=t.node.querySelector(".product-image-zoom-duplicate"),t.zoomedNode.style.transform="scale("+t.getZoom()+")",i.a.loadLazy(t.zoomedNode.querySelector("img"),{load:!0,mode:"fill",useAdvancedPositioning:!0}))})),po(lo(t),"onClick",(function(e){t.isZoomed?t.zoomOut():t.zoomIn(e)})),po(lo(t),"zoomIn",(function(e){t.node.parentNode.classList.add("is-zoomed"),t.isZoomed=!0,t.trackMovement(e)})),po(lo(t),"zoomOut",(function(){t.node.parentNode.classList.remove("is-zoomed"),t.isZoomed=!1,t.nodeRect=null})),po(lo(t),"onScroll",(function(){t.isZoomed&&t.setNodeRect()})),po(lo(t),"trackMovement",(function(e){if(t.isZoomed&&t.zoomedNode){t.nodeRect||t.setNodeRect();var n=Math.max((e.pageX-t.nodeRect.x)/t.node.clientWidth*100,0),r=Math.max((e.pageY-t.nodeRect.y-pageYOffset)/t.node.clientHeight*100,0);t.zoomedNode.style.transformOrigin="".concat(n,"% ").concat(r,"%")}})),po(lo(t),"destroy",(function(){t.unbindListeners()})),t.node=e,pt.c)return uo(t);return o.a.watch(["tweak-product-basic-item-hover-action","tweak-product-basic-item-click-action","tweak-product-basic-item-gallery-design"],t.init),o.a.watch("tweak-product-basic-item-image-zoom-factor",t.addImageZoom),t.init(),s.a.on(t.addImageZoom,c.e),t}return t=u,(n=[{key:"hasImageZoom",value:function(){return this.hasClickToZoom()||this.hasHoverToZoom()}},{key:"hasHoverToZoom",value:function(){return"Zoom"===o.a.getValue("tweak-product-basic-item-hover-action")&&"Carousel"!==o.a.getValue("tweak-product-basic-item-gallery-design")}},{key:"hasClickToZoom",value:function(){return"Zoom"===o.a.getValue("tweak-product-basic-item-click-action")}},{key:"addCommonEventListeners",value:function(){this.node.addEventListener("mouseleave",this.zoomOut),document.addEventListener("scroll",this.onScroll),this.node.addEventListener("mousemove",this.trackMovement)}},{key:"unbindListeners",value:function(){s.a.off(this.addImageZoom),this.node.removeEventListener("mouseenter",this.zoomIn),this.node.removeEventListener("mouseleave",this.zoomOut),this.node.removeEventListener("mousemove",this.trackMovement),this.node.removeEventListener("click",this.onClick),document.removeEventListener("scroll",this.onScroll)}},{key:"getZoom",value:function(){return o.a.getValue("tweak-product-basic-item-image-zoom-factor")}},{key:"setNodeRect",value:function(){this.nodeRect=this.node.getBoundingClientRect()}}])&&ao(t.prototype,n),r&&ao(t,r),u}(l.a),mo=function(e){if(window.Static&&window.Static.SQUARESPACE_CONTEXT&&window.Static.SQUARESPACE_CONTEXT.betaFeatureFlags)return-1!==window.Static.SQUARESPACE_CONTEXT.betaFeatureFlags.indexOf("global_animations")};function yo(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return vo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vo(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function vo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var go=function(e){var t=document.querySelectorAll("main .page-section");if(0!==t.length){var n,r=t[t.length-1],o=yo(c.j);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.classList.contains(i)&&e.classList.add(i)}}catch(e){o.e(e)}finally{o.f()}}};function bo(e){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e,t){return(So=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Po(e);if(t){var o=Po(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oo(this,n)}}function Oo(e,t){return!t||"object"!==bo(t)&&"function"!=typeof t?xo(e):t}function xo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&So(e,t)}(i,e);var t,n,r,o=Ao(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Eo(xo(t=o.call(this)),"onSetThumbnail",(function(e,n){return t.slideshow.setSlide(e,n)})),Eo(xo(t),"onLightboxOpen",(function(){t.revertFocusContainment=Object(br.containFocus)({container:t.node});var e=t.props.bodyOverflowHiddenClass;document.documentElement.classList.add(e),document.body.classList.add(e)})),Eo(xo(t),"onLightboxClose",(function(){var e=t.props.bodyOverflowHiddenClass;document.documentElement.classList.remove(e),document.body.classList.remove(e),t.revertFocusContainment&&t.revertFocusContainment()}));var n=t.props,r=n.listSelector,a=n.slideSelector,s=n.previousSelector,c=n.nextSelector,u=n.closeSelector;return t.node=e,t.closeButton=t.node.querySelector(u),t.slideshow=new de({isLightbox:!0,node:t.node,display:t.node.querySelector(r),slides:Array.from(t.node.querySelectorAll(a)),buttonPrevious:t.node.querySelector(s),buttonNext:t.node.querySelector(c),buttonLightboxClose:t.closeButton,slideRegionSelector:".gallery-lightbox-item-wrapper",imageWrapperSelector:".gallery-lightbox-item-img",onLightboxOpen:t.onLightboxOpen,onLightboxClose:t.onLightboxClose,imageLoadMode:{mode:"contain",useAdvancedPositioning:!0,forceImageUpdate:!0}}),document.body.appendChild(t.node),t}return t=i,(n=[{key:"destroy",value:function(){this.slideshow.destroy()}}])&&wo(t.prototype,n),r&&wo(t,r),i}(l.a);Eo(ko,"defaultProps",{listSelector:".gallery-lightbox-list",slideSelector:".gallery-lightbox-item",previousSelector:"[data-previous]",nextSelector:"[data-next]",closeSelector:"[data-close]",thumbnailSelector:".gallery-lightbox-thumbnails-thumb",thumbnailsContainerSelector:".gallery-lightbox-thumbnails",thumbnailsScrollerSelector:".gallery-lightbox-thumbnails-scroll",bodyOverflowHiddenClass:"gallery-lightbox-body-hide-overflow"});function To(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Co(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lo="section-match-padding-top",Ro=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Io(this,"onSectionTweak",(function(e){var t=e.styles,r=Object.keys(t).filter((function(e){return n.currentStyles[e]!==t[e]}));if(0===r.length)return!1;r.includes("sectionTheme")&&(t.sectionTheme?n.checkNeighborsMagicPadding(t.sectionTheme):n.checkNeighborsMagicPadding("default-global-theme"))})),Io(this,"destroy",(function(){D.a.disconnect(n.sectionId,n.boundSectionTweak)})),this.betaFeatureFlags=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]),this.isSectionAdmin=this.betaFeatureFlags.includes("section_admin"),this.isSectionAdmin&&(this.node=t,this.sectionId=this.node.getAttribute("data-section-id"),this.currentStyles=JSON.parse(this.node.getAttribute("data-current-styles")),this.prevSection=this.node.previousElementSibling,this.nextSection=this.node.nextElementSibling,this.isFirstSection=null===this.node.previousElementSibling,this.boundSectionTweak=this.onSectionTweak.bind(this),D.a.watch(this.sectionId,this.boundSectionTweak),this.viewportWatcher=new Ee.a,this.viewportWatcher.addNodes({nodes:this.node,range:[100,0],callbacks:{onEnter:function(){n.node.dataset.active=!0}}}),this.onFirstLoadSetMagicPadding())}var t,n,r;return t=e,(n=[{key:"toggleMagicPadding",value:function(e,t,n){e?t.classList.add(n):t.classList.remove(n)}},{key:"doesSectionBackgroundMatch",value:function(e,t){return this.getSectionTheme(e)===t}},{key:"onFirstLoadSetMagicPadding",value:function(){if(!this.node.classList.contains("has-background")){var e=this.getSectionTheme(this.node);this.isFirstSection||this.prevSection.classList.contains("has-background")||this.doesSectionBackgroundMatch(this.prevSection,e)&&this.toggleMagicPadding(!0,this.node,Lo),this.nextSection&&"section"===this.nextSection.nodeName.toLowerCase()&&!this.nextSection.classList.contains("has-background")&&this.doesSectionBackgroundMatch(this.nextSection,e)&&this.toggleMagicPadding(!0,this.node,"section-match-padding-bottom")}}},{key:"checkNeighborsMagicPadding",value:function(e){this.isFirstSection||this.prevSection.classList.contains("has-background")||(this.doesSectionBackgroundMatch(this.prevSection,e)?(this.toggleMagicPadding(!0,this.node,Lo),this.toggleMagicPadding(!0,this.prevSection,"section-match-padding-bottom")):(this.toggleMagicPadding(!1,this.node,Lo),this.toggleMagicPadding(!1,this.prevSection,"section-match-padding-bottom"))),this.nextSection&&"section"===this.nextSection.nodeName.toLowerCase()&&!this.nextSection.classList.contains("has-background")&&(this.doesSectionBackgroundMatch(this.nextSection,e)?(this.toggleMagicPadding(!0,this.node,"section-match-padding-bottom"),this.toggleMagicPadding(!0,this.nextSection,Lo)):(this.toggleMagicPadding(!1,this.node,"section-match-padding-bottom"),this.toggleMagicPadding(!1,this.nextSection,Lo)))}},{key:"getSectionTheme",value:function(e){var t,n=e.classList,r=To(c.j);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(n.contains(o))return o}}catch(e){r.e(e)}finally{r.f()}return"default-global-theme"}},{key:"getSectionHeightClass",value:function(e){var t,n=e.classList;for(t in n)if("string"==typeof n[t]&&n[t].includes("section-height"))return n[t];return"custom-section-theme"}}])&&jo(t.prototype,n),r&&jo(t,r),e}(),_o=n(50),Do=n.n(_o),Mo=Math.ceil,Fo=Math.floor,Bo=function(e){return isNaN(e=+e)?0:(e>0?Fo:Mo)(e)},zo=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e};function No(e,t){return e(t={exports:{}},t.exports),t.exports}var Wo=No((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),Uo=No((function(e){var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)})),Ho=(Uo.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),qo=function(e){if(!Ho(e))throw TypeError(e+" is not an object!");return e},Vo=function(e){try{return!!e()}catch(e){return!0}},Go=!Vo((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),Yo=Wo.document,Xo=Ho(Yo)&&Ho(Yo.createElement),Qo=function(e){return Xo?Yo.createElement(e):{}},Zo=!Go&&!Vo((function(){return 7!=Object.defineProperty(Qo("div"),"a",{get:function(){return 7}}).a})),Jo=Object.defineProperty,Ko={f:Go?Object.defineProperty:function(e,t,n){if(qo(e),t=function(e,t){if(!Ho(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!Ho(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!Ho(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!Ho(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}(t,!0),qo(n),Zo)try{return Jo(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},$o=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},ei=Go?function(e,t,n){return Ko.f(e,t,$o(1,n))}:function(e,t,n){return e[t]=n,e},ti={}.hasOwnProperty,ni=function(e,t){return ti.call(e,t)},ri=0,oi=Math.random(),ii=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++ri+oi).toString(36))},ai=No((function(e){var t=Wo["__core-js_shared__"]||(Wo["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:Uo.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),si=ai("native-function-to-string",Function.toString),ci=No((function(e){var t=ii("src"),n=(""+si).split("toString");Uo.inspectSource=function(e){return si.call(e)},(e.exports=function(e,r,o,i){var a="function"==typeof o;a&&(ni(o,"name")||ei(o,"name",r)),e[r]!==o&&(a&&(ni(o,t)||ei(o,t,e[r]?""+e[r]:n.join(String(r)))),e===Wo?e[r]=o:i?e[r]?e[r]=o:ei(e,r,o):(delete e[r],ei(e,r,o)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[t]||si.call(this)}))})),ui=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},li=function(e,t,n){var r,o,i,a,s=e&li.F,c=e&li.G,u=e&li.S,l=e&li.P,d=e&li.B,f=c?Wo:u?Wo[t]||(Wo[t]={}):(Wo[t]||{}).prototype,p=c?Uo:Uo[t]||(Uo[t]={}),h=p.prototype||(p.prototype={});for(r in c&&(n=t),n)i=((o=!s&&f&&void 0!==f[r])?f:n)[r],a=d&&o?ui(i,Wo):l&&"function"==typeof i?ui(Function.call,i):i,f&&ci(f,r,i,e&li.U),p[r]!=i&&ei(p,r,a),l&&h[r]!=i&&(h[r]=i)};Wo.core=Uo,li.F=1,li.G=2,li.S=4,li.P=8,li.B=16,li.W=32,li.U=64,li.R=128;var di,fi=li,pi={},hi={}.toString,mi=function(e){return hi.call(e).slice(8,-1)},yi=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==mi(e)?e.split(""):Object(e)},vi=function(e){return yi(zo(e))},gi=Math.min,bi=function(e){return e>0?gi(Bo(e),9007199254740991):0},wi=Math.max,Si=Math.min,Ai=ai("keys"),Oi=function(e){return Ai[e]||(Ai[e]=ii(e))},xi=(di=!1,function(e,t,n){var r,o=vi(e),i=bi(o.length),a=function(e,t){return(e=Bo(e))<0?wi(e+t,0):Si(e,t)}(n,i);if(di&&t!=t){for(;i>a;)if((r=o[a++])!=r)return!0}else for(;i>a;a++)if((di||a in o)&&o[a]===t)return di||a||0;return!di&&-1}),Pi=Oi("IE_PROTO"),Ei="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ki=Object.keys||function(e){return function(e,t){var n,r=vi(e),o=0,i=[];for(n in r)n!=Pi&&ni(r,n)&&i.push(n);for(;t.length>o;)ni(r,n=t[o++])&&(~xi(i,n)||i.push(n));return i}(e,Ei)},Ti=Go?Object.defineProperties:function(e,t){qo(e);for(var n,r=ki(t),o=r.length,i=0;o>i;)Ko.f(e,n=r[i++],t[n]);return e},Ci=Wo.document,ji=Ci&&Ci.documentElement,Ii=Oi("IE_PROTO"),Li=function(){},Ri=function(){var e,t=Qo("iframe"),n=Ei.length;for(t.style.display="none",ji.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),Ri=e.F;n--;)delete Ri.prototype[Ei[n]];return Ri()},_i=Object.create||function(e,t){var n;return null!==e?(Li.prototype=qo(e),n=new Li,Li.prototype=null,n[Ii]=e):n=Ri(),void 0===t?n:Ti(n,t)},Di=No((function(e){var t=ai("wks"),n=Wo.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:ii)("Symbol."+e))}).store=t})),Mi=Ko.f,Fi=Di("toStringTag"),Bi=function(e,t,n){e&&!ni(e=n?e:e.prototype,Fi)&&Mi(e,Fi,{configurable:!0,value:t})},zi={};ei(zi,Di("iterator"),(function(){return this}));var Ni,Wi=function(e,t,n){e.prototype=_i(zi,{next:$o(1,n)}),Bi(e,t+" Iterator")},Ui=function(e){return Object(zo(e))},Hi=Oi("IE_PROTO"),qi=Object.prototype,Vi=Object.getPrototypeOf||function(e){return e=Ui(e),ni(e,Hi)?e[Hi]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?qi:null},Gi=Di("iterator"),Yi=!([].keys&&"next"in[].keys()),Xi=function(){return this},Qi=(Ni=!0,function(e,t){var n,r,o=String(zo(e)),i=Bo(t),a=o.length;return i<0||i>=a?Ni?"":void 0:(n=o.charCodeAt(i))<55296||n>56319||i+1===a||(r=o.charCodeAt(i+1))<56320||r>57343?Ni?o.charAt(i):n:Ni?o.slice(i,i+2):r-56320+(n-55296<<10)+65536});!function(e,t,n,r,o,i,a){Wi(n,t,r);var s,c,u,l=function(e){if(!Yi&&e in h)return h[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},d=t+" Iterator",f="values"==o,p=!1,h=e.prototype,m=h[Gi]||h["@@iterator"]||o&&h[o],y=m||l(o),v=o?f?l("entries"):y:void 0,g="Array"==t&&h.entries||m;if(g&&(u=Vi(g.call(new e)))!==Object.prototype&&u.next&&(Bi(u,d,!0),"function"!=typeof u[Gi]&&ei(u,Gi,Xi)),f&&m&&"values"!==m.name&&(p=!0,y=function(){return m.call(this)}),(Yi||p||!h[Gi])&&ei(h,Gi,y),pi[t]=y,pi[d]=Xi,o)if(s={values:f?y:l("values"),keys:i?y:l("keys"),entries:v},a)for(c in s)c in h||ci(h,c,s[c]);else fi(fi.P+fi.F*(Yi||p),t,s)}(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=Qi(t,n),this._i+=e.length,{value:e,done:!1})}));var Zi=function(e,t,n,r){try{return r?t(qo(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&qo(o.call(e)),t}},Ji=Di("iterator"),Ki=Array.prototype,$i=function(e){return void 0!==e&&(pi.Array===e||Ki[Ji]===e)},ea=function(e,t,n){t in e?Ko.f(e,t,$o(0,n)):e[t]=n},ta=Di("toStringTag"),na="Arguments"==mi(function(){return arguments}()),ra=Di("iterator"),oa=Uo.getIteratorMethod=function(e){if(null!=e)return e[ra]||e["@@iterator"]||pi[function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),ta))?n:na?mi(t):"Object"==(r=mi(t))&&"function"==typeof t.callee?"Arguments":r}(e)]},ia=Di("iterator"),aa=!1;try{[7][ia]().return=function(){aa=!0}}catch(e){}function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t,n){return t&&ca(e.prototype,t),n&&ca(e,n),e}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){la(e,t,n[t])}))}return e}fi(fi.S+fi.F*!function(e,t){if(!t&&!aa)return!1;var n=!1;try{var r=[7],o=r[ia]();o.next=function(){return{done:n=!0}},r[ia]=function(){return o},e(r)}catch(e){}return n}((function(e){})),"Array",{from:function(e){var t,n,r,o,i=Ui(e),a="function"==typeof this?this:Array,s=arguments.length,c=s>1?arguments[1]:void 0,u=void 0!==c,l=0,d=oa(i);if(u&&(c=ui(c,s>2?arguments[2]:void 0,2)),null==d||a==Array&&$i(d))for(n=new a(t=bi(i.length));t>l;l++)ea(n,l,u?c(i[l],l):i[l]);else for(o=d.call(i),n=new a;!(r=o.next()).done;l++)ea(n,l,u?Zi(o,c,[r.value,l],!0):r.value);return n.length=l,n}});var fa=["","-o-","-webkit-","-moz-","-ms-"],pa=function(){for(var e=document.head.style,t=0,n=fa.length;t<n;t+=1)e.position="".concat(fa[t],"sticky");var r=e.position?e.position:"fixed";return e.position="",r}(),ha=function(){function e(t,n){var r=this;sa(this,e),la(this,"onResize",(function(){r.node.style.maxWidth="".concat(r.parentNode.clientWidth,"px"),r.computeScrollOffsets(),r.onScroll()})),la(this,"onScroll",(function(){var e=r.pos,t=e.state,n=e.start,o=e.stop,i=window.pageYOffset;return i>n&&i<o&&("default"===t||"stuck"===t)?(r.pos.state="sticky",r.node.style.position="fixed",r.node.style.bottom="",r.node.style.top=0,void(r.node.dataset.stickyState="sticky")):i<=n&&("sticky"===t||"stuck"===t)?(r.pos.state="default",r.node.style.position="",void(r.node.dataset.stickyState="none")):void(i>=o&&("default"===t||"sticky"===t)&&(r.pos.state="stuck",r.node.style.top="",r.node.style.bottom=0,r.node.style.position="absolute",r.node.dataset.stickyState="stuck"))})),la(this,"refresh",(function(){r.onResize()})),la(this,"destroy",(function(){r.unbindListeners()})),this.props=da({},this.constructor.defaultProps,n),this.pos={state:"default"},this.node=t,this.parentNode=t.parentNode,this.resizeObserver=null,this.bindListeners(),this.computeScrollOffsets()}return ua(e,[{key:"bindListeners",value:function(){if(window.ResizeObserver)return this.resizeObserver=new ResizeObserver(this.onResize),void this.resizeObserver.observe(this.parentNode);s.a.on(this.onResize),this.onResize()}},{key:"unbindListeners",value:function(){if(window.ResizeObserver)return this.resizeObserver.disconnect(this.node),void(this.resizeObserver=null);s.a.off(this.onResize)}},{key:"computeScrollOffsets",value:function(){var e=function(e){var t=e,n=0;do{n=t.offsetTop+n}while(t=t.offsetParent);return n}(this.parentNode);this.pos.start=e,this.pos.stop=e+this.parentNode.offsetHeight-this.node.offsetHeight}}]),e}();la(ha,"defaultProps",{});var ma=function(){function e(t,n){var r=this;sa(this,e),la(this,"onScroll",(function(){for(var e=0;e<r.fixedNodesLen;e+=1)r.fixedNodes[e].onScroll()})),la(this,"refresh",(function(){for(var e=0;e<r.fixedNodesLen;e+=1)r.fixedNodes[e].refresh()})),la(this,"destroy",(function(){r.unbindListeners(),r.fixedNodes.forEach((function(e){return e.destroy()})),r.fixedNodes=[]})),this.props=da({},this.constructor.defaultProps,n);var o=this.props.forceFixed;this.position=o?"fixed":pa,this.nodes="string"==typeof t?Array.from(document.querySelectorAll(t)):[t],this.fixedNodes=[];for(var i="fixed"!==this.position?this.position:"",a=0,s=this.nodes.length;a<s;a+=1){var c=this.nodes[a];c.style.top=0,c.style.position=i,"fixed"===this.position&&this.fixedNodes.push(new ha(c,this.props))}this.fixedNodesLen=this.fixedNodes.length,this.bindListeners()}return ua(e,[{key:"bindListeners",value:function(){"fixed"===this.position&&Do.a.on(this.onScroll)}},{key:"unbindListeners",value:function(){"fixed"===this.position&&Do.a.off(this.onScroll)}}]),e}();la(ma,"defaultProps",{forceFixed:!1});var ya=ma;function va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ba=!!("ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof DocumentTouch),wa=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ga(this,"onResize",(function(){n.ruler&&n.refresh()})),ga(this,"onScroll",(function(){n.ruler&&n.refresh()})),ga(this,"refreshRuler",(function(){if(n.ruler){var e=n.ruler.node.clientHeight;n.ruler.height!==e&&n.props.onResize(e),n.ruler.height=e}})),ga(this,"destroy",(function(){n.ruler&&(document.documentElement.removeChild(n.ruler),n.ruler=null,s.a.off(n.onResize),n.props.useManualScrollListener||Do.a.off(n.onScroll))})),this.props=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ga(e,t,n[t])}))}return e}({},this.constructor.defaultProps,t);var r=this.props.useManualScrollListener;if(this.ruler=this.createRuler(),this.refresh=this.props.throttle?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];n||(n=setTimeout((function(){e.apply(void 0,o),n=null}),t))};return r.cancel=function(){clearTimeout(n),n=null},r}(this.refreshRuler,this.props.throttle):this.refreshRuler,!this.ruler)return this;s.a.on(this.onResize),r||Do.a.on(this.onScroll),this.props.onResize(this.ruler.height)}var t,n,r;return t=e,(n=[{key:"createRuler",value:function(){if(!ba)return null;var e=document.createElement("div");e.style.position="fixed",e.style.top=0,e.style.bottom=0,e.style.left=-1,e.style.visibility="hidden",document.documentElement.appendChild(e);var t=e.clientHeight;return this.props.sticky&&(this.props.sticky.nodes[0].style.maxHeight=t+"px"),{node:e,height:t}}},{key:"height",get:function(){return this.ruler.height}}])&&va(t.prototype,n),r&&va(t,r),e}();ga(wa,"defaultProps",{onResize:function(){},throttle:250,useManualScrollListener:!1});var Sa=wa,Aa=(n(115),function(e){return e.match(/[A-Z]{2,}(?=[A-Z][a-z0-9]*|\b)|[A-Z]?[a-z0-9]*|[A-Z]|[0-9]+/g).filter(Boolean).map((function(e){return e.toLowerCase()})).join("-")});function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pa(e,t){return(Pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ca(e);if(t){var o=Ca(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ka(this,n)}}function ka(e,t){return!t||"object"!==Oa(t)&&"function"!=typeof t?Ta(e):t}function Ta(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ca(e){return(Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ia=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pa(e,t)}(i,e);var t,n,r,o=Ea(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ja(Ta(n=o.call(this,t)),"onResize",(function(){})),ja(Ta(n),"setImage",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Date.now()-n.last,o=r>=n.animationDuration,i=t||!n.animationDuration?0:o?100:Math.max(0,n.animationDuration-r);clearTimeout(n.showImageTimeout),clearTimeout(n.hideImageTimeout),clearTimeout(n.imageAnimatingTimeout),n.onSetImage(e,t),e!==n.currentIndex&&(n.showImageTimeout=setTimeout((function(){n.isPersistImages||n.hideImages(),n.showImage(e,t),n.last=Date.now()}),i))})),ja(Ta(n),"unset",(function(){clearTimeout(n.showImageTimeout),clearTimeout(n.hideImageTimeout),n.onUnset(),n.hideImageTimeout=setTimeout((function(){n.hideImages()}),n.isHideDelayed?n.animationDuration:0)})),ja(Ta(n),"onSetImage",(function(){})),ja(Ta(n),"onUnset",(function(){})),ja(Ta(n),"onShowImage",(function(){})),ja(Ta(n),"onImageShown",(function(){})),ja(Ta(n),"onHide",(function(){})),ja(Ta(n),"onDestroy",(function(){})),ja(Ta(n),"destroy",(function(){n.onDestroy(),clearTimeout(n.activeTimeout),clearTimeout(n.imageAnimatingTimeout),clearTimeout(n.showImageTimeout),clearTimeout(n.hideImageTimeout)}));var r=n.props,a=r.items,s=r.imageSelector;n.itemLen=a.length,n.itemDimensions=n.getItemDimensions(a),n.last=null,n.currentIndex=-1,n.lastIndex=-1,n.animationDuration=600,n.isHideDelayed=!1,n.isPersistImages=!0,n.node=e,n.node.dataset.active=!1;for(var c=0,u=a.length;c<u;c+=1)a[c].dataset.active=null,a[c].dataset.animated=null,a[c].querySelector(s).style.transitionDuration=null;return n.showImageTimeout=null,n.activeTimeout=null,n.hideImageTimeout=null,n}return t=i,(n=[{key:"getItemDimensions",value:function(e){return e.map((function(e){var t=e.querySelector("img");return Object(f.c)(t)}))}},{key:"showImage",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.props.items;r[e].dataset.active=!1,r[e].dataset.animated=!n,r[e].parentNode.appendChild(r[e]),this.currentIndex=e,this.onShowImage(e,n),clearTimeout(this.activeTimeout),this.activeTimeout=setTimeout((function(){r[e].dataset.active=!0,t.onImageShown()}),n||!this.animationDuration?0:25),this.lastIndex=e}},{key:"hideImages",value:function(){var e=this.props.items;clearTimeout(this.activeTimeout),this.onHide();for(var t=0,n=e.length;t<n;t+=1)e[t].dataset.active=!1,t!==this.currentIndex&&(e[t].dataset.animated=!1);this.currentIndex=-1}}])&&xa(t.prototype,n),r&&xa(t,r),i}(l.a);function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(e,t){return(_a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Da(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ba(e);if(t){var o=Ba(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ma(this,n)}}function Ma(e,t){return!t||"object"!==La(t)&&"function"!=typeof t?Fa(e):t}function Fa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ba(e){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ja(Ia,"defaultProps",{items:[]});var Na={medium:600,fast:300,slow:900},Wa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_a(e,t)}(i,e);var t,n,r,o=Da(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),za(Fa(n=o.call(this,e,t)),"onDestroy",(function(){}));var r=n.props.animationDuration;return n.animationDuration=Na[r],n.isHideDelayed=!1,n.reset(),n}return t=i,(n=[{key:"reset",value:function(){for(var e=this.props,t=e.items,n=e.imageSelector,r=0,o=t.length;r<o;r+=1)t[r].querySelector(n).style.transitionDuration=this.animationDuration+"ms"}}])&&Ra(t.prototype,n),r&&Ra(t,r),i}(Ia);za(Wa,"defaultProps",{items:[],imageSelector:".portfolio-hover-bg-img",animationDuration:"medium"});var Ua=n(65),Ha=n(49),qa=function(e,t,n){return e<t?t:e>n?n:e},Va=function(e,t,n,r){var o=Math.min(e/n,t/r);return{width:n*o,height:r*o}};function Ga(e){return(Ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xa(e,t){return(Xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ka(e);if(t){var o=Ka(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Za(this,n)}}function Za(e,t){return!t||"object"!==Ga(t)&&"function"!=typeof t?Ja(e):t}function Ja(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ka(e){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var es={fast:300,medium:600,slow:900},ts=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xa(e,t)}(i,e);var t,n,r,o=Qa(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),$a(Ja(n=o.call(this,e,t)),"onSetImage",(function(e){n.node.dataset.active=!0,n.startFollowing(e)})),$a(Ja(n),"onShowImage",(function(e){var t=n.state,r=t.width,o=t.height;n.resizeAnim.last=n.itemDimensions[n.lastIndex]||{width:r,height:o},n.resizeAnim.current=n.itemDimensions[e];var i=-1!==n.lastIndex;n.resizeImages(r,o),n.updateRatio(r,o,n.resizeAnim.current),n.resizeWrapper(i,n.resizeAnim.current.worldWidth,n.resizeAnim.current.worldHeight)})),$a(Ja(n),"onUnset",(function(){n.stopFollowing(),n.node.dataset.active=!1})),$a(Ja(n),"onScroll",(function(){var e=n.props.container.getBoundingClientRect();n.pos.target.offsetY=e.top})),$a(Ja(n),"onResize",(function(e,t){var r=n.node.clientWidth,o=n.node.clientHeight;n.setState({width:r,height:o,halfWidth:.5*r,halfHeight:.5*o,regionWidth:e,regionHeight:t}),n.resizeImages(r,o),n.updatePosition()})),$a(Ja(n),"onEnter",(function(e){if(!n.state.isCursorActive){var t=n.props.rootNode,r=Object(pt.d)(e),o=r.clientX,i=r.clientY;n.setTargetPosition(o,i),n.setState({isCursorActive:!0}),t.addEventListener(pt.a.move,n.onMove)}})),$a(Ja(n),"onMove",(function(e){var t=Object(pt.d)(e),r=t.clientX,o=t.clientY;n.setTargetPosition(r,o)})),$a(Ja(n),"onLeave",(function(){var e=n.props.rootNode;n.state.isCursorActive&&(n.setState({isCursorActive:!1}),e.removeEventListener(pt.a.move,n.onMove))})),$a(Ja(n),"tick",(function(){n.updatePosition(),n.frame=requestAnimationFrame(n.tick)})),$a(Ja(n),"onDestroy",(function(){n.tween&&n.tween.destroy(),n.tween=null,n.unbindListeners(),cancelAnimationFrame(n.frame),clearTimeout(n.stopFollowingTimeout)}));var r=n.props,a=r.containerSelector,s=r.animationDuration,c=r.modeFollowSize,u=r.modeFollowAcceleration;return n.state={acceleration:.01*u,width:0,height:0,halfWidth:0,halfHeight:0,regionWidth:800,regionHeight:600,isCursorActive:!1,last:Date.now()},n.node.style.width="".concat(c,"vmin"),n.node.style.height="".concat(c,"vmin"),n.animationDuration=es[s],n.isPersistImages=!1,n.stopFollowingTimeout=null,n.reset(),n.pos={x:0,y:0,target:{x:0,y:0,offsetY:0}},n.tween=null,n.resizeAnim={value:0,last:{width:100,height:100,worldWidth:100,worldHeight:100},current:{width:100,height:100,worldWidth:100,worldHeight:100}},n.ref={container:n.node.querySelector(a)},n.frame=null,n.onDebounceScroll=$(n.onScroll,250),n.bindListeners(),n}return t=i,(n=[{key:"reset",value:function(){var e=this.props,t=e.items,n=e.imageSelector;this.node.style.transitionDuration=this.animationDuration+"ms";for(var r=0,o=t.length;r<o;r+=1)t[r].querySelector(n).style.transitionDuration=this.animationDuration+"ms"}},{key:"startFollowing",value:function(e){-1===this.currentIndex&&(this.pos.x=this.pos.target.x,this.pos.y=this.pos.target.y),clearTimeout(this.stopFollowingTimeout),cancelAnimationFrame(this.frame),this.frame=requestAnimationFrame(this.tick),this.updatePosition()}},{key:"stopFollowing",value:function(){var e=this;clearTimeout(this.stopFollowingTimeout),this.stopFollowingTimeout=setTimeout((function(){cancelAnimationFrame(e.frame)}),this.animationDuration)}},{key:"bindListeners",value:function(){var e=this,t=this.props.rootNode;Do.a.on(this.onDebounceScroll),t.addEventListener(pt.a.enter,this.onEnter),pt.a.leave.forEach((function(n){return t.addEventListener(n,e.onLeave)})),this.onScroll()}},{key:"unbindListeners",value:function(){var e=this,t=this.props.rootNode;Do.a.off(this.onDebounceScroll),t.removeEventListener(pt.a.enter,this.onEnter),t.removeEventListener(pt.a.move,this.onMove),pt.a.leave.forEach((function(n){return t.removeEventListener(n,e.onLeave)}))}},{key:"resizeImages",value:function(e,t){for(var n=this.props.items,r=0;r<this.itemLen;r+=1){var o=n[r],i=this.itemDimensions[r],a=Va(e,t,i.width,i.height);o.style.width="".concat(a.width,"px"),o.style.height="".concat(a.height,"px")}this.updateRatio(e,t,this.resizeAnim.last),this.updateRatio(e,t,this.resizeAnim.current),this.updateWrapper(e,t)}},{key:"updateRatio",value:function(e,t,n){var r=Math.min(e/n.width,t/n.height);n.worldWidth=n.width*r,n.worldHeight=n.height*r}},{key:"resizeWrapper",value:function(e,t,n){var r=this;this.tween&&(this.tween.destroy(),this.tween=null),e?this.tween=new Ua.a({duration:.001*this.animationDuration,from:0,to:1,onUpdate:function(e){r.resizeAnim.value=e,r.updateWrapper()},onComplete:function(){r.resizeAnim.value=1,r.updateWrapper()}}):this.updateWrapper(t,n)}},{key:"updateWrapper",value:function(e,t){var n=this.props.wrapper;if(e&&t)return n.style.width="".concat(e,"px"),void(n.style.height="".concat(t,"px"));var r=this.resizeAnim.value,o=Object(Ha.b)(this.resizeAnim.last.worldWidth,this.resizeAnim.current.worldWidth,r),i=Object(Ha.b)(this.resizeAnim.last.worldHeight,this.resizeAnim.current.worldHeight,r);n.style.width="".concat(o,"px"),n.style.height="".concat(i,"px")}},{key:"setTargetPosition",value:function(e,t){this.pos.target.x=e,this.pos.target.y=t}},{key:"updatePosition",value:function(){var e=this.state,t=e.acceleration,n=e.regionHeight,r=e.height,o=e.halfWidth,i=e.halfHeight,a=this.pos.target.x,s=this.pos.target.y+-this.pos.target.offsetY;this.pos.x+=(a-this.pos.x)*t,this.pos.y+=(s-this.pos.y)*t;var c=this.pos.x-o,u=qa(this.pos.y-i,0,n-r);this.node.style.transform="translate3d("+c+"px, "+u+"px, 0)"}}])&&Ya(t.prototype,n),r&&Ya(t,r),i}(Ia);function ns(e){return(ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function os(e,t){return(os=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function is(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cs(e);if(t){var o=cs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return as(this,n)}}function as(e,t){return!t||"object"!==ns(t)&&"function"!=typeof t?ss(e):t}function ss(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cs(e){return(cs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$a(ts,"defaultProps",{rootNode:document.createElement("div"),container:document.createElement("div"),wrapper:document.createElement("div"),items:[],animationDuration:"medium",containerSelector:".portfolio-hover-backgrounds-wrapper",imageSelector:".portfolio-hover-bg-img",modeFollowSize:75,modeFollowAcceleration:10});var ls={fast:300,medium:600,slow:900},ds=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&os(e,t)}(i,e);var t,n,r,o=is(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),us(ss(n=o.call(this,e,t)),"onSetImage",(function(e){n.node.dataset.active=!0})),us(ss(n),"onShowImage",(function(e){var t=n.state,r=t.width,o=t.height;n.resizeAnim.last=n.itemDimensions[n.lastIndex]||{width:r,height:o},n.resizeAnim.current=n.itemDimensions[e];var i=-1!==n.lastIndex;n.resizeImages(r,o),n.updateRatio(r,o,n.resizeAnim.current),n.resizeWrapper(i,n.resizeAnim.current.worldWidth,n.resizeAnim.current.worldHeight)})),us(ss(n),"onUnset",(function(){n.node.dataset.active=!1})),us(ss(n),"onResize",(function(e,t){var r=n.node.clientWidth,o=n.node.clientHeight;n.setState({width:r,height:o,halfWidth:.5*r,halfHeight:.5*o,regionWidth:e,regionHeight:t}),n.resizeImages(r,o)})),us(ss(n),"onDestroy",(function(){n.tween&&n.tween.destroy(),n.tween=null}));var r=n.props,a=r.containerSelector,s=r.animationDuration,c=r.modeOriginalSize;return n.state={width:0,height:0,halfWidth:0,halfHeight:0,regionWidth:800,regionHeight:600},n.node.style.width=c+"vmin",n.node.style.height=c+"vmin",n.animationDuration=ls[s],n.isPersistImages=!1,n.reset(),n.tween=null,n.resizeAnim={value:0,last:{width:100,height:100,worldWidth:100,worldHeight:100},current:{width:100,height:100,worldWidth:100,worldHeight:100}},n.ref={container:n.node.querySelector(a)},n}return t=i,(n=[{key:"reset",value:function(){var e=this.props,t=e.items,n=e.imageSelector;this.node.style.transitionDuration=this.animationDuration+"ms";for(var r=0,o=t.length;r<o;r+=1)t[r].querySelector(n).style.transitionDuration=this.animationDuration+"ms"}},{key:"resizeImages",value:function(e,t){for(var n=this.props.items,r=0;r<this.itemLen;r+=1){var o=Va(e,t,this.itemDimensions[r].width,this.itemDimensions[r].height);n[r].style.width="".concat(o.width,"px"),n[r].style.height="".concat(o.height,"px")}this.updateRatio(e,t,this.resizeAnim.last),this.updateRatio(e,t,this.resizeAnim.current),this.updateWrapper(e,t)}},{key:"updateRatio",value:function(e,t,n){var r=Math.min(e/n.width,t/n.height);n.worldWidth=n.width*r,n.worldHeight=n.height*r}},{key:"resizeWrapper",value:function(e,t,n){var r=this;this.tween&&(this.tween.destroy(),this.tween=null),e?this.tween=new Ua.a({duration:.001*this.animationDuration,from:0,to:1,onUpdate:function(e){r.resizeAnim.value=e,r.updateWrapper()},onComplete:function(){r.resizeAnim.value=1,r.updateWrapper()}}):this.updateWrapper(t,n)}},{key:"updateWrapper",value:function(e,t){var n=this.props.wrapper;if(e&&t)return n.style.width="".concat(e,"px"),void(n.style.height="".concat(t,"px"));var r=this.resizeAnim.value,o=Object(Ha.b)(this.resizeAnim.last.worldWidth,this.resizeAnim.current.worldWidth,r),i=Object(Ha.b)(this.resizeAnim.last.worldHeight,this.resizeAnim.current.worldHeight,r);n.style.width="".concat(o,"px"),n.style.height="".concat(i,"px")}}])&&rs(t.prototype,n),r&&rs(t,r),i}(Ia);us(ds,"defaultProps",{wrapper:document.createElement("div"),items:[],animationDuration:"medium",imageSelector:".portfolio-hover-bg-img",containerSelector:".portfolio-hover-backgrounds-wrapper",modeOriginalSize:75});var fs={"hover-cover":{Class:Wa,canPersist:!0},"hover-follow":{Class:ts,canPersist:!1},"hover-static":{Class:ds,canPersist:!0}};function ps(e){return(ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ms(e,t){return(ms=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ys(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bs(e);if(t){var o=bs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vs(this,n)}}function vs(e,t){return!t||"object"!==ps(t)&&"function"!=typeof t?gs(e):t}function gs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bs(e){return(bs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ss=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ms(e,t)}(i,e);var t,n,r,o=ys(i);function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ws(gs(n=o.call(this,t)),"onItemOver",(function(){var e=n.props,t=e.index,r=e.onItemOver,o=e.onItemTouchStart;pt.c?o(event,t):r(t)})),ws(gs(n),"onItemOut",(function(){var e=n.props,t=e.index;(0,e.onItemOut)(t)})),ws(gs(n),"activate",(function(e){n.state.isActive||(n.setState({isActive:!0}),n.node.dataset.active=!0)})),ws(gs(n),"deactivate",(function(e){n.state.isActive&&(n.setState({isActive:!1}),n.node.dataset.active=!1)})),ws(gs(n),"destroy",(function(){n.unbindListeners()}));var r=n.props.imageMaskSelector;return n.state={isActive:!1},n.node=e,n.ref={imageMask:n.node.querySelector(r)},n.bindListeners(),n}return t=i,(n=[{key:"bindListeners",value:function(){var e=this;this.node.addEventListener(pt.a.enter,this.onItemOver),this.node.addEventListener("touchstart",(function(t,n){e.onItemTouchStart(t,n)})),pt.a.leave.forEach((function(t){e.node.addEventListener(t,e.onItemOut)}))}},{key:"unbindListeners",value:function(){var e=this;this.node.removeEventListener(pt.a.enter,this.onItemOver),this.node.removeEventListener("touchstart",this.onItemTouchEnd),pt.a.leave.forEach((function(t){e.node.removeEventListener(t,e.onItemOut)}))}}])&&hs(t.prototype,n),r&&hs(t,r),i}(l.a);function As(e){return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Os(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xs(Object(n),!0).forEach((function(t){Ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ks(e,t){return(ks=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ts(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Is(e);if(t){var o=Is(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cs(this,n)}}function Cs(e,t){return!t||"object"!==As(t)&&"function"!=typeof t?js(e):t}function js(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Is(e){return(Is=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ws(Ss,"defaultProps",{index:0,titleSelector:".portfolio-hover-item-title",contentSelector:".portfolio-hover-item-content",imageMaskSelector:".portfolio-hover-item-background-mask",onItemOver:ee.a,onItemOut:ee.a,onItemTouchStart:ee.a});var Rs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ks(e,t)}(u,e);var t,n,r,a=Ts(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),Ls(js(t=a.call(this)),"sectionTweaksToWatch",["layout","persistSelection","width","height","customHeight","selectionInFront","verticalAlign","horizontalAlign","delimiter","spacingVertical","spacingHorizontal","mode","animation","animationDuration","modeBackgroundLayout","modeOriginalSize","modeFollowSize","modeFollowAcceleration"]),Ls(js(t),"parseTweak",{layout:function(e){return Aa(e)},selectionInFront:function(e){return"true"===e},persistSelection:function(e){return"true"===e},width:function(e){return Aa(e)},height:function(e){return Aa(e)},verticalAlign:function(e){return Aa(e)},horizontalAlign:function(e){return Aa(e)},spacingHorizontal:function(e){return parseFloat(e,10)},spacingVertical:function(e){return parseFloat(e,10)},delimiter:function(e){return Aa(e)},animation:function(e){return Aa(e)},animationDuration:function(e){return Aa(e)},modeFollowSize:function(e){return Number(e)},modeFollowAcceleration:function(e){return parseFloat(e,10)},modeOriginalSize:function(e){return Number(e)}}),Ls(js(t),"onItemOver",(function(e){return t.setItem(e)})),Ls(js(t),"onItemTouchStart",(function(e,n){t.setItem(n)})),Ls(js(t),"onItemOut",(function(e){return t.unsetItem(e)})),Ls(js(t),"setItem",(function(e){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0;r<t.itemLen;r+=1)e!==r?t.items[r].deactivate():(t.items[r].activate(),t.imageMode.setImage(r,n));t.setState({lastIndex:e,isHover:!0})})),Ls(js(t),"unsetItem",(function(e){for(var n=t.state,r=n.persistSelection,o=n.mode,i=n.lastIndex,a=r&&t.checkIsPersistCapable(o),s=0;s<t.itemLen;s+=1)a&&i===s?t.items[s].activate():t.items[s].deactivate();t.setState({isHover:!1});var c=i;a?t.imageMode.setImage(c,!1,!0):t.imageMode.unset()})),Ls(js(t),"checkIsPersistCapable",(function(e){return fs[e].canPersist})),Ls(js(t),"loadImages",(function(){i.a.loadAllLazy({load:!0,mode:"cover",useAdvancedPositioning:!0},t.node)})),Ls(js(t),"onResize",(function(){var e=window.innerHeight,n=t.ref.items.clientHeight,r=Ps(Ps({},t.state),{windowHeight:e,itemsHeight:n});t.setState(Ps({},r)),t.refreshDataset(r),t.refreshMode(r),t.refreshPersist();var o=t.node.clientWidth,i=Math.min(window.innerHeight,t.node.clientHeight);t.baseSticky&&t.baseSticky.refresh(),t.imageMode&&t.imageMode.onResize(o,i),t.loadImages()})),Ls(js(t),"onRulerResize",(function(e){t.node.style.minHeight=e+"px",t.baseSticky&&t.baseSticky.refresh()})),Ls(js(t),"parseTweaks",(function(){return Object.keys(t.tweaks.map).reduce((function(e,n){var r=t.tweaks.map[n],i=o.a.getValue(n);return void 0!==i&&(e[r]=t.parseTweak[r]?t.parseTweak[r](i):i),e}),{})})),Ls(js(t),"onTweak",(function(){var e=Ps(Ps({},t.state),t.parseTweaks());t.tweaks.watch.some((function(n){return e[t.tweaks.map[n]]!==t.state[t.tweaks.map[n]]}))&&t.updateState(e)})),Ls(js(t),"onSectionTweak",(function(e){var n=Ps(Ps({},t.state),e);return!!t.sectionTweaksToWatch.some((function(e){return n[e]!==t.state[e]}))&&(t.updateState(n),!0)})),Ls(js(t),"updateState",(function(e){t.isDestroyed||(t.refreshDataset(e),t.refreshMode(e),t.setState(Ps({},e)),t.refreshPersist(),t.onResize())})),Ls(js(t),"destroy",(function(){t.isDestroyed=!0,t.unbindListeners(),t.ruler.destroy(),t.baseSticky.destroy(),t.ruler=null,t.baseSticky=null,t.imageMode&&(t.imageMode.destroy(),t.imageMode=null);for(var e=0;e<t.itemLen;e+=1)t.items[e].destroy();t.items=[],t.itemLen=0}));var n=t.props,r=n.baseStickySelector,s=n.itemsSelector,c=n.listSelector,l=n.itemSelector,d=n.backgroundsSelector,f=n.itemBackgroundSelector,p=n.backgroundsWrapperSelector,h=n.backgroundSelector;e.dataset.init=!0;var m=Ps({tweaks:{}},e.dataset.props?JSON.parse(e.dataset.props):{});return t.tweaks=Object.keys(m.tweaks).reduce((function(e,t){var n=m.tweaks[t];return e.watch.push(n),e.map[n]=t,e}),{watch:[],map:{}}),t.state=Ps(Ps(Ps({layout:"inline",persistSelection:!1,width:"full-bleed",height:"large",customHeight:100,selectionInFront:!1,verticalAlign:"center",horizontalAlign:"center",delimiter:"comma",spacingHorizontal:.3,spacingVertical:.6,animation:"scale-up",animationDuration:"medium",mode:"background",modeBackgroundLayout:"cover",modeOriginalSize:75,modeFollowSize:60,modeFollowAcceleration:10},m),t.parseTweaks()),{},{windowHeight:0,itemsHeight:0,lastIndex:0,isHover:!1}),e.dataset.stackedLayout=t.state.stackedLayout,t.node=e,t.ref={items:t.node.querySelector(s),list:t.node.querySelector(c),backgrounds:t.node.querySelector(d),itemBackground:Array.from(t.node.querySelectorAll(f)),backgroundsWrapper:t.node.querySelector(p),background:Array.from(t.node.querySelectorAll(h))},t.baseStickyNode=t.node.querySelector(r),t.items=Array.from(t.node.querySelectorAll(l)).map((function(e,n){return new Ss(e,{index:n,spacingHorizontal:t.state.spacingHorizontal,spacingVertical:t.state.spacingVertical,onItemOver:t.onItemOver,onItemOut:t.onItemOut,onItemTouchStart:t.onItemTouchStart})})),t.itemLen=t.items.length,t.imageMode=null,t.progress=0,t.onDebouncedResize=$(t.onResize,100),t.refreshDataset(t.state),t.refreshMode(t.state,!0),t.baseSticky=new ya(t.baseStickyNode,{forceFixed:!1}),t.ruler=new Sa({onResize:t.onRulerResize}),t.bindListeners(),t.state.persistSelection&&t.checkIsPersistCapable(t.state.mode)&&t.setItem(t.state.lastIndex,!0),t.tweaks.watch.length&&o.a.watch(t.tweaks.watch,t.onTweak),t}return t=u,(n=[{key:"bindListeners",value:function(){window.addEventListener(c.a,this.onResize),s.a.on(this.onDebouncedResize),this.onResize()}},{key:"unbindListeners",value:function(){window.removeEventListener(c.a,this.onResize),s.a.off(this.onDebouncedResize)}},{key:"refreshPersist",value:function(){this.unsetItem(-1)}},{key:"refreshDataset",value:function(e){this.node.dataset.layout=e.layout,this.node.dataset.delimiter=e.delimiter,this.node.dataset.activeItemFront=e.selectionInFront,this.node.dataset.mode=e.mode,this.node.dataset.width=e.width,this.node.dataset.height=e.height,this.node.dataset.customHeight=e.customHeight,this.node.dataset.verticalAlign=e.verticalAlign,this.node.dataset.horizontalAlign=e.horizontalAlign,this.node.dataset.modeBackgroundLayout=e.modeBackgroundLayout,this.node.dataset.animation=e.animation,this.node.dataset.animationDuration=e.animationDuration}},{key:"refreshMode",value:function(e){var t=e.mode,n=Os(e,["mode"]);if(!fs[t])throw new Error('Mode of mode "'.concat(t,'" does not exist'));this.imageMode&&(this.imageMode.destroy(),this.imageMode=null),this.imageMode=new fs[t].Class(this.ref.backgrounds,Ps(Ps({},n),{},{rootNode:this.node,container:this.baseStickyNode,wrapper:this.ref.backgroundsWrapper,items:this.ref.background,secondaryItems:this.ref.itemBackground}))}}])&&Es(t.prototype,n),r&&Es(t,r),u}(l.a);Ls(Rs,"defaultProps",{baseStickySelector:".portfolio-hover-base-sticky",itemsSelector:".portfolio-hover-items",listSelector:".portfolio-hover-items-list",itemSelector:".portfolio-hover-item",itemBackgroundSelector:".portfolio-hover-item-background-wrapper",backgroundsSelector:".portfolio-hover-backgrounds",backgroundsWrapperSelector:".portfolio-hover-backgrounds-wrapper",backgroundSelector:".portfolio-hover-bg"});function _s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ds=["tweak-portfolio-index-background-animation-type","tweak-portfolio-index-background-animation-duration","tweak-portfolio-index-background-width"],Ms={Default:400,Fast:200,Slow:800},Fs=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.refs={},this.refs.container=t,this.refs.mask=t.querySelector(".portfolio-index-background-image-mask"),this.refs.content=t.querySelector(".portfolio-index-background-image-content"),this.refs.image=t.querySelector("img[data-src]"),this.boundOnLoad=this.onLoad.bind(this),this.isVisible=!1,this.refs.container.style.visibility="hidden"}var t,n,r;return t=e,(n=[{key:"show",value:function(e,t){this.isVisible||(this.isVisible=!0,this.refs.container.classList.add("is-active"),this.refs.container.style.visibility="visible",this.refs.mask&&(this.refs.mask.style.animation="portfolio-index-background-image-mask--".concat(e,"-in ").concat(t,"ms both"),this.refs.content.style.animation="portfolio-index-background-image-content--".concat(e,"-in ").concat(t,"ms both")))}},{key:"hide",value:function(e,t){this.isVisible&&(this.isVisible=!1,this.refs.container.classList.remove("is-active"),this.refs.mask&&(this.refs.mask.style.animation="portfolio-index-background-image-mask--".concat(e,"-out ").concat(t/2,"ms both"),this.refs.content.style.animation="portfolio-index-background-image-content--".concat(e,"-out ").concat(t/2,"ms both")))}},{key:"load",value:function(){this.refs.image&&(this.isLoaded||this.refs.image.addEventListener("load",this.boundOnLoad),i.a.loadLazy(this.refs.image,{load:!0}))}},{key:"onLoad",value:function(){this.refs.content.classList.add("is-loaded"),this.refs.image.style.display="none",this.refs.image.removeAttribute("src"),this.refs.image.removeEventListener("load",this.boundOnLoad)}},{key:"isLoaded",get:function(){return this.refs.content.classList.contains("is-loaded")}}])&&_s(t.prototype,n),r&&_s(t,r),e}(),Bs=function(e){var t=e.closest(".content-wrapper"),n=e.querySelector(".portfolio-index-background-images"),r=e.querySelector(".portfolio-index-background-images");t.style.alignSelf="stretch",r.dataset.transition="scale-down";var i={};i.images=Array.from(e.querySelectorAll(".portfolio-index-background-image-container")),i.links=Array.from(e.querySelectorAll(".portfolio-index-background-link"));var a,u,l=i.images.map((function(e){return new Fs(e)})),d={activeIndex:null,windowSize:[0,0]},f=function(){return d.windowSize[0]>c.g.sm},p=function(){if(null===e.closest(".page-section").previousElementSibling){var t="Full Bleed"===o.a.getValue("tweak-portfolio-index-background-width"),r=document.querySelector(".header").getBoundingClientRect().height,i=e.closest(".page-section").querySelector(".section-background"),a=e.closest(".collection-type-portfolio-index-background");t?(n.style.top="0",n.style.height="100%",a.style.paddingTop="0",a.style.height="100%",i&&(i.style.top="")):(n.style.top="",n.style.height="100%",i&&(i.style.top="".concat(r,"px")))}},h=(a=function(){if(!f()){var t=e.getBoundingClientRect(),n=-t.top/(t.height-d.windowSize[1]),r=Math.floor(n*l.length);d.activeIndex=r}var a=o.a.getValue("tweak-portfolio-index-background-animation-type").toLowerCase().split(" ").join("-"),s=Ms[o.a.getValue("tweak-portfolio-index-background-animation-duration")];null!==d.activeIndex?e.classList.add("is-active"):e.classList.remove("is-active"),l.forEach((function(e,t){t===d.activeIndex?e.show(a,s):e.hide(a,s)})),i.links.forEach((function(e,t){t===d.activeIndex?e.classList.add("is-active"):e.classList.remove("is-active")}))},u=!1,function(){var e=arguments;u||(u=!0,window.requestAnimationFrame((function(){u=!1,a(e)})))});o.a.watch(Ds,(function(e){"tweak-portfolio-index-background-width"===e.name&&p(),l.forEach((function(e){e.load()})),h()})),i.links.forEach((function(e,t){e.addEventListener("mouseenter",(function(){d.activeIndex=t,h()})),e.addEventListener("mouseleave",(function(){d.activeIndex=null,h()}))})),window.addEventListener("scroll",(function(){h()}));var m=function(){p(),d.windowSize=[window.innerWidth,window.innerHeight],l.forEach((function(e){e.load()})),f()&&(d.activeIndex=null),h()};return m(),{destroy:function(){n.style.top="",t.style.alignSelf="",s.a.off(m,c.e)}}},zs=function(e){var t,n=function(){i.a.loadAllLazy({load:!0,mode:"cover",useAdvancedPositioning:!0},e)},r=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.classList.add("is-loaded");var r=n.target;r&&r.removeEventListener("load",t)};return o.a.watch(["tweak-products-width","tweak-products-gutter-column","tweak-products-gutter-row","tweak-products-columns","tweak-products-image-aspect-ratio"],(function(e){n()})),(t=e.querySelectorAll("img")).length<=0&&r(),t.forEach((function(e){e.addEventListener("load",r)})),n(),s.a.on(n,c.e),{destroy:function(){s.a.off(n)}}},Ns=n(232),Ws=function(e){var t=window.matchMedia("(max-width: ".concat(c.g[e]-1,"px)"));return t&&t.matches},Us=function(e,t){var n=e.querySelectorAll(".product-variants");n.length&&n.forEach((function(e){return e.addEventListener("variant:change",(function(e){var n=e.detail.selectedVariant.mainImageId,r=t.state.currentSlideIndex;if(n){var i=o.a.getValue("tweak-product-basic-item-gallery-design"),a=Array.from(t.state.slides).find((function(e){return e.dataset.imageId===n})),s=parseInt(a.dataset.slideIndex,10)-1;if("Stacked"!==i||k())r!==s&&(t.galleryNode.classList.add("enable-slide-animations"),t.setCurrentSlideIndex(s,t.state.currentSlideIndex>s));else{var c=document.body.scrollTop+document.documentElement.scrollTop+a.getBoundingClientRect().top;Object(Ns.scrollTo)(document.documentElement,c,{minDuration:350,maxDuration:550})}if("full-width-carousel"===t.layout&&!Ws("sm")&&t.prevButton){var u=parseInt(a.dataset.slideTransition,10);t.state.slideTransitionValue=-50*u,t.slideshow.style.transform="translateX(".concat(t.state.slideTransitionValue,"%)"),t.prevButton.disabled=!1,t.nextButton.disabled=!1,0===u&&(t.prevButton.disabled=!0),u>=t.state.slideTransitionTotal-2&&(t.nextButton.disabled=!0),t.setCurrentSlideIndex(s,t.state.currentSlideIndex>s)}}}))}))};function Hs(e){return(Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vs(e,t){return(Vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qs(e);if(t){var o=Qs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ys(this,n)}}function Ys(e,t){return!t||"object"!==Hs(t)&&"function"!=typeof t?Xs(e):t}function Xs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qs(e){return(Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Js=function(){return o.a.getValue("tweak-product-basic-item-gallery-design")},Ks=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vs(e,t)}(c,e);var t,n,r,a=Gs(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),Zs(Xs(t=a.call(this)),"onTweakSync",(function(e){t.updateSlideAttributes(),"tweak-product-basic-item-click-action"!==e.name||"Lightbox"!==e.value?"tweak-product-basic-item-click-action"!==e.name?t.loadImages():t.unbindLightboxListeners():t.bindLightboxListeners()})),Zs(Xs(t),"openLightbox",(function(e){if(t.isLightboxEnabled()){var n=e.target.closest('[data-product-gallery="slides-item"]'),r=Array.from(t.state.slides).indexOf(n);if(-1!==r){var o=t.state.slides[r].dataset.slideUrl,i=t.state,a=i.isHistoryEnabled,s=i.collectionFullUrl;if(a&&o){var c=s.replace(/^\/+(?! )/,"");e.preventDefault(),history.pushState({},"","".concat(c,"/?itemId=").concat(o))}}}})),Zs(Xs(t),"onSlideKeyDown",(function(e){13===e.keyCode&&t.openLightbox(e)})),Zs(Xs(t),"bindLightboxListeners",(function(){t.state.slides.forEach((function(e){e.addEventListener("click",t.openLightbox),e.addEventListener("keydown",t.onSlideKeyDown)}))})),Zs(Xs(t),"unbindLightboxListeners",(function(){t.state.slides.forEach((function(e){e.removeEventListener("click",t.openLightbox),e.removeEventListener("keydown",t.onSlideKeyDown)}))})),Zs(Xs(t),"bindListeners",(function(){document.addEventListener("keydown",t.onKeypress),t.prevButton&&t.prevButton.addEventListener("click",t.onPreviousSlide),t.nextButton&&t.nextButton.addEventListener("click",t.onNextSlide),t.thumbnails.forEach((function(e){return e.addEventListener("click",t.onClickThumbnail)}))})),Zs(Xs(t),"unbindListeners",(function(){document.removeEventListener("keypress",t.onKeypress),t.prevButton&&t.prevButton.removeEventListener("click",t.onPreviousSlide),t.nextButton&&t.nextButton.removeEventListener("click",t.onNextSlide),t.thumbnails.forEach((function(e){return e.removeEventListener("click",t.onClickThumbnail)}))})),Zs(Xs(t),"onKeypress",(function(e){37===e.keyCode?t.onPreviousSlide():39===e.keyCode&&t.onNextSlide()})),Zs(Xs(t),"onImageLoaded",(function(e){var n=e.currentTarget.parentNode;n.classList.add("loaded"),"1"===n.dataset.slideIndex&&t.onFirstImageLoaded()})),Zs(Xs(t),"onFirstImageLoaded",(function(){Array.from(t.node.querySelectorAll("[data-first-img-load]")).forEach((function(e){e.classList.add("enabled")}))})),Zs(Xs(t),"getImageMode",(function(){if(k())return"fill";if(t.layout)return"cover";switch(Js()){case"Carousel":return"contain";case"Slideshow":return"fill";default:return"none"}})),Zs(Xs(t),"loadImages",(function(){var e=t.getImageMode();Array.from(t.galleryNode.querySelectorAll("img")).forEach((function(n){n.onload=t.onImageLoaded,i.a.loadLazy(n,{load:!0,mode:e,useAdvancedPositioning:!0})}));var n=t.galleryNode.querySelector(".selected");"full-width-carousel"===t.layout&&t.nextButton&&t.updateCarouselControls(n)})),Zs(Xs(t),"setTransitionCount",(function(){var e=0;Array.from(t.galleryNode.querySelectorAll("img")).forEach((function(t){var n,r,o,i=t.dataset.imageDimensions,a=t.parentNode;a.dataset.slideTransition=e,e+=1,i&&(o=i.split("x"),n=parseInt(o[0],10),r=parseInt(o[1],10),n>r)&&(a.dataset.landscape=!0,e+=1)})),t.state.slideTransitionTotal=e})),Zs(Xs(t),"updateCarouselControls",(function(e){if(Ws("sm"))return t.prevButton.disabled=!1,t.nextButton.disabled=!1,void(t.slideshow.style="");if(t.state.slideTransitionTotal<3)return t.prevButton.classList.add("invisible"),void t.nextButton.classList.add("invisible");if(e){var n=parseInt(e.dataset.slideTransition,10);t.state.slideTransitionValue=-50*n,t.slideshow.style.transform="translateX(".concat(t.state.slideTransitionValue,"%)"),0===n&&(t.prevButton.disabled=!0,t.nextButton.disabled=!1),n>=t.state.slideTransitionTotal&&(t.nextButton.disabled=!0,t.prevButton.disabled=!1)}})),Zs(Xs(t),"refreshSlideStyles",(function(e){var n=t.state,r=n.currentSlideIndex,o=n.totalSlides,i=n.prevSlideIndex,a=o-1;Array.from(t.node.querySelectorAll('[data-product-gallery="slides-item"]')).forEach((function(n,s){if(i===s||r===s){var c=s<=r-1||0===r&&s===a,u=s>=r+1||r===a&&0===s;n.classList.toggle("prev-slide",o>1&&c),n.classList.toggle("next-slide",o>1&&u),n.classList.toggle("selected",s===r),n.classList.toggle("going-prev",e),n.classList.toggle("going-next",!e),t.updateSlideAttributes()}}))})),Zs(Xs(t),"onClickThumbnail",(function(e){var n=e.currentTarget,r=Array.from(n.parentNode.children),o=r.indexOf(n);t.setCurrentSlideIndex(o),t.setCurrentAttribute(o,r)})),Zs(Xs(t),"onPreviousSlide",(function(){t.galleryNode.classList.add("enable-slide-animations");var e=t.state,n=e.currentSlideIndex,r=e.lastSlideChangeTime,o=e.totalSlides,i=Date.now();if(!t.prevButton||!t.prevButton.disabled){if("full-width-carousel"===t.layout&&!Ws("sm")&&t.state.slideTransitionTotal>2){t.prevButton.disabled=!1,t.nextButton.disabled=!1,t.state.slideTransitionValue=t.state.slideTransitionValue+50,t.slideshow.style.transform="translateX(".concat(t.state.slideTransitionValue,"%)");var a=Math.abs(t.state.slideTransitionValue/50);return t.galleryNode.querySelector('[data-slide-transition="'.concat(a,'"]'))&&(t.setState({lastSlideChangeTime:i}),t.setCurrentSlideIndex(n-1,!0)),void(0===t.state.slideTransitionValue&&(t.prevButton.disabled=!0))}if(r+400<=i){t.setState({lastSlideChangeTime:i});var s=0===n?o-1:n-1;t.setCurrentSlideIndex(s,!0)}}})),Zs(Xs(t),"onNextSlide",(function(){t.galleryNode.classList.add("enable-slide-animations");var e=t.state,n=e.currentSlideIndex,r=e.lastSlideChangeTime,o=e.totalSlides,i=Date.now();if(!t.nextButton||!t.nextButton.disabled){if("full-width-carousel"===t.layout&&!Ws("sm")&&t.state.slideTransitionTotal>2){t.prevButton.disabled=!1,t.nextButton.disabled=!1,t.state.slideTransitionValue=t.state.slideTransitionValue-50,t.slideshow.style.transform="translateX(".concat(t.state.slideTransitionValue,"%)");var a=Math.abs(t.state.slideTransitionValue/50);return t.galleryNode.querySelector('[data-slide-transition="'.concat(a,'"]'))&&t.setCurrentSlideIndex(n+1),void(a>=t.state.slideTransitionTotal-2&&(t.nextButton.disabled=!0))}r+400<=i&&(t.setState({lastSlideChangeTime:i}),t.setCurrentSlideIndex(n===o-1?0:n+1))}})),Zs(Xs(t),"refreshSlideIndicator",(function(){var e=t.state,n=e.totalSlides,r=e.currentSlideIndex,o=t.node.querySelector('[data-product-gallery="indicator"]');n>1&&o&&(o.textContent="".concat(r+1," / ").concat(n))})),Zs(Xs(t),"setCurrentSlideIndex",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.setState({currentSlideIndex:e,prevSlideIndex:t.state.currentSlideIndex}),t.refreshSlideIndicator(),t.refreshSlideStyles(n)})),Zs(Xs(t),"setCurrentAttribute",(function(e,t){t.forEach((function(t,n){t.setAttribute("aria-current",e===n?"true":"false")}))})),Zs(Xs(t),"updateSlideAttributes",(function(){var e=t.state,n=e.slides,r=e.currentSlideIndex;n.forEach((function(e,n){var o="Stacked"===Js()||n===r;o?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden","true"),o&&t.isLightboxEnabled()?(e.setAttribute("tabindex",0),e.setAttribute("role","link")):(e.setAttribute("tabindex",-1),e.removeAttribute("role"))}))})),Zs(Xs(t),"destroy",(function(){t.swipe&&(t.swipe.destroy(),s.a.off(t.loadImages)),t.unbindListeners()})),t.node=e,t.galleryNode=e.querySelector('[data-product-gallery="container"]'),t.layout=e.dataset.layout,t.slideshow=e.querySelector('[data-product-gallery="slideshow"]'),t.thumbnails=Array.from(t.node.querySelectorAll('[data-product-gallery="thumbnails-item"]')),t.prevButton=e.querySelector('[data-product-gallery="prev"]'),t.nextButton=e.querySelector('[data-product-gallery="next"]');var n=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.collection.fullUrl",null),r="enabled_for_blogs_and_pages"===Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.websiteSettings.pinterestOverlayOptions.mode",null);t.history=Object(N.a)();var u=t.node.querySelectorAll('[data-product-gallery="slides-item"]');t.state={lastSlideChangeTime:0,slides:u,totalSlides:u.length,collectionFullUrl:n,isHistoryEnabled:n&&t.history,slideTransitionValue:0,slideTransitionTotal:0};if(o.a.watch(["tweak-product-basic-item-gallery-aspect-ratio","tweak-product-basic-item-gallery-design","tweak-product-basic-item-gallery-width","tweak-product-basic-item-width","tweak-product-basic-item-thumbnail-placement","tweak-product-basic-item-click-action"],t.onTweakSync),u.length>0){t.setTransitionCount(),t.setCurrentSlideIndex(0),s.a.on(t.loadImages),t.loadImages();var l=t.node.querySelector('[data-product-gallery="slides"]');t.swipe=new K.a({axis:"x",node:l,onSwipeRight:t.onPreviousSlide,onSwipeLeft:t.onNextSlide,preventScroll:!1}),Us(t.node,Xs(t)),t.thumbnails&&t.setCurrentAttribute(0,t.thumbnails),t.updateSlideAttributes(),r&&u.forEach((function(e){return e.classList.add("sqs-pinterest-products-wrapper")}))}return t.bindListeners(),t.isLightboxEnabled()&&t.bindLightboxListeners(),t}return t=c,(n=[{key:"isLightboxEnabled",value:function(){return"Lightbox"===o.a.getValue("tweak-product-basic-item-click-action")}}])&&qs(t.prototype,n),r&&qs(t,r),c}(l.a);function $s(e){return($s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tc(e,t){return(tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ic(e);if(t){var o=ic(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rc(this,n)}}function rc(e,t){return!t||"object"!==$s(t)&&"function"!=typeof t?oc(e):t}function oc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ic(e){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ac=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t)}(i,e);var t,n,r,o=nc(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),n=oc(t),a=function(){t.variants.forEach((function(e,n){e.removeEventListener("change",t.changeEvents[n])}))},(r="destroy")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.changeEvents=[],t.node=e,t.variants=t.node.querySelectorAll(".variant-option"),t.variants.forEach((function(e){var n=e.querySelector(".variant-select-wrapper"),r=e.querySelector("select"),o=r.querySelector("option").innerText;n.setAttribute("data-text",o);var i=t.createChangeCallback(n,r,o);t.changeEvents.push(i),e.addEventListener("change",i)})),t}return t=i,(n=[{key:"createChangeCallback",value:function(e,t,n){return function(){e.setAttribute("data-text",t.value||n)}}}])&&ec(t.prototype,n),r&&ec(t,r),i}(l.a);function sc(e){return(sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cc(e,t){return(cc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dc(e);if(t){var o=dc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lc(this,n)}}function lc(e,t){return!t||"object"!==sc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cc(e,t)}(n,e);var t=uc(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=t.call(this),e.querySelector(".sqs-add-to-cart-button").classList.remove("sqs-editable-button"),r}return n}(l.a);function pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hc=Object(j.a)(window,"Static.SQUARESPACE_CONTEXT.betaFeatureFlags",[]).includes("seven_one_image_overlay_opacity"),mc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.node=t,this.imageOverlayOpacityValue=this.node.getAttribute("data-image-overlay-opacity"),this.applyOverlay()}var t,n,r;return t=e,(n=[{key:"applyOverlay",value:function(){!hc&&window.isNaN(this.imageOverlayOpacityValue)||(this.node.style.opacity=this.imageOverlayOpacityValue)}}])&&pc(t.prototype,n),r&&pc(t,r),e}();function yc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.workFn=t,this.pending=!1,this.samples=[],this.lastCompleteExecution=null,this.sampledAverageExecution=null,this.pendingDowntime=null}var t,n,r;return t=e,(n=[{key:"invoke",value:function(){var e=this,t=this.lastCompleteExecution,n=this.sampledAverageExecution;if(!this.pending){if(null!==t&&null!==n){var r=Date.now()-t,o=2*n;if(r<o){var i=o-r;return this.pendingDowntime?void 0:void(this.pendingDowntime=setTimeout((function(){e.invoke(),e.pendingDowntime=null}),i))}}this.doWork()}}},{key:"doWork",value:function(){var e=Date.now();this.pending=!0;try{this.workFn()}catch(e){console.error(e)}this.lastCompleteExecution=Date.now();var t=this.lastCompleteExecution-e;this.pending=!1;var n=this.samples;n.unshift(t),n.length>22&&(this.samples=n=n.slice(0,22)),this.sampledAverageExecution=n.reduce((function(e,t){return e+t}),0)/n.length}}])&&yc(t.prototype,n),r&&yc(t,r),e}();var gc=function(e){var t=new vc(e);return function(){return t.invoke()}};function bc(e){return function(e){if(Array.isArray(e))return wc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sc=function(e){return"collection-type-".concat(e)},Ac=Object.values(c.d).map(Sc);function Oc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pc={backgroundWidth:["background-width--full-bleed","background-width--inset"],contentWidth:["content-width--narrow","content-width--medium","content-width--wide"],sectionHeight:["section-height--small","section-height--medium","section-height--large"],horizontalAlignment:["horizontal-alignment--left","horizontal-alignment--center","horizontal-alignment--right"],verticalAlignment:["vertical-alignment--top","vertical-alignment--middle","vertical-alignment--bottom"]},Ec=["contentWidth","customContentWidth","customSectionHeight","imageOverlayOpacity"].concat(Object.keys(Pc)),kc=!1,Tc=!1,Cc=!1,jc=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xc(this,"loadBackgroundImage",(function(){null!==n.ref.backgroundImage&&i.a.loadLazy(n.ref.backgroundImage,{load:!0,mode:"cover",useAdvancedPositioning:!0})})),xc(this,"onSectionTweak",(function(e){n.isMainContentSection&&e.typeName&&e.typeName.indexOf("blog-")>-1&&function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;(t=n.classList).remove.apply(t,bc(Ac)),e&&n.classList.add(Sc(e))}(e.typeName);var t=e.styles,r=Object.keys(t).filter((function(e){return n.currentStyles[e]!==t[e]}));if(0===r.length)return!1;if(t.contentWidth===n.currentStyles.contentWidth&&t.customContentWidth===n.currentStyles.customContentWidth||(Cc=!0),t.imageOverlayOpacity!==n.currentStyles.imageOverlayOpacity){var i=n.node.querySelector(".section-background-overlay");i&&(i.style.opacity=t.imageOverlayOpacity)}"section-height--custom"===t.sectionHeight&&(kc=!0),t.verticalAlignment!==n.currentStyles.verticalAlignment&&(Tc=!0),n.currentStyles=t;var a="true"===o.a.getValue("tweak-transparent-header");if(n.isFirstSection&&a){var s=document.querySelector(".header");if(!n.node.classList.contains(c.c)&&r.includes("sectionTheme")){var u=t.sectionTheme;Vr(s,c.j,u)}if(r.includes("backgroundWidth")){if(t.backgroundWidth===c.b){var l=n.currentStyles.sectionTheme;Vr(s,c.j,l)}t.backgroundWidth===c.c&&Vr(s,c.j)}}return!!r.find((function(e){return Ec.includes(e)}))&&(n.throttledRenderStyles(),!0)})),xc(this,"destroy",(function(){D.a.disconnect(n.sectionId,n.boundSectionTweak),s.a.off(n.loadBackgroundImage)})),this.node=t,this.sectionId=this.node.getAttribute("data-section-id"),this.isMainContentSection=this.node.classList.contains("content-collection"),this.currentStyles=JSON.parse(this.node.getAttribute("data-current-styles")),this.isFirstSection=null===this.node.previousElementSibling,this.boundSectionTweak=this.onSectionTweak.bind(this),this.throttledRenderStyles=gc((function(){return n.renderStyles()})),D.a.watch(this.sectionId,this.boundSectionTweak),this.viewportWatcher=new Ee.a,this.viewportWatcher.addNodes({nodes:this.node,range:[100,0],callbacks:{onEnter:function(){n.node.dataset.active=!0}}}),this.ref={backgroundImage:this.node.querySelector(".section-background img")},s.a.on(this.loadBackgroundImage,c.e),this.loadBackgroundImage()}var t,n,r;return t=e,(n=[{key:"removeClassesAndApplyNewValue",value:function(e,t,n,r){var o=this;e.forEach((function(e){return o.node.classList.remove(e)})),e.includes(t)?(this.node.classList.add(t),r&&r(t)):n&&n(t)}},{key:"applySectionHeight",value:function(e,t){if("string"!=typeof t){var n=this.node.querySelector(".content-wrapper");this.node.style.minHeight="".concat(t,"vh"),"vertical-alignment--top"===e?(n.style.paddingTop="",n.style.paddingBottom="calc(".concat(t,"vmax / 5)")):"vertical-alignment--bottom"===e?(n.style.paddingTop="calc(".concat(t,"vmax / 5)"),n.style.paddingBottom=""):(n.style.paddingTop="calc(".concat(t,"vmax / 10)"),n.style.paddingBottom="calc(".concat(t,"vmax / 10)"))}}},{key:"renderStyles",value:function(){var e=this,t=this.currentStyles;this.removeClassesAndApplyNewValue(Pc.backgroundWidth,t.backgroundWidth),this.removeClassesAndApplyNewValue(Pc.horizontalAlignment,t.horizontalAlignment),this.removeClassesAndApplyNewValue(Pc.verticalAlignment,t.verticalAlignment);var n=this.node.querySelector(".content-wrapper"),r=n.querySelector(".content");kc||Tc?this.applySectionHeight(t.verticalAlignment,t.customSectionHeight):(n.style.paddingTop="",n.style.paddingBottom="",this.node.style.minHeight=""),this.removeClassesAndApplyNewValue(Pc.sectionHeight,t.sectionHeight,(function(n){e.applySectionHeight(t.verticalAlignment,n)}),(function(){n.style.paddingTop="",n.style.paddingBottom="",e.node.style.minHeight=""})),Cc&&!this.isMainContentSection&&this.removeClassesAndApplyNewValue(Pc.contentWidth,t.contentWidth,(function(){r.style.width="".concat(t.customContentWidth,"%")}),(function(){r.style.width=""})),window.Y.one(window.Y.config.win).simulate("resize")}}])&&Oc(t.prototype,n),r&&Oc(t,r),e}();n(58),n(374),n(377),n(379),n(380);function Ic(e){return(Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Lc=function e(t,n){if(t===n)return!0;if(Ic(t)!==Ic(n)||"object"!==Ic(t)||null===t||null===n)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length||r.find((function(e){return o.indexOf(e)<0})))return!1;for(var i in t)if(!e(t[i],n[i]))return!1;return!0};function Rc(e){return(Rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _c(e){return e&&e.constructor&&"Object"===e.constructor.name}function Dc(e,t){return!e&&!t||Array.isArray(e)&&Array.isArray(t)||_c(e)&&_c(t)||"string"==typeof e&&"string"==typeof t||!isNaN(e)&&!isNaN(t)}function Mc(e){var t=e.newPointer,n=e.oldPointer,r=new Set;return t.forEach((function(e){n.includes(e)||r.add(e)})),Array.isArray(n)&&n.forEach((function(e){t.includes(e)||r.add(e)})),Array.from(r)}var Fc=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("object"!==Rc(t)||"object"!==Rc(n))throw new Error("".concat(e.name," parameters must be Arrays or Objects, received: ").concat(t," and ").concat(n));if(!Lc(t,n)){if(Array.isArray(t)&&Array.isArray(n))return Mc({newPointer:t,oldPointer:n});var o=Object.keys(t),i=o.map((function(o){var i=t[o],a=n[o];if(!Dc(i,a))return"".concat(r).concat(o);if(_c(i)&&_c(a))return e(i,a,"".concat(r).concat(o,"."));if(Array.isArray(i)){if(Lc(i,a))return null;var s=Mc({newPointer:i,oldPointer:a});return"".concat(r).concat(o,"[").concat(s,"]")}return Lc(i,a)?null:"".concat(r).concat(o)})).filter((function(e){return!!e})),a=Mc({newPointer:Object.keys(t),oldPointer:Object.keys(n)});return a.forEach((function(e){i.includes("".concat(r).concat(e))||i.push("".concat(r).concat(e))})),i.flat()}return[]};function Bc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uc=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wc(this,"updateRef",(function(){return{imageOuterWrapper:n.node.querySelector(".ImageAndText__image-outer-wrapper"),imageInnerWrapper:n.node.querySelector(".ImageAndText__image-inner-wrapper"),image:n.node.querySelector(".ImageAndText__image"),textOuterWrapper:n.node.querySelector(".ImageAndText__text-outer-wrapper"),headline:n.node.querySelector(".ImageAndText__headline"),subheadline:n.node.querySelector(".ImageAndText__subheadline"),buttonOuterWrapper:n.node.querySelector(".ImageAndText__button-link-outer-wrapper"),button:n.node.querySelector(".ImageAndText__button-link")}})),Wc(this,"getStateFromDOM",(function(){var e=JSON.parse(n.node.dataset.currentContext);try{e.imageId=e.image.id,delete e.image}catch(e){console.warn("No image present, ".concat(e))}return e.styles&&e.styles.backgroundImage&&e.styles.backgroundImage.id&&(e.backgroundImageId=e.styles.backgroundImage.id,delete e.styles.backgroundImage),e})),Wc(this,"updateStateFromContext",(function(e){var t=Object.assign({},n.state);return t.headline=e.headline,t.subheadline=e.subheadline,t.imageId=e.imageId,t.linkType=e.link.linkType,t.linkUrl=e.link.linkUrl,t.linkText=e.link.linkText,t.linkNewWindow=e.link.linkNewWindow,t.imageAndTextOptions=e.imageAndTextOptions,t.styles=e.styles,t})),Wc(this,"bindListeners",(function(){n.ref.image&&n.ref.image.addEventListener("load",n.addImageLoadClassOnce,{once:!0}),s.a.on(n.loadImage,c.e),D.a.watch(n.state.id,n.onSectionTweak)})),Wc(this,"addImageLoadClassOnce",(function(e){e.target.classList.add("ImageAndText__image--loaded"),e.target.removeEventListener(e.type,n.addImageLoadClassOnce)})),Wc(this,"loadImage",(function(){null!==n.ref.image&&i.a.loadLazy(n.ref.image,{load:!0,useAdvancedPositioning:!0})})),Wc(this,"onSectionTweak",(function(e){var t={headline:n.state.headline,subheadline:n.state.subheadline,imageId:n.state.imageId,mediaFocalPoint:n.state.mediaFocalPoint,link:{linkType:n.state.linkType,linkUrl:n.state.linkUrl,linkText:n.state.linkText,linkNewWindow:n.state.linkNewWindow},backgroundImageId:n.state.backgroundImageId},r={headline:e.headline,subheadline:e.subheadline,imageId:e.imageId,mediaFocalPoint:e.mediaFocalPoint,link:e.link,backgroundImageId:e.backgroundImageId},o=Fc(r,t);if(n.shouldContentChangeUpdateDOM(o,t,r))return!1;var i=Object.assign({},n.state.imageAndTextOptions),a=Object.assign({},e.imageAndTextOptions),s=Fc(a,i);if(n.shouldOptionChangeUpdateDOM(s))return!1;var c=Object.assign({},n.state.styles),u=Object.assign({},e.styles);return delete c.video,delete u.video,!(Fc(c,u).length>0)&&(n.handleContentUpdate(o,r),n.handleOptionsUpdate(s,e.imageAndTextOptions),n.ref=n.updateRef(),n.state=n.updateStateFromContext(e),!0)})),Wc(this,"handleContentUpdate",(function(e,t){if(e.includes("headline")&&n.ref.headline&&(n.ref.headline.innerText=t.headline),e.includes("subheadline")&&n.ref.subheadline&&(n.ref.subheadline.querySelector(".ImageAndText__subheadline_text").innerText=t.subheadline),e.includes("link.linkText")&&n.ref.button&&(n.ref.button.innerText=t.link.linkText),e.includes("link.linkUrl")&&n.ref.button&&(n.ref.button.href=t.link.linkUrl),e.includes("link.linkNewWindow")&&n.ref.button&&n.ref.button.setAttribute("target",t.link.linkNewWindow?"_blank":"_self"),e.includes("mediaFocalPoint.x")||e.includes("mediaFocalPoint.y")){var r=t.mediaFocalPoint,o=r.x,a=r.y;i.a.load(n.ref.image,{load:!0,forceImageUpdate:!0,useAdvancedPositioning:!0,focalPoint:{x:o,y:a}}),n.ref.image.dataset.imageFocalPoint="".concat(o,",").concat(a)}})),Wc(this,"handleOptionsUpdate",(function(e,t){if(e.includes("textWidth")&&n.setTextWidths(t),e.includes("textPositionVertical")&&(n.ref.textOuterWrapper.dataset.positionVertical=t.textPositionVertical),n.ref.headline&&((e.includes("headlineWidth.value")||e.includes("headlineWidth.unit"))&&(n.ref.headline.style.width="".concat(t.headlineWidth.value).concat(t.headlineWidth.unit)),e.includes("headlineTextAlignment")&&(n.ref.headline.style.textAlign=t.headlineTextAlignment),e.includes("headlinePositionHorizontal")&&(n.ref.headline.dataset.positionHorizontal=t.headlinePositionHorizontal),(e.includes("headlineBottomSpacing.value")||e.includes("headlineBottomSpacing.unit"))&&(n.ref.headline.style.marginBottom="".concat(t.headlineBottomSpacing.value).concat(t.headlineBottomSpacing.unit))),n.ref.subheadline&&((e.includes("subheadlineWidth.value")||e.includes("subheadlineWidth.unit"))&&(n.ref.subheadline.style.width="".concat(t.subheadlineWidth.value).concat(t.subheadlineWidth.unit)),e.includes("subheadlineTextAlignment")&&(n.ref.subheadline.style.textAlign=t.subheadlineTextAlignment),e.includes("subheadlinePositionHorizontal")&&(n.ref.subheadline.dataset.positionHorizontal=t.subheadlinePositionHorizontal)),(e.includes("subheadlineBottomSpacing.value")||e.includes("subheadlineBottomSpacing.unit"))&&n.ref.buttonOuterWrapper&&(n.ref.buttonOuterWrapper.style.marginTop="".concat(t.subheadlineBottomSpacing.value).concat(t.subheadlineBottomSpacing.unit)),e.includes("imageAspectRatio")&&n.ref.imageInnerWrapper&&n.ref.image){if(n.ref.imageInnerWrapper.dataset.aspectRatio=t.imageAspectRatio,n.ref.image.dataset.mode="original"===t.imageAspectRatio?"none":"cover","original"===t.imageAspectRatio){n.ref.image.style.objectFit="",n.ref.image.style.objectPosition="";var r=Bc(n.ref.image.dataset.imageDimensions.split("x"),2),o=r[0],i=r[1];n.ref.imageInnerWrapper.style.paddingBottom="calc(".concat(i," * 100% / ").concat(o,")")}else n.ref.imageInnerWrapper.style.paddingBottom="";n.loadImage()}n.ref.imageOuterWrapper&&(e.includes("imageWidth")&&(n.ref.imageOuterWrapper.style.width="".concat(t.imageWidth,"%"),n.loadImage(),n.setTextWidths(t)),e.includes("imagePositionVertical")&&(n.ref.imageOuterWrapper.dataset.positionVertical=t.imagePositionVertical)),e.includes("textCardEnabled")&&(n.ref.textOuterWrapper.dataset.textCardEnabled=t.textCardEnabled,n.setCardLayout(t)),(e.includes("textCardPadding.value")||e.includes("textCardPadding.unit"))&&n.setCardLayout(t),(e.includes("textCardOffsetVertical.value")||e.includes("textCardOffsetVertical.unit"))&&(n.ref.textOuterWrapper.style.top="".concat(t.textCardOffsetVertical.value).concat(t.textCardOffsetVertical.unit)),e.includes("equalContentHeightsEnabled")&&(n.node.dataset.equalContentHeightsEnabled=t.equalContentHeightsEnabled),(e.includes("imageTextSpacing.value")||e.includes("imageTextSpacing.unit"))&&n.setTextWidths(t)})),Wc(this,"shouldContentChangeUpdateDOM",(function(e,t,n){return!(!e.includes("headline")||""!==t.headline&&""!==n.headline)||(!(!e.includes("subheadline")||""!==t.subheadline&&""!==n.subheadline)||!!(e.includes("imageId")||e.includes("link.linkType")||e.includes("backgroundImageId")))})),Wc(this,"shouldOptionChangeUpdateDOM",(function(e){return!!(e.includes("layout")||e.includes("textPositionHorizontal")||e.includes("imagePositionHorizontal"))})),Wc(this,"setTextWidths",(function(e){var t="".concat(e.imageWidth,"%"),r=e.imageTextSpacing,o="".concat(e.textCardPadding.value,"%"),i="".concat(e.textWidth,"%"),a=e.headlineWidth,s=e.subheadlineWidth;switch(e.layout){case"card":i="calc(100% - ".concat(t," - ").concat(r.value).concat(r.unit,")");break;case"collage":i="calc(100% - ".concat(t," + (").concat(t," * ").concat(r.value," / 100))");break;case"overlap":a="calc(100% - ".concat(t," + (").concat(t," * ").concat(r.value," / 100))"),s="calc(100% - ".concat(t," - ").concat(o,")")}n.ref.textOuterWrapper.style.width=i,n.ref.headline&&(n.ref.headline.style.width=a),n.ref.subheadline&&(n.ref.subheadline.style.width=s)})),Wc(this,"setCardLayout",(function(e){if("overlap"===e.layout)n.setTextWidths(e);else{var t=e.textCardEnabled?"".concat(e.textCardPadding.value).concat(e.textCardPadding.unit):"0";n.ref.textOuterWrapper.style.padding=t}})),Wc(this,"destroy",(function(){D.a.disconnect(n.sectionId,n.boundSectionTweak),s.a.off(n.loadImage)})),this.node=t,this.ref=this.updateRef(),this.state=this.getStateFromDOM(),this.bindListeners(),this.loadImage()}var t,n,r;return t=e,(n=[{key:"getRteConfigs",value:function(){var e=[],t=this.node.querySelector(".ImageAndText__headline");t&&e.push({node:t,jsonPointer:"#/headline",type:"plaintext"});var n=this.node.querySelector(".ImageAndText__subheadline_text");n&&e.push({node:n,jsonPointer:"#/subheadline",type:"richtext"});var r=this.node.querySelector(".ImageAndText__button-link");return r&&e.push({node:r,jsonPointer:"#/link/linkText",type:"plaintext"}),e}}])&&Nc(t.prototype,n),r&&Nc(t,r),e}(),Hc=function(){console.warn("UserAccounts API not available")},qc={isUserAuthenticatedLoader:Object(R.a)().then((function(){var e=window.UserAccountApi;return e?e.isUserAuthenticated:Hc})),openAccountScreenLoader:Object(R.a)().then((function(){var e=window.UserAccountApi;return e?e.openAccountScreen:Hc}))},Vc=function(e){var t=function(e){e.preventDefault(),qc.openAccountScreenLoader.then((function(e){return e()}))};qc.isUserAuthenticatedLoader.then((function(n){var r=n()?".unauth":".auth",o=e.querySelector(".user-accounts-text-link"),i=o.querySelector(r);i&&o.removeChild(i),e.classList.add("loaded"),e.querySelector(".user-accounts-text-link").addEventListener("click",t)}))};function Gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gc(Object(n),!0).forEach((function(t){Xc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zc=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultProps={isEnabled:!0,interval:3e3,callback:ee.a},this.props=Yc(Yc({},this.defaultProps),t),this.timeout=null,this.onTimeout=this.onTimeout.bind(this)}var t,n,r;return t=e,(n=[{key:"start",value:function(){var e=this.props,t=e.isEnabled,n=e.interval;t&&(this.timeout=setTimeout(this.onTimeout,n))}},{key:"cancel",value:function(){clearTimeout(this.timeout)}},{key:"onTimeout",value:function(){(0,this.props.callback)()}},{key:"destroy",value:function(){clearTimeout(this.timeout)}}])&&Qc(t.prototype,n),r&&Qc(t,r),e}();function Jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(n),!0).forEach((function(t){eu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tu=39,nu=37,ru=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),eu(this,"getLastScrollableSlideIndex",(function(){return n.props.numSlides-n.props.slideColumnCount})),eu(this,"setIndex",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.skipModulus,o=t.isInstant,i=n.props,a=i.transitionDuration,s=i.isInfinite,c=i.onStartProgress,u=i.shouldStopNavAtEnds,l=n.len,d=e;if(!s&&u){var f=n.getLastScrollableSlideIndex()||l-1;if(d<0)return n.pos.current=0,void(n.pos.target=0);if(d>f)return n.pos.current=f,void(n.pos.target=f)}if(!r||!s){var p=(e%l+l)%l||0;d=p,n.pos.target=(n.pos.target%l+l)%l||0,n.pos.current=(n.pos.current%l+l)%l||0}if(d!==n.pos.target||o){if(n.isTransitioning=!0,n.refreshAutoplayState(),n.pos.target=e,n.tween&&n.tween.destroy(),c(n.pos.target),o)return n.setProgress(n.pos.target),void n.onTransitionComplete();n.tween=new Ua.a({duration:.001*a,from:n.pos.current,to:n.pos.target,onUpdate:n.setProgress,onComplete:n.onTransitionComplete})}})),eu(this,"setOffsetIndex",(function(e,t){var r=n.props,o=r.isInfinite,i=r.shouldStopNavAtEnds,a=Math.round(n.pos.target+e);!o&&!i&&(a<0?a=n.len-1:a>n.len-1&&(a=0)),n.setIndex(a,Kc(Kc({},t),{},{skipModulus:!0}))})),eu(this,"previousIndex",(function(e){return n.setOffsetIndex(-1,e)})),eu(this,"nextIndex",(function(e){return n.setOffsetIndex(1,e)})),eu(this,"onItemOver",(function(){n.isItemOver=!0,n.refreshAutoplayState()})),eu(this,"onItemOut",(function(){n.isItemOver=!1,n.refreshAutoplayState()})),eu(this,"onTransitionComplete",(function(){n.isTransitioning=!1,n.refreshAutoplayState()})),eu(this,"refreshAutoplayState",(function(){n.isTransitioning||n.isItemOver?n.autoplay.cancel():n.autoplay.start()})),eu(this,"setProgress",(function(e){n.updateProgressValue(e)})),eu(this,"onKeyDown",(function(e){if(e.keyCode===tu)return n.nextIndex(),void e.preventDefault();e.keyCode===nu&&(n.previousIndex(),e.preventDefault())})),eu(this,"updateProgressValue",(function(e){var t=n.props.onProgress,r=n.len,o=(e%r+r)%r||0;n.pos.current=e,t(o)})),eu(this,"onAutoplay",(function(){n.nextIndex()})),this.defaultProps={nodes:{focus:document.createElement("div"),drag:document.createElement("div")},isAutoplay:!1,autoplayInterval:3e3,isInfinite:!0,numSlides:0,slideColumnCount:1,transitionDuration:600,onProgress:ee.a,onStartProgress:ee.a,onEnterViewport:ee.a,onLeaveViewport:ee.a,onFocusChange:ee.a,shouldStopNavAtEnds:!1},this.props=Kc(Kc({},this.defaultProps),t);var r=this.props.numSlides;this.len=r,this.pos={target:0,current:0},this.isTransitioning=!1,this.isItemOver=!1,this.interaction=null,this.autoplay=null,this.bindListeners()}var t,n,r;return t=e,(n=[{key:"update",value:function(e){this.unbindListeners(),this.props=Kc(Kc({},this.props),e);var t=this.props.numSlides;this.len=t,this.bindListeners()}},{key:"bindListeners",value:function(){var e=this.props,t=e.isAutoplay,n=e.autoplayInterval,r=this.props.nodes.focus;r.setAttribute("tabindex","0"),r.addEventListener("keydown",this.onKeyDown),this.autoplay=new Zc({isEnabled:t,interval:n,callback:this.onAutoplay})}},{key:"unbindListeners",value:function(){var e=this.props.nodes.focus;e&&e.removeEventListener("keydown",this.onKeyDown),this.observer&&e&&this.observer.remove(e),this.autoplay.destroy()}},{key:"destroy",value:function(){this.unbindListeners(),this.tween&&(this.tween.destroy(),delete this.tween),this.interaction&&(this.interaction.destroy(),delete this.interaction),delete this.props.nodes}}])&&$c(t.prototype,n),r&&$c(t,r),e}();function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){au(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function au(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var su=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),au(this,"bindListeners",(function(){r.dragContainerNode.addEventListener("mousedown",r.onDragStart),r.dragContainerNode.addEventListener("mouseup",r.onDragEnd),r.dragContainerNode.addEventListener("mouseleave",r.onDragEnd),pt.c&&r.addTouchListeners()})),au(this,"unbindListeners",(function(){r.dragContainerNode.removeEventListener("mousedown",r.onDragStart),r.dragContainerNode.removeEventListener("mouseup",r.onDragEnd),r.dragContainerNode.removeEventListener("mouseleave",r.onDragEnd),pt.c&&r.removeTouchListeners()})),au(this,"addTouchListeners",(function(){r.dragContainerNode.addEventListener("touchstart",r.onDragStart,{passive:!0}),r.dragContainerNode.addEventListener("touchend",r.onDragEnd),r.dragContainerNode.addEventListener("touchcancel",r.onDragEnd),r.dragContainerNode.addEventListener("touchmove",r.onDragMove)})),au(this,"removeTouchListeners",(function(){r.dragContainerNode.removeEventListener("touchstart",r.onDragStart,{passive:!0}),r.dragContainerNode.removeEventListener("touchend",r.onDragEnd),r.dragContainerNode.removeEventListener("touchcancel",r.onDragEnd),r.dragContainerNode.removeEventListener("touchmove",r.onDragMove)})),au(this,"onDragStart",(function(e){var t=!!e.target.closest("button, a"),n="number"==typeof e.button&&0!==e.button;if(!(t||n)){!!e.targetTouches||r.dragContainerNode.addEventListener("mousemove",r.onDragMove);var o=Object(pt.d)(e),i=o.clientX,a=o.clientY;r.isDragging=!0,r.dragStartX=i,r.dragStartY=a,r.slideProgressAtDragStart=r.props.behaviors.pos.current,r.dragDirectionX=0,r.dragAxis=null,r.hasUserCommittedToDirection=!1,r.dragContainerNode.style.cursor="grabbing"}})),au(this,"onDragMove",(function(e){if(r.isDragging){var t=Object(pt.d)(e),n=t.clientX,o=t.clientY,i=!!e.targetTouches,a=n-r.dragStartX,s=o-r.dragStartY;if(!(n===r.previousDragPositionX&&o===r.previousDragPositionY))if(r.previousDragPositionX=n,r.previousDragPositionY=o,i&&(r.dragAxis=r.determineDragAxis({currentDragAxis:r.dragAxis,absoluteDragDistanceX:Math.abs(a),absoluteDragDistanceY:Math.abs(s)}),"horizontal"!==r.dragAxis))r.dragDirectionX=0;else{e.preventDefault();var c=r.props.slideshowProps.slideDimensions.width,u=r.slideProgressAtDragStart-a/c;r.dragDirectionX=r.getHorizontalDragDirection({nextProgress:u,currentProgress:r.props.slideshowProps.progress,dragDistanceX:a,currentDragDirection:r.dragDirectionX}),r.props.slideshowProps.progress=u,r.props.behaviors.setIndex(r.props.slideshowProps.progress,{isInstant:!0,skipModulus:!0}),r.props.slideshowProps.progressIndex=Math.floor(.5+r.props.slideshowProps.progress+.49*r.dragDirectionX)}}})),au(this,"onDragEnd",(function(e){if(r.isDragging){r.isDragging=!1,r.dragContainerNode.style.removeProperty("cursor"),!!e.targetTouches||r.dragContainerNode.removeEventListener("mousemove",r.onDragMove);var t=r.props.slideshowProps.progress!==~~r.props.slideshowProps.progress,n="horizontal"!==r.dragAxis&&t;("horizontal"===r.dragAxis||n)&&r.props.behaviors.setIndex(r.props.slideshowProps.progressIndex,{skipModulus:!0}),r.props.slideshowProps.progress=r.props.slideshowProps.progressIndex,r.props.slideshowProps.targetSlideIndex=r.props.slideshowProps.progressIndex,r.props.callback()}})),au(this,"determineDragAxis",(function(e){var t=e.currentDragAxis,n=e.absoluteDragDistanceX,o=e.absoluteDragDistanceY;return r.hasUserCommittedToDirection?t:(r.hasUserCommittedToDirection=n>r.minDragDistance||o>r.minDragDistance,n>2*o?"horizontal":"vertical")})),au(this,"getHorizontalDragDirection",(function(e){var t=e.nextProgress,n=e.currentProgress,o=e.dragDistanceX,i=e.currentDragDirection,a=t-n,s=a?a/Math.abs(a):i;return Math.abs(o)<=r.minDragDistance&&(s=0),s})),au(this,"destroy",(function(){r.unbindListeners()})),this.dragContainerNode=t,this.defaultProps={slideshowProps:{slideDimensions:{width:100,height:100},totalSlideCount:0,progress:0,progressIndex:0,targetSlideIndex:0},behaviors:{},callback:ee.a},this.props=iu(iu({},this.defaultProps),n),this.isDragging=!1,this.dragStartX=0,this.slideProgressAtDragStart=0,this.dragAxis=null,this.hasUserCommittedToDirection=!1,this.minDragDistance=15,this.bindListeners()};function cu(e){return function(e){if(Array.isArray(e))return uu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return uu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uu(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(n),!0).forEach((function(t){fu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hu=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultProps={regionWidth:800,regionHeight:600,maxWidth:800,maxHeight:600,spacing:{value:100,unit:"%"},items:[],isInfinite:!1,onCloneItem:ee.a,slideshowGutterWidth:0,onRedraw:ee.a},this.props=du(du({},this.defaultProps),t);var n=this.props,r=n.regionWidth,o=n.regionHeight,i=n.maxWidth,a=n.maxHeight;this.progress=0,this.dimensions={regionWidth:r,regionHeight:o,maxWidth:qa(i,100,r),maxHeight:qa(a,100,o)},this.items=[],this.totalWidth=0,this.setSize=this.setSize.bind(this),this.redraw(),this.refresh()}var t,n,r;return t=e,(n=[{key:"setSize",value:function(e){this.dimensions=du(du({},this.dimensions),e);var t=this.dimensions,n=t.regionWidth,r=t.regionHeight,o=t.maxWidth,i=t.maxHeight;this.dimensions.maxWidth=qa(o,100,n),this.dimensions.maxHeight=qa(i,100,r),this.redraw(),this.refresh()}},{key:"setProgress",value:function(e){this.progress=e,this.refresh()}},{key:"update",value:function(e){this.props=du(du({},this.props),e),this.redraw(),this.refresh()}},{key:"redraw",value:function(){var e=this.props,t=e.items,n=e.isInfinite,r=e.onRedraw,o=this.dimensions.regionWidth,i=t.length;if(this.items=[],i){var a=this.getItems(t),s=a.totalWidth;if(this.items=a.items,n){for(var c=a.minSpacing*i;s+c<1.5*o&&s>0&&o>0;){var u;a=this.getItems(t,{startOffset:s,isClone:!0}),(u=this.items).push.apply(u,cu(a.items)),s=a.totalWidth}r()}this.totalWidth=s,this.lerps=this.createLerps(this.items,s)}}},{key:"getItems",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.startOffset,o=void 0===r?0:r,i=n.isClone,a=this.props.onCloneItem,s=Number.MAX_VALUE,c=o,u=e.map((function(e,n){var r=t.getItemData(e,c);return c+=r.width,s=Math.min(s,r.spacing),i&&a(n),r}));return{items:u,totalWidth:c,minSpacing:s}}},{key:"getItemData",value:function(e,t){var n=this.dimensions.regionHeight,r=this.getContentSize(e),o=r.width,i=r.height;return{localX:t,x:t,y:.5*n-.5*i,proximity:0,inViewport:!1,width:o,height:i,spacing:this.getContentSpacing(o)}}},{key:"getContentSize",value:function(e){return{width:e.width,height:this.dimensions.maxHeight}}},{key:"getContentSpacing",value:function(e){var t=this.props.spacing,n=this.dimensions.regionWidth;return"%"===t.unit?Math.round(t.value/100*n):"vw"===t.unit?Math.round(t.value/100*window.innerWidth):"vh"===t.unit?Math.round(t.value/100*window.innerHeight):"vmin"===t.unit?Math.round(t.value/100*Math.min(window.innerWidth,window.innerHeight)):"vmax"===t.unit?Math.round(t.value/100*Math.max(window.innerWidth,window.innerHeight)):Math.round(t.value)}},{key:"createLerps",value:function(e,t){var n=this.props.isInfinite,r={index:e.map((function(e,t){return t})),position:e.map((function(e){return e.localX+.5*e.width})),spacing:e.map((function(e){return e.spacing}))};return n&&(r.index.push(r.index.length),r.position.push(t+.5*e[0].width),r.spacing.push(e[0].spacing)),r}},{key:"refresh",value:function(){var e=this.props.isInfinite,t=this.dimensions.regionWidth,n=this.items.length;if(n)for(var r=Object(Ha.a)(this.progress,this.lerps.index),o=Object(Ha.d)(r,this.lerps.index,this.lerps.position,this.progress),i=Object(Ha.d)(r,this.lerps.index,this.lerps.spacing,this.progress),a=this.items[0].width/2,s=0,c=n;s<c;s+=1){var u=this.items[s],l=a+u.localX-(o+this.progress*i),d=l+u.width<-this.props.slideshowGutterWidth,f=l>=t,p=s-this.progress;e&&d?(p+=n,l+=this.totalWidth+i*n):e&&f&&(p-=n,l-=this.totalWidth+i*n);var h=l+u.width>=-this.props.slideshowGutterWidth&&l<t;u.x=h?l:-9999,u.inViewport=h,u.proximity=p,a+=i}}},{key:"destroy",value:function(){delete this.dimensions,delete this.items}}])&&pu(t.prototype,n),r&&pu(t,r),e}();function mu(e){return(mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yu(Object(n),!0).forEach((function(t){xu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bu(e,t){return(bu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ou(e);if(t){var o=Ou(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Su(this,n)}}function Su(e,t){return!t||"object"!==mu(t)&&"function"!=typeof t?Au(e):t}function Au(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ou(e){return(Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bu(e,t)}(i,e);var t,n,r,o=wu(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),xu(Au(t=o.call(this)),"getStateFromDOM",(function(){var e=JSON.parse(t.node.dataset.currentContext),n=Object.assign({},e);return n.userItems.forEach((function(e,t){e.image&&(e.imageId=e.image.id,delete e.image)})),n})),xu(Au(t),"updateRef",(function(){var e=t.props,n=e.unorderedListSelector,r=e.imageSelector,o=e.itemSelector,i=e.itemTitleSelector,a=e.itemDescriptionSelector,s=e.itemButtonSelector,c=e.contentSelector,u=e.arrowLeftWrapperSelector,l=e.arrowRightWrapperSelector,d=e.parentSectionSelector;return{layoutContainer:t.node,unorderedList:t.node.querySelector(n),images:Array.from(t.node.querySelectorAll(r)),userItems:Array.from(t.node.querySelectorAll(o)),userItemsContent:Array.from(t.node.querySelectorAll(c)),itemTitles:Array.from(t.node.querySelectorAll(i)),itemDescriptions:Array.from(t.node.querySelectorAll(a)),itemButtons:Array.from(t.node.querySelectorAll(s)),arrowLeftWrapper:t.node.querySelector(u),arrowRightWrapper:t.node.querySelector(l),parentNode:t.node.closest(d)}})),xu(Au(t),"onSectionTweak",(function(e){var n={layout:e.userItemsListOptions.layout,userItems:e.userItems,userItemsListCardTheme:e.userItemsListOptions.userItemsListCardTheme,styles:e.styles,options:e.userItemsListOptions.bannerSlideshowOptions};n.userItems.forEach((function(e){e.button&&(e.button.buttonLink&&(e.buttonLink=e.button.buttonLink),e.button.buttonText&&(e.buttonText=e.button.buttonText))}));var r=t.state.userItems.length!==n.userItems.length||t.state.layout!==n.layout;if(r)return!1;t.state.userItemsListCardTheme!==n.userItemsListCardTheme&&Vr(t.node,c.j,n.userItemsListCardTheme);var o=t.state.userItems.map((function(e,t){return Fc(n.userItems[t],e)}));if(r=t.shouldContentChangeUpdateDOM(o,t.state.userItems,n.userItems))return!1;var i=Fc(n.options,t.state.options);if(r=t.shouldOptionsChangeUpdateDOM(i,t.state.options,n.options))return!1;var a=Fc(n.styles,t.state.styles);return!(r=t.shouldStylesChangeUpdateDOM(a,t.state.styles,n.styles))&&(t.handleContentUpdate(o,n.userItems),t.handleOptionsUpdate(i,n.options),t.handleStylesUpdate(a,n.styles),t.ref=t.updateRef(),t.setState(vu({},n)),!0)})),xu(Au(t),"shouldContentChangeUpdateDOM",(function(e,t,n){for(var r=!1,o=0;o<e.length;o++){if(e[o].includes("imageId")){r=!0;break}r=!1}return r})),xu(Au(t),"shouldStylesChangeUpdateDOM",(function(e,t,n){return!!(e.includes("backgroundMode")||e.includes("backgroundWidth")||e.includes("imageOverlayOpacity")||e.includes("video")||e.includes("sectionAnimation")||e.includes("sectionHeight")||e.includes("customSectionHeight"))})),xu(Au(t),"shouldOptionsChangeUpdateDOM",(function(e,t,n){return!!(e.includes("layoutWidth")||e.includes("mediaAspectRatio")||e.includes("contentOrder")||e.includes("titleFontSize")||e.includes("navigationControls")||e.includes("isInfiniteEnabled"))})),xu(Au(t),"handleContentUpdate",(function(e,n){e.forEach((function(e,r){if(e.includes("title")){var o=t.ref.userItems[r].querySelector(t.props.itemTitleSelector);o&&(o.innerHTML=n[r].title)}if(e.includes("description")){var i=t.ref.userItems[r].querySelector(t.props.itemDescriptionSelector);i&&(i.innerHTML=n[r].description)}if(e.includes("buttonText")){var a=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);a&&(a.innerHTML=n[r].buttonText)}if(e.includes("buttonLink")){var s=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);s&&(s.href=n[r].buttonLink)}}))})),xu(Au(t),"handleOptionsUpdate",(function(e,n){var r=t.state.options,o=!1;if((e.includes("titleAlignment")||e.includes("bodyAlignment")||e.includes("buttonAlignment"))&&(t.node.dataset.titleAlignment=n.titleAlignment,t.node.dataset.bodyAlignment=n.bodyAlignment,t.node.dataset.buttonAlignment=n.buttonAlignment),e.includes("bodyFontSize")&&t.ref.itemDescriptions.forEach((function(e){Vr(e,Object.values(c.h),c.h[n.bodyFontSize])})),e.includes("buttonFontSize")&&t.ref.itemButtons.forEach((function(e){Vr(e,Object.values(c.i),c.i[n.buttonFontSize])})),e.includes("isAutoplayEnabled")&&(t.node.dataset.isAutoplayEnabled=n.isAutoplayEnabled),e.includes("slideContentWidth")&&t.ref.userItemsContent.forEach((function(e){var t="".concat(n.slideContentWidth.value).concat(n.slideContentWidth.unit);e.style.maxWidth=t})),e.includes("bodyFontSize")&&t.ref.itemDescriptions.forEach((function(e){Vr(e,Object.values(c.h),c.h[n.bodyFontSize])})),e.includes("buttonFontSize")&&t.ref.itemButtons.forEach((function(e){Vr(e,Object.values(c.i),c.i[n.buttonFontSize])})),e.includes("isCardEnabled"))if(t.node.dataset.isCardEnabled=n.isCardEnabled,n.isCardEnabled){var i="".concat(r.cardPaddingTop.value).concat(r.cardPaddingTop.unit),a="".concat(r.cardPaddingRight.value).concat(r.cardPaddingRight.unit),s="".concat(r.cardPaddingBottom.value).concat(r.cardPaddingBottom.unit),u="".concat(r.cardPaddingLeft.value).concat(r.cardPaddingLeft.unit);t.ref.userItemsContent.forEach((function(e){e.style.paddingTop=i,e.style.paddingRight=a,e.style.paddingBottom=s,e.style.paddingLeft=u}))}else t.ref.userItemsContent.forEach((function(e){e.style.paddingTop="",e.style.paddingRight="",e.style.paddingBottom="",e.style.paddingLeft=""}));if(e.includes("cardPaddingTop.value")||e.includes("cardPaddingTop.unit")||e.includes("cardPaddingRight.value")||e.includes("cardPaddingRight.unit")||e.includes("cardPaddingBottom.value")||e.includes("cardPaddingBottom.unit")||e.includes("cardPaddingLeft.value")||e.includes("cardPaddingLeft.unit")){var l="".concat(n.cardPaddingTop.value).concat(n.cardPaddingTop.unit),d="".concat(n.cardPaddingRight.value).concat(n.cardPaddingRight.unit),f="".concat(n.cardPaddingBottom.value).concat(n.cardPaddingBottom.unit),p="".concat(n.cardPaddingLeft.value).concat(n.cardPaddingLeft.unit);t.ref.userItemsContent.forEach((function(e){e.style.paddingTop=l,e.style.paddingRight=d,e.style.paddingBottom=f,e.style.paddingLeft=p}))}if(e.includes("navigationControls")&&(t.node.dataset.navigationControls=n.navigationControls,"arrows"===n.navigationControls)){var h="".concat(r.navigationOffset.value).concat(r.navigationOffset.unit);t.ref.arrowLeftWrapper.style.left=h,t.ref.arrowRightWrapper.style.right=h}if(e.includes("navigationOffset.value")||e.includes("navigationOffset.unit")){var m="".concat(n.navigationOffset.value).concat(n.navigationOffset.unit);t.ref.arrowLeftWrapper.style.marginLeft=m,t.ref.arrowRightWrapper.style.marginRight=m}if(e.includes("isShowAdjacentSlides")&&(t.node.dataset.showAdjacentSlides=n.isShowAdjacentSlides,o=!0),e.includes("verticalPaddingTop.value")||e.includes("verticalPaddingTop.unit")||e.includes("verticalPaddingBottom.value")||e.includes("verticalPaddingBottom.unit")){var y="".concat(n.verticalPaddingTop.value).concat(n.verticalPaddingTop.unit),v="".concat(n.verticalPaddingBottom.value).concat(n.verticalPaddingBottom.unit);t.ref.layoutContainer.style.paddingTop=y,t.ref.layoutContainer.style.paddingBottom=v}if(e.includes("slideContentPaddingTop.value")||e.includes("slideContentPaddingTop.unit")||e.includes("slideContentPaddingRight.value")||e.includes("slideContentPaddingRight.unit")||e.includes("slideContentPaddingBottom.value")||e.includes("slideContentPaddingBottom.unit")||e.includes("slideContentPaddingLeft.value")||e.includes("slideContentPaddingLeft.unit")){var g="".concat(n.slideContentPaddingTop.value).concat(n.slideContentPaddingTop.unit),b="".concat(n.slideContentPaddingRight.value).concat(n.slideContentPaddingRight.unit),w="".concat(n.slideContentPaddingBottom.value).concat(n.slideContentPaddingBottom.unit),S="".concat(n.slideContentPaddingLeft.value).concat(n.slideContentPaddingLeft.unit);t.ref.userItems.forEach((function(e){e.style.paddingTop=g,e.style.paddingRight=b,e.style.paddingBottom=w,e.style.paddingLeft=S}))}if(e.includes("minSlideHeight.value")||e.includes("minSlideHeight.unit")){var A="".concat(n.minSlideHeight.value).concat(n.minSlideHeight.unit);t.ref.unorderedList.style.minHeight=A}if(e.includes("spaceBelowTitle.value")||e.includes("spaceBelowTitle.unit")){var O="".concat(n.spaceBelowTitle.value).concat(n.spaceBelowTitle.unit);t.ref.userItemsContent.forEach((function(e){e.querySelector(t.props.itemTitleSelector).style.marginBottom=O}))}if(e.includes("spaceBelowBody.value")||e.includes("spaceBelowBody.unit")){var x="".concat(n.spaceBelowBody.value).concat(n.spaceBelowBody.unit);t.ref.userItemsContent.forEach((function(e){e.querySelector(t.props.itemDescriptionSelector).style.marginBottom=x}))}(e.includes("spaceBetweenSlides.value")||e.includes("spaceBetweenSlides.unit"))&&(t.node.dataset.spaceBetweenSlidesValue=n.spaceBetweenSlides.value,t.node.dataset.spaceBetweenSlidesUnit=n.spaceBetweenSlides.unit),e.includes("cardVerticalPosition")&&(t.node.dataset.cardVerticalPosition=n.cardVerticalPosition),e.includes("cardHorizontalPosition")&&(t.node.dataset.cardHorizontalPosition=n.cardHorizontalPosition),o&&t.onResize()})),xu(Au(t),"handleStylesUpdate",(function(e,n){var r=!1;if(e.includes("sectionTheme")&&Vr(t.ref.parentNode,c.j,n.sectionTheme),e.includes("horizontalAlignment")){["horizontal-alignment--left","horizontal-alignment--center","horizontal-alignment--right"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.horizontalAlignment)}if(e.includes("verticalAlignment")){["vertical-alignment--top","vertical-alignment--middle","vertical-alignment--bottom"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.verticalAlignment)}if(e.includes("contentWidth")){t.node.dataset.widthConstraint=n.contentWidth,["content-width--narrow","content-width--medium","content-width--wide"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),"content-width--custom"!==n.contentWidth?(t.ref.parentNode.classList.add(n.contentWidth),t.ref.parentNode.querySelector(".content").style.width=""):t.ref.parentNode.querySelector(".content").style.width="".concat(t.state.styles.customContentWidth,"%"),r=!0}e.includes("customContentWidth")&&"content-width--custom"===t.state.styles.contentWidth&&(t.ref.parentNode.querySelector(".content").style.width="".concat(n.customContentWidth,"%")),r&&t.onResize()})),xu(Au(t),"handleArrowVisibility",(function(){if(!t.isInfiniteEnabled&&"arrows"===t.navigationControls){if(t.slideshowProps.totalSlideCount<=t.getSlideColumnCount())return t.hideArrow(t.previousBtn),void t.hideArrow(t.nextBtn);t.slideshowProps.targetSlideIndex<=0?t.hideArrow(t.previousBtn):t.showArrow(t.previousBtn),t.slideshowProps.targetSlideIndex>=t.behaviors.getLastScrollableSlideIndex()?t.hideArrow(t.nextBtn):t.showArrow(t.nextBtn)}})),xu(Au(t),"onResize",(function(){var e=t.getSlideColumnCount();t.removeClones(),t.slideshowNodes=t.buildItems(t.slides),t.list.props.items=t.slideshowNodes,t.list.props.slideshowGutterWidth=t.getSlideshowGutterWidth(),t.list.props.slideColumnCount=e,t.behaviors.props.slideColumnCount=e,t.list.setSize(t.getSlideshowDimensions()),t.updatePositions(),t.slideshowProps.targetSlideIndex=t.slideshowProps.progressIndex,t.handleArrowVisibility()})),xu(Au(t),"removeClones",(function(){t.slidesContainer.innerHTML="";var e=new DocumentFragment;t.slides.forEach((function(t){e.appendChild(t)})),t.slidesContainer.appendChild(e)})),xu(Au(t),"onClickNavPrevious",(function(){t.behaviors.previousIndex()})),xu(Au(t),"onClickNavNext",(function(){t.behaviors.nextIndex()})),xu(Au(t),"onProgress",(function(e){t.slideshowProps.progressIndex=(.5+e<<0)%t.slideshowProps.totalSlideCount,t.list.setProgress(e),t.updatePositions()})),xu(Au(t),"onStartProgress",(function(e){if(t.slideshowProps.targetSlideIndex=e,t.handleArrowVisibility(),!t.dragBehaviors.isDragging){var n=t.slideshowNodes.length,r=Math.round((e+n)%n);t.updateAriaContainer({currentSlideIndex:r})}})),xu(Au(t),"onCloneItem",(function(e){var n=t.slideshowNodes[e],r=n.node.parentNode,o=n.node.cloneNode(!0),i=o.querySelector(t.nodeSelectors.slideshowItemImage);r.appendChild(o),t.slideshowNodes.push(vu(vu({},n),{},{node:o,imageNode:i,isImageLoadAdded:!1,inViewport:null}))})),xu(Au(t),"destroy",(function(){t.behaviors.destroy(),delete t.behaviors,t.dragBehaviors.destroy(),delete t.dragBehaviors,t.unbindListeners()})),t.node=e;var n=t.props,r=n.itemSelector,a=n.contentSelector,s=n.unorderedListSelector,u=n.imageSelector,l=n.itemTitleSelector,d=n.itemDescriptionSelector,f=n.itemButtonSelector,p=n.arrowLeftWrapperSelector,h=n.arrowRightWrapperSelector,m=n.parentSectionSelector;return t.ref={layoutContainer:t.node,unorderedList:t.node.querySelector(s),images:Array.from(t.node.querySelectorAll(u)),userItems:Array.from(t.node.querySelectorAll(r)),userItemsContent:Array.from(t.node.querySelectorAll(a)),itemTitles:Array.from(t.node.querySelectorAll(l)),itemDescriptions:Array.from(t.node.querySelectorAll(d)),itemButtons:Array.from(t.node.querySelectorAll(f)),arrowLeftWrapper:t.node.querySelector(p),arrowRightWrapper:t.node.querySelector(h),parentNode:t.node.closest(m)},t.shouldShowAdjacentSlides="true"===e.getAttribute("data-show-adjacent-slides"),t.isInfiniteEnabled="true"===e.getAttribute("data-is-infinite-enabled"),t.spaceBetweenSlidesValue=Number(e.getAttribute("data-space-between-slides-value")),t.spaceBetweenSlidesUnit=e.getAttribute("data-space-between-slides-unit"),t.maxColumns=1,t.navigationControls=e.getAttribute("data-navigation-controls"),t.nodeSelectors={slideshowWidthConstrainer:".slideshow-gutter",slidesContainer:".slides",slide:".slide",slideshowItemImage:".list-slideshow-image",previousBtn:".arrow-container--left .arrow-button",nextBtn:".arrow-container--right .arrow-button"},t.classNames={isSlideshowInitialized:"slides--initialized",isArrowHidden:"arrow-button--hidden"},t.sectionId=t.node.dataset.sectionId,t.state=t.getStateFromDOM(),t.initializeSlideshowDom(),t.initializeSlideshowBehaviors(),t.initializeSlideshowProperties(),t.initializeDragBehaviors(),t.initializeSlideshow(),t}return t=i,(n=[{key:"addAriaContainer",value:function(e){var t=e.targetElement,n=document.createElement("div");n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.style="position: absolute; pointer-events: none; opacity: 0;",t.appendChild(n),this.ariaContainer=n}},{key:"updateAriaContainer",value:function(e){var t=e.currentSlideIndex,n=this.slideshowNodes.length;this.ariaContainer.innerHTML="Item ".concat(t+1," of ").concat(n)}},{key:"initializeSlideshowDom",value:function(){this.slideshowWidthConstrainer=this.node.querySelector(this.nodeSelectors.slideshowWidthConstrainer),this.slidesContainer=this.node.querySelector(this.nodeSelectors.slidesContainer),this.previousBtn=this.node.querySelector(this.nodeSelectors.previousBtn),this.nextBtn=this.node.querySelector(this.nodeSelectors.nextBtn),this.slides=Array.from(this.node.querySelectorAll(this.nodeSelectors.slide)),this.slideshowNodes=this.buildItems(this.slides),this.addAriaContainer({targetElement:this.slideshowWidthConstrainer})}},{key:"initializeSlideshowBehaviors",value:function(){this.behaviors=new ru({nodes:{focus:this.slideshowWidthConstrainer},numSlides:this.slideshowNodes.length,slideColumnCount:this.getSlideColumnCount(),isAutoplay:!1,autoplayInterval:3e3,isInfinite:this.isInfiniteEnabled,transitionDuration:250,onProgress:this.onProgress,onStartProgress:this.onStartProgress,shouldStopNavAtEnds:!0}),this.list=new hu(vu(vu({items:this.slideshowNodes},this.getSlideshowDimensions()),{},{spacing:{value:this.spaceBetweenSlidesValue,unit:this.spaceBetweenSlidesUnit},isInfinite:this.isInfiniteEnabled,onCloneItem:this.onCloneItem,slideshowGutterWidth:this.getSlideshowGutterWidth()}))}},{key:"initializeSlideshowProperties",value:function(){this.slideshowProps={slideDimensions:this.list.props.items[0],totalSlideCount:this.slideshowNodes.length,progress:0,progressIndex:0,targetSlideIndex:0}}},{key:"initializeDragBehaviors",value:function(){var e=this.node.querySelector(this.nodeSelectors.slideshowWidthConstrainer);this.dragBehaviors=new su(e,{slideshowProps:this.slideshowProps,behaviors:this.behaviors,callback:this.handleArrowVisibility})}},{key:"initializeSlideshow",value:function(){this.updatePositions(),this.slidesContainer.classList.add(this.classNames.isSlideshowInitialized),this.bindListeners(),this.handleArrowVisibility(),this.updateAriaContainer({currentSlideIndex:0})}},{key:"hideArrow",value:function(e){e.classList.add(this.classNames.isArrowHidden),e.setAttribute("tabindex","-1")}},{key:"showArrow",value:function(e){e.classList.remove(this.classNames.isArrowHidden),e.setAttribute("tabindex","0")}},{key:"getSlideColumnCount",value:function(){var e=this,t=window.innerWidth,n=1;return Object.values({"breakpoint-up-sm":{minScreenWidth:576,columnsWeHaveRoomFor:2},"breakpoint-up-lg":{minScreenWidth:992,columnsWeHaveRoomFor:3},"breakpoint-up-xxl":{minScreenWidth:1200,columnsWeHaveRoomFor:4}}).forEach((function(r){t>=r.minScreenWidth&&(n=Math.min(r.columnsWeHaveRoomFor,e.maxColumns))})),n}},{key:"getSlideshowGutterWidth",value:function(){var e=this.slidesContainer.getBoundingClientRect();return this.slidesContainer.offsetWidth/e.width*(e.x-this.slideshowWidthConstrainer.getBoundingClientRect().x)}},{key:"bindListeners",value:function(){D.a.watch(this.sectionId,this.onSectionTweak),"none"!==this.state.options.navigationControls&&(this.previousBtn.addEventListener("click",this.onClickNavPrevious),this.nextBtn.addEventListener("click",this.onClickNavNext)),this.onResize=$(this.onResize,c.e),s.a.on(this.onResize)}},{key:"unbindListeners",value:function(){D.a.disconnect(this.sectionId,this.onSectionTweak),"none"!==this.state.options.navigationControls&&(this.previousBtn.removeEventListener("click",this.onClickNavPrevious),this.nextBtn.removeEventListener("click",this.onClickNavNext)),s.a.off(this.onResize)}},{key:"getSlideshowDimensions",value:function(){var e=this.slideshowWidthConstrainer.offsetWidth,t=this.slideshowWidthConstrainer.offsetHeight;return{regionWidth:e,regionHeight:t,maxWidth:e,maxHeight:t}}},{key:"buildItems",value:function(e){var t=this;return e.map((function(e,n){return{width:e.offsetWidth,height:e.offsetHeight,index:n,node:e,imageNode:e.querySelector(t.nodeSelectors.slideshowItemImage),isImageLoadAdded:!1,inViewport:null}}))}},{key:"updatePositions",value:function(){for(var e=0,t=this.slideshowNodes.length;e<t;e+=1){var n=this.slideshowNodes[e],r=this.list.items[e],o=!!(.5+Math.min(1,Math.abs(r.proximity))<<0),i=n.inViewport!==r.inViewport;(n.inViewport||i)&&(o!==n.isAriaHidden&&(n.node.setAttribute("aria-hidden",o),n.isAriaHidden=o),n.node.style.transform="translate3d("+r.x+"px, 0, 0)",n.inViewport=r.inViewport)}}}])&&gu(t.prototype,n),r&&gu(t,r),i}(l.a);xu(Pu,"defaultProps",{unorderedListSelector:".slides",itemSelector:".slide",imageSelector:"img",contentSelector:".slide-content",mediaSelector:".slide-media-container",itemTitleSelector:".list-item-content__title",itemDescriptionSelector:".list-item-content__description",itemButtonSelector:".list-item-content__button",arrowLeftWrapperSelector:".arrow-container--left",arrowRightWrapperSelector:".arrow-container--right",parentSectionSelector:".user-items-list-section"});n(382);var Eu=window.CSS&&window.CSS.supports&&window.CSS.supports("--testProperty",!0),ku=["title","body","button"],Tu=["px","%","vh","vw","vmin","vmax","em","rem","ch"];function Cu(e){var t=e.type,n=e.rootNode,r=e.targetElements,o=e.fontSizeValue,i=e.fontSizeUnit,a=t&&ku.includes(t),s=n&&n instanceof HTMLElement,c=Array.isArray(r)&&r.every((function(e){return e instanceof HTMLElement})),u=o&&!isNaN(o),l=i&&Tu.includes(i),d=[];return a||d.push(new Error("Expected 'type' to be one of ".concat(ku.join(", "),"; received: ").concat(t))),s||d.push(new Error("Expected 'rootNode' to be an 'HTMLElement'; received: ".concat(r))),c||d.push(new Error("Expected 'targetElements' to be an array of 'HTMLElement'; received: ".concat(r))),u||d.push(new Error("Expected 'fontSizeValue' to be a number; received: ".concat(o))),l||d.push(new Error("Expected 'fontSizeUnit' to be one of ".concat(Tu.join(", "),"; received: ").concat(i))),d}var ju=function(e){var t=e.type,n=e.rootNode,r=e.targetElements,o=e.fontSizeValue,i=e.fontSizeUnit,a=Cu(arguments[0]);0===a.length?(Eu&&"rem"===i?n.style.setProperty("--".concat(t,"-font-size-value"),o):r.forEach((function(e){e.style.fontSize="".concat(o).concat(i)})),n.dataset["".concat(t,"FontUnit")]=i):console.error(a.join("\n"))};function Iu(e){return(Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lu(Object(n),!0).forEach((function(t){Nu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Du(e,t){return(Du=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zu(e);if(t){var o=zu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fu(this,n)}}function Fu(e,t){return!t||"object"!==Iu(t)&&"function"!=typeof t?Bu(e):t}function Bu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zu(e){return(zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wu=20,Uu="px",Hu=576,qu=function(e){var t=e.spaceValue,n=e.spaceUnit;return window.innerWidth<Hu&&(t=Wu,n=Uu),{value:t,unit:n}},Vu=function(e){var t=e.spaceValue,n=e.spaceUnit,r=qu({spaceValue:t,spaceUnit:n});return"".concat(r.value).concat(r.unit)},Gu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Du(e,t)}(a,e);var t,n,r,o=Mu(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Nu(Bu(t=o.call(this)),"getStateFromDOM",(function(){var e=JSON.parse(t.node.dataset.currentContext),n=Object.assign({},e);return n.userItems.forEach((function(e,t){e.image&&(e.imageId=e.image.id,delete e.image)})),n})),Nu(Bu(t),"loadImage",(function(e){e&&(e.onload=function(){e.dataset.loaded=!0},i.a.loadLazy(e,{load:!0,useAdvancedPositioning:!0}))})),Nu(Bu(t),"onSectionTweak",(function(e){var n={layout:e.userItemsListOptions.layout,userItems:e.userItems,userItemsListCardTheme:e.userItemsListOptions.userItemsListCardTheme,styles:e.styles,options:e.userItemsListOptions.carouselOptions};n.userItems.forEach((function(e){e.button&&(e.button.hasOwnProperty("buttonLink")&&(e.buttonLink=e.button.buttonLink),e.button.hasOwnProperty("buttonText")&&(e.buttonText=e.button.buttonText))}));var r=t.state.userItems.length!==n.userItems.length||t.state.layout!==n.layout;if(r)return!1;t.state.userItemsListCardTheme!==n.userItemsListCardTheme&&Vr(t.node,c.j,n.userItemsListCardTheme);var o=t.state.userItems.map((function(e,t){return Fc(n.userItems[t],e)}));if(r=t.shouldContentChangeUpdateDOM(o,t.state.userItems,n.userItems))return!1;var i=Fc(n.options,t.state.options);if(r=t.shouldOptionsChangeUpdateDOM(i,t.state.options,n.options))return!1;var a=Fc(n.styles,t.state.styles);return!(r=t.shouldStylesChangeUpdateDOM(a,t.state.styles,n.styles))&&(t.handleContentUpdate(o,n.userItems),t.handleOptionsUpdate(i,n.options),t.handleStylesUpdate(a,n.styles),t.ref=t.updateRef(),t.setState(Ru({},n)),!0)})),Nu(Bu(t),"handleOptionsUpdate",(function(e,n){var r=t.state.options,o=!1;if(e.includes("verticalPaddingTop.value")||e.includes("verticalPaddingTop.unit")||e.includes("verticalPaddingBottom.value")||e.includes("verticalPaddingBottom.unit")){var i="".concat(n.verticalPaddingTop.value).concat(n.verticalPaddingTop.unit),a="".concat(n.verticalPaddingBottom.value).concat(n.verticalPaddingBottom.unit);t.ref.layoutContainer.style.paddingTop=i,t.ref.layoutContainer.style.paddingBottom=a}if(e.includes("maxColumns")&&(t.node.dataset.maxColumns=n.maxColumns,o=!0),e.includes("isShowAdjacentSlides")&&(t.node.dataset.showAdjacentSlides=n.isShowAdjacentSlides,o=!0),e.includes("navigationControls")&&(t.node.dataset.navigationControls=n.navigationControls,"arrows"===n.navigationControls)){var s=Vu({spaceValue:r.spaceBetweenSlides.value,spaceUnit:r.spaceBetweenSlides.unit}),c="".concat(r.navigationOffset.value).concat(r.navigationOffset.unit);if(t.ref.arrowLeftWrapper.style.gridGap=s,t.ref.arrowLeftWrapper.style.marginLeft=c,t.ref.arrowLeftWrapper.querySelector(t.props.arrowPositionerSelector).dataset.mediaAspectRatio=n.mediaAspectRatio,t.ref.arrowRightWrapper.style.gridGap=s,t.ref.arrowRightWrapper.style.marginRight=c,t.ref.arrowRightWrapper.querySelector(t.props.arrowPositionerSelector).dataset.mediaAspectRatio=n.mediaAspectRatio,r.isCardEnabled){var u="".concat(r.cardPaddingTop.value).concat(r.cardPaddingTop.unit),l="".concat(r.cardPaddingRight.value).concat(r.cardPaddingRight.unit),d="".concat(r.cardPaddingBottom.value).concat(r.cardPaddingBottom.unit),f="".concat(r.cardPaddinLeft.value).concat(r.cardPaddinLeft.unit);t.ref.arrowLeftWrapper.querySelector(t.props.arrowContainerSelector).style.padding="".concat(u," calc(").concat(l," + ").concat(f,") ").concat(d," 0"),t.ref.arrowRightWrapper.querySelector(t.props.arrowContainerSelector).style.padding="".concat(u," 0 ").concat(d," calc(").concat(l," + ").concat(f,")")}else t.ref.arrowLeftWrapper.querySelector(t.props.arrowContainerSelector).style.padding="",t.ref.arrowRightWrapper.querySelector(t.props.arrowContainerSelector).style.padding=""}if(e.includes("navigationOffset.value")||e.includes("navigationOffset.unit")){var p="".concat(n.navigationOffset.value).concat(n.navigationOffset.unit);t.ref.arrowLeftWrapper.style.marginLeft=p,t.ref.arrowRightWrapper.style.marginRight=p}if(e.includes("spaceBetweenSlides.value")||e.includes("spaceBetweenSlides.unit")){var h=Vu({spaceValue:n.spaceBetweenSlides.value,spaceUnit:n.spaceBetweenSlides.unit});t.node.dataset.spaceBetweenSlidesValue=n.spaceBetweenSlides.value,t.node.dataset.spaceBetweenSlidesUnit=n.spaceBetweenSlides.unit,t.ref.arrowLeftWrapper.style.gridGap=h,t.ref.arrowRightWrapper.style.gridGap=h,t.ref.slidesContainer.style.gridGap=h}if(e.includes("spaceBetweenContentAndMedia.value")||e.includes("spaceBetweenContentAndMedia.unit")){var m="".concat(n.spaceBetweenContentAndMedia.value).concat(n.spaceBetweenContentAndMedia.unit);"media-first"===t.state.options.contentOrder?t.ref.mediaContainers.forEach((function(e){e.style.marginBottom=m,e.style.marginTop=""})):t.ref.mediaContainers.forEach((function(e){e.style.marginBottom="",e.style.marginTop=m}))}if(e.includes("cardVerticalAlignment")&&(t.node.dataset.alignmentVertical=n.cardVerticalAlignment),e.includes("isCardEnabled"))if(n.isCardEnabled){var y="".concat(r.cardPaddingTop.value).concat(r.cardPaddingTop.unit),v="".concat(r.cardPaddingRight.value).concat(r.cardPaddingRight.unit),g="".concat(r.cardPaddingBottom.value).concat(r.cardPaddingBottom.unit),b="".concat(r.cardPaddingLeft.value).concat(r.cardPaddingLeft.unit);t.ref.userItems.forEach((function(e){e.style.paddingTop=y,e.style.paddingRight=v,e.style.paddingBottom=g,e.style.paddingLeft=b,e.dataset.isCardEnabled="true"})),t.ref.arrowLeftWrapper.querySelector(t.props.arrowContainerSelector).style.padding="".concat(y," calc(").concat(v," + ").concat(b,") ").concat(g," 0"),t.ref.arrowRightWrapper.querySelector(t.props.arrowContainerSelector).style.padding="".concat(y," 0 ").concat(g," calc(").concat(v," + ").concat(b,")")}else t.ref.userItems.forEach((function(e){e.style.paddingTop="",e.style.paddingRight="",e.style.paddingBottom="",e.style.paddingLeft="",e.dataset.isCardEnabled="false",t.ref.arrowLeftWrapper.querySelector(t.props.arrowContainerSelector).style.padding="",t.ref.arrowRightWrapper.querySelector(t.props.arrowContainerSelector).style.padding=""}));if(e.includes("cardPaddingTop.value")||e.includes("cardPaddingTop.unit")||e.includes("cardPaddingRight.value")||e.includes("cardPaddingRight.unit")||e.includes("cardPaddingBottom.value")||e.includes("cardPaddingBottom.unit")||e.includes("cardPaddingLeft.value")||e.includes("cardPaddingLeft.unit")){var w="".concat(n.cardPaddingTop.value).concat(n.cardPaddingTop.unit),S="".concat(n.cardPaddingRight.value).concat(n.cardPaddingRight.unit),A="".concat(n.cardPaddingBottom.value).concat(n.cardPaddingBottom.unit),O="".concat(n.cardPaddingLeft.value).concat(n.cardPaddingLeft.unit);t.ref.userItems.forEach((function(e){e.style.paddingTop=w,e.style.paddingRight=S,e.style.paddingBottom=A,e.style.paddingLeft=O})),t.ref.arrowLeftWrapper.querySelector(t.props.arrowContainerSelector).style.padding="".concat(w," calc(").concat(S," + ").concat(O,") ").concat(A," 0"),t.ref.arrowRightWrapper.querySelector(t.props.arrowContainerSelector).style.padding="".concat(w," 0 ").concat(A," calc(").concat(S," + ").concat(O,")")}if(e.includes("spaceBelowTitle.value")||e.includes("spaceBelowTitle.unit")){var x="".concat(n.spaceBelowTitle.value).concat(n.spaceBelowTitle.unit);t.ref.userItems.forEach((function(e){e.querySelector(t.props.itemDescriptionSelector).style.marginTop=x}))}if(e.includes("spaceBelowBody.value")||e.includes("spaceBelowBody.unit")){var P="".concat(n.spaceBelowBody.value).concat(n.spaceBelowBody.unit);t.ref.userItems.forEach((function(e){e.querySelector(t.props.itemButtonContainerSelector).style.marginTop=P}))}if((e.includes("titleAlignment")||e.includes("bodyAlignment")||e.includes("buttonAlignment"))&&(t.node.dataset.titleAlignment=n.titleAlignment,t.node.dataset.bodyAlignment=n.bodyAlignment,t.node.dataset.buttonAlignment=n.buttonAlignment),(e.includes("customOptions.customTitleFontSize.value")||e.includes("customOptions.customTitleFontSize.unit"))&&ju({type:"title",rootNode:t.node,targetElements:t.ref.itemTitles,fontSizeValue:n.customOptions.customTitleFontSize.value,fontSizeUnit:n.customOptions.customTitleFontSize.unit}),(e.includes("customOptions.customBodyFontSize.value")||e.includes("customOptions.customBodyFontSize.unit"))&&ju({type:"body",rootNode:t.node,targetElements:t.ref.itemDescriptions,fontSizeValue:n.customOptions.customBodyFontSize.value,fontSizeUnit:n.customOptions.customBodyFontSize.unit}),(e.includes("customOptions.customButtonFontSize.value")||e.includes("customOptions.customButtonFontSize.unit"))&&ju({type:"button",rootNode:t.node,targetElements:t.ref.itemButtons,fontSizeValue:n.customOptions.customButtonFontSize.value,fontSizeUnit:n.customOptions.customButtonFontSize.unit}),e.includes("mediaAspectRatio")){var E="original"===n.mediaAspectRatio,k=E?"none":"cover",T=n.mediaAspectRatio;t.ref.arrowLeftWrapper.querySelector(t.props.arrowPositionerSelector).dataset.mediaAspectRatio=n.mediaAspectRatio,t.ref.arrowRightWrapper.querySelector(t.props.arrowPositionerSelector).dataset.mediaAspectRatio=n.mediaAspectRatio,t.ref.mediaContainers.forEach((function(e){e.dataset.mediaAspectRatio=T})),E?t.ref.images.forEach((function(e){e.style.objectFit="",e.style.objectPosition="",e.dataset.mode=k,t.loadImage(e)})):t.ref.images.forEach((function(e){e.dataset.mode=k,t.loadImage(e)}))}o&&t.onResize()})),Nu(Bu(t),"handleContentUpdate",(function(e,n){e.forEach((function(e,r){if(e.includes("title")){var o=t.ref.userItems[r].querySelector(t.props.itemTitleSelector);o&&t.renderContentUpdate({elementToUpdate:{textContainer:o,visibilityTarget:o},latestText:n[r].title})}if(e.includes("description")){var a=t.ref.userItems[r].querySelector(t.props.itemDescriptionSelector);a&&t.renderContentUpdate({elementToUpdate:{textContainer:a,visibilityTarget:a},latestText:n[r].description})}if(e.includes("buttonText")){var s=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);s&&t.renderContentUpdate({elementToUpdate:{textContainer:s,visibilityTarget:t.ref.userItems[r].querySelector(t.props.itemButtonContainerSelector)},latestText:n[r].buttonText})}if(e.includes("buttonLink")){var c=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);c&&(c.href=n[r].buttonLink)}if(e.includes("mediaFocalPoint.x")||e.includes("mediaFocalPoint.y")){var u=n[r].mediaFocalPoint,l=u.x,d=u.y,f=t.ref.userItems[r].querySelector(t.props.imageSelector);i.a.load(f,{load:!0,forceImageUpdate:!0,focalPoint:{x:l,y:d}}),f.dataset.imageFocalPoint="".concat(l,",").concat(d)}}))})),Nu(Bu(t),"renderContentUpdate",(function(e){var n=e.elementToUpdate,r=e.latestText;r?(n.visibilityTarget.classList.remove(t.props.hideElementClass),n.textContainer.innerHTML=r):n.visibilityTarget.classList.add(t.props.hideElementClass)})),Nu(Bu(t),"handleStylesUpdate",(function(e,n){var r=!1;if(e.includes("sectionTheme")&&Vr(t.ref.parentNode,c.j,n.sectionTheme),e.includes("horizontalAlignment")){["horizontal-alignment--left","horizontal-alignment--center","horizontal-alignment--right"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.horizontalAlignment)}if(e.includes("verticalAlignment")){["vertical-alignment--top","vertical-alignment--middle","vertical-alignment--bottom"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.verticalAlignment)}if(e.includes("contentWidth")){t.node.dataset.widthConstraint=n.contentWidth,["content-width--narrow","content-width--medium","content-width--wide"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),"content-width--custom"!==n.contentWidth?(t.ref.parentNode.classList.add(n.contentWidth),t.ref.parentNode.querySelector(".content").style.width=""):t.ref.parentNode.querySelector(".content").style.width="".concat(t.state.styles.customContentWidth,"%"),r=!0}e.includes("customContentWidth")&&"content-width--custom"===t.state.styles.contentWidth&&(t.ref.parentNode.querySelector(".content").style.width="".concat(n.customContentWidth,"%")),r&&t.onResize()})),Nu(Bu(t),"shouldContentChangeUpdateDOM",(function(e,t,n){for(var r=!1,o=0;o<e.length;o++){if(e[o].includes("imageId")){r=!0;break}r=!1}return r})),Nu(Bu(t),"shouldOptionsChangeUpdateDOM",(function(e,t,n){return!!(e.includes("layoutWidth")||e.includes("contentOrder")||e.includes("titleFontSize")||e.includes("navigationControls")||e.includes("isInfiniteEnabled"))})),Nu(Bu(t),"shouldStylesChangeUpdateDOM",(function(e,t,n){return!!(e.includes("backgroundMode")||e.includes("backgroundWidth")||e.includes("imageOverlayOpacity")||e.includes("video")||e.includes("sectionAnimation")||e.includes("sectionHeight")||e.includes("customSectionHeight"))})),Nu(Bu(t),"updateRef",(function(){return{layoutContainer:t.node,userItems:Array.from(t.node.querySelectorAll(t.props.itemSelector)),images:Array.from(t.node.querySelectorAll(t.props.imageSelector)),contentContainers:Array.from(t.node.querySelectorAll(t.props.contentSelector)),mediaContainers:Array.from(t.node.querySelectorAll(t.props.mediaSelector)),slidesContainer:t.node.querySelector(t.props.slidesContainerSelector),arrowLeftWrapper:t.node.querySelector(t.props.arrowLeftWrapperSelector),arrowRightWrapper:t.node.querySelector(t.props.arrowRightWrapperSelector),parentNode:t.node.closest(t.props.parentSectionSelector),itemTitles:Array.from(t.node.querySelectorAll(t.props.itemTitleSelector)),itemDescriptions:Array.from(t.node.querySelectorAll(t.props.itemDescriptionSelector)),itemButtons:Array.from(t.node.querySelectorAll(t.props.itemButtonSelector))}})),Nu(Bu(t),"updateRefCloneItems",(function(){t.ref=t.updateRef()})),Nu(Bu(t),"handleArrowVisibility",(function(){if(!t.isInfiniteEnabled&&"arrows"===t.navigationControls){if(t.slideshowProps.totalSlideCount<=t.getSlideColumnCount())return t.hideArrow(t.previousBtn),void t.hideArrow(t.nextBtn);t.slideshowProps.targetSlideIndex<=0?t.hideArrow(t.previousBtn):t.showArrow(t.previousBtn),t.slideshowProps.targetSlideIndex>=t.behaviors.getLastScrollableSlideIndex()?t.hideArrow(t.nextBtn):t.showArrow(t.nextBtn)}})),Nu(Bu(t),"onResize",(function(){var e=t.getSlideColumnCount();t.removeClones(),t.slideshowNodes=t.buildItems(t.slides),t.list.props.items=t.slideshowNodes,t.loadImages(t.ref.images),t.list.props.slideshowGutterWidth=t.getSlideshowGutterWidth(),t.list.props.slideColumnCount=e,t.behaviors.props.slideColumnCount=e,t.list.props.spacing=qu({spaceValue:t.spaceBetweenSlidesValue,spaceUnit:t.spaceBetweenSlidesUnit}),t.list.setSize(t.getSlideshowDimensions()),t.updatePositions(),t.slideshowProps.targetSlideIndex=t.slideshowProps.progressIndex,t.handleArrowVisibility()})),Nu(Bu(t),"removeClones",(function(){t.slidesContainer.innerHTML="";var e=new DocumentFragment;t.slides.forEach((function(t){e.appendChild(t)})),t.slidesContainer.appendChild(e)})),Nu(Bu(t),"onClickNavPrevious",(function(){t.behaviors.previousIndex()})),Nu(Bu(t),"onClickNavNext",(function(){t.behaviors.nextIndex()})),Nu(Bu(t),"onProgress",(function(e){t.slideshowProps.progressIndex=(.5+e<<0)%t.slideshowProps.totalSlideCount,t.list.setProgress(e),t.updatePositions()})),Nu(Bu(t),"onStartProgress",(function(e){if(t.slideshowProps.targetSlideIndex=e,t.handleArrowVisibility(),!t.dragBehaviors.isDragging){var n=t.slideshowNodes.length,r=Math.round((e+n)%n);t.updateAriaContainer({currentSlideIndex:r})}})),Nu(Bu(t),"onCloneItem",(function(e){var n=t.slideshowNodes[e],r=n.node.parentNode,o=n.node.cloneNode(!0),i=o.querySelector(t.nodeSelectors.slideshowItemImage);r.appendChild(o),t.slideshowNodes.push(Ru(Ru({},n),{},{node:o,imageNode:i,isImageLoadAdded:!1,inViewport:null})),t.loadImage(i)})),Nu(Bu(t),"destroy",(function(){t.behaviors.destroy(),delete t.behaviors,t.dragBehaviors.destroy(),delete t.dragBehaviors,t.unbindListeners()})),t.node=e,t.shouldShowAdjacentSlides="true"===e.getAttribute("data-show-adjacent-slides"),t.isInfiniteEnabled="true"===e.getAttribute("data-is-infinite-enabled"),t.spaceBetweenSlidesValue=Number(e.getAttribute("data-space-between-slides-value")),t.spaceBetweenSlidesUnit=e.getAttribute("data-space-between-slides-unit"),t.maxColumns=e.getAttribute("data-max-columns"),t.navigationControls=e.getAttribute("data-navigation-controls"),t.nodeSelectors={slideshowWidthConstrainer:".user-items-list-carousel__gutter",slidesContainer:".user-items-list-carousel__slides",slide:".user-items-list-carousel__slide",slideshowItemImage:".user-items-list-carousel__media",previousBtn:".user-items-list-carousel__arrow-button--left",nextBtn:".user-items-list-carousel__arrow-button--right"},t.classNames={isSlideshowInitialized:"user-items-list-carousel__slides--initialized",isArrowHidden:"user-items-list-carousel__arrow-button--hidden"};var n=t.props,r=n.itemSelector,s=n.imageSelector,u=n.contentSelector,l=n.mediaSelector,d=n.slidesContainerSelector,f=n.arrowLeftWrapperSelector,p=n.arrowRightWrapperSelector,h=n.parentSectionSelector,m=n.itemTitleSelector,y=n.itemDescriptionSelector,v=n.itemButtonSelector;return t.ref={layoutContainer:t.node,userItems:Array.from(t.node.querySelectorAll(r)),images:Array.from(t.node.querySelectorAll(s)),contentContainers:Array.from(t.node.querySelector(u)),mediaContainers:Array.from(t.node.querySelectorAll(l)),slidesContainer:t.node.querySelector(d),arrowLeftWrapper:t.node.querySelector(f),arrowRightWrapper:t.node.querySelector(p),itemTitles:Array.from(t.node.querySelectorAll(m)),itemDescriptions:Array.from(t.node.querySelectorAll(y)),itemButtons:Array.from(t.node.querySelectorAll(v)),parentNode:t.node.closest(h)},t.sectionId=t.node.dataset.sectionId,t.state=t.getStateFromDOM(),t.initializeSlideshowDom(),t.initializeSlideshowBehaviors(),t.initializeSlideshowProperties(),t.initializeDragBehaviors(),t.initializeSlideshow(),t}return t=a,(n=[{key:"loadImages",value:function(e){e.forEach(this.loadImage)}},{key:"addAriaContainer",value:function(e){var t=e.targetElement,n=document.createElement("div");n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.style="position: absolute; pointer-events: none; opacity: 0;",t.appendChild(n),this.ariaContainer=n}},{key:"updateAriaContainer",value:function(e){var t=e.currentSlideIndex,n=this.slideshowNodes.length;this.ariaContainer.innerHTML="Item ".concat(t+1," of ").concat(n)}},{key:"initializeSlideshowDom",value:function(){this.loadImages(this.ref.images),this.slideshowWidthConstrainer=this.node.querySelector(this.nodeSelectors.slideshowWidthConstrainer),this.slidesContainer=this.node.querySelector(this.nodeSelectors.slidesContainer),this.previousBtn=this.node.querySelector(this.nodeSelectors.previousBtn),this.nextBtn=this.node.querySelector(this.nodeSelectors.nextBtn),this.slides=Array.from(this.node.querySelectorAll(this.nodeSelectors.slide)),this.slideshowNodes=this.buildItems(this.slides),this.addAriaContainer({targetElement:this.slideshowWidthConstrainer})}},{key:"initializeSlideshowBehaviors",value:function(){this.behaviors=new ru({nodes:{focus:this.slideshowWidthConstrainer},numSlides:this.slideshowNodes.length,slideColumnCount:this.getSlideColumnCount(),isAutoplay:!1,autoplayInterval:3e3,isInfinite:this.isInfiniteEnabled,transitionDuration:250,onProgress:this.onProgress,onStartProgress:this.onStartProgress,shouldStopNavAtEnds:!0}),this.list=new hu(Ru(Ru({items:this.slideshowNodes},this.getSlideshowDimensions()),{},{spacing:qu({spaceValue:this.spaceBetweenSlidesValue,spaceUnit:this.spaceBetweenSlidesUnit}),isInfinite:this.isInfiniteEnabled,onCloneItem:this.onCloneItem,slideshowGutterWidth:this.getSlideshowGutterWidth(),onRedraw:this.updateRefCloneItems}))}},{key:"destroySlideshow",value:function(){this.behaviors&&this.behaviors.destroy(),this.list&&this.list.destroy()}},{key:"initializeSlideshowProperties",value:function(){this.slideshowProps={slideDimensions:this.list.props.items[0],totalSlideCount:this.slideshowNodes.length,progress:0,progressIndex:0,targetSlideIndex:0}}},{key:"initializeDragBehaviors",value:function(){var e=this.node.querySelector(this.nodeSelectors.slideshowWidthConstrainer);this.dragBehaviors=new su(e,{slideshowProps:this.slideshowProps,behaviors:this.behaviors,callback:this.handleArrowVisibility})}},{key:"initializeSlideshow",value:function(){this.updatePositions(),this.slidesContainer.classList.add(this.classNames.isSlideshowInitialized),this.bindListeners(),this.handleArrowVisibility(),this.updateAriaContainer({currentSlideIndex:0})}},{key:"hideArrow",value:function(e){e.classList.add(this.classNames.isArrowHidden),e.setAttribute("tabindex","-1")}},{key:"showArrow",value:function(e){e.classList.remove(this.classNames.isArrowHidden),e.setAttribute("tabindex","0")}},{key:"getSlideColumnCount",value:function(){var e=this,t=window.innerWidth,n=1;return Object.values({"breakpoint-up-sm":{minScreenWidth:576,columnsWeHaveRoomFor:2},"breakpoint-up-lg":{minScreenWidth:992,columnsWeHaveRoomFor:3},"breakpoint-up-xxl":{minScreenWidth:1200,columnsWeHaveRoomFor:4}}).forEach((function(r){t>=r.minScreenWidth&&(n=Math.min(r.columnsWeHaveRoomFor,e.maxColumns))})),n}},{key:"getSlideshowGutterWidth",value:function(){var e=this.slidesContainer.getBoundingClientRect();return this.slidesContainer.offsetWidth/e.width*(e.x-this.slideshowWidthConstrainer.getBoundingClientRect().x)}},{key:"bindListeners",value:function(){D.a.watch(this.sectionId,this.onSectionTweak),"none"!==this.state.options.navigationControls&&(this.previousBtn.addEventListener("click",this.onClickNavPrevious),this.nextBtn.addEventListener("click",this.onClickNavNext)),this.onResize=$(this.onResize,c.e),s.a.on(this.onResize)}},{key:"unbindListeners",value:function(){D.a.disconnect(this.sectionId,this.onSectionTweak),"none"!==this.state.options.navigationControls&&(this.previousBtn.removeEventListener("click",this.onClickNavPrevious),this.nextBtn.removeEventListener("click",this.onClickNavNext)),s.a.off(this.onResize)}},{key:"getSlideshowDimensions",value:function(){var e=this.slideshowWidthConstrainer.offsetWidth,t=this.slideshowWidthConstrainer.offsetHeight;return{regionWidth:e,regionHeight:t,maxWidth:e,maxHeight:t}}},{key:"buildItems",value:function(e){var t=this;return e.map((function(e,n){return{width:e.offsetWidth,height:e.offsetHeight,index:n,node:e,imageNode:e.querySelector(t.nodeSelectors.slideshowItemImage),isImageLoadAdded:!1,inViewport:null}}))}},{key:"updatePositions",value:function(){for(var e=0,t=this.slideshowNodes.length;e<t;e+=1){var n=this.slideshowNodes[e],r=this.list.items[e],o=!!(.5+Math.min(1,Math.abs(r.proximity))<<0),i=n.inViewport!==r.inViewport;(n.inViewport||i)&&(o!==n.isAriaHidden&&(n.node.setAttribute("aria-hidden",o),n.isAriaHidden=o),n.node.style.transform="translate3d("+r.x+"px, 0, 0)",n.inViewport=r.inViewport)}}}])&&_u(t.prototype,n),r&&_u(t,r),a}(l.a);Nu(Gu,"defaultProps",{itemSelector:".list-item",imageSelector:"img",contentSelector:".list-item-content",mediaSelector:".user-items-list-carousel__media-container",itemTitleSelector:".list-item-content__title",itemDescriptionSelector:".list-item-content__description",itemButtonContainerSelector:".list-item-content__button-container",itemButtonSelector:".list-item-content__button",slidesContainerSelector:".user-items-list-carousel__slides",arrowLeftWrapperSelector:".user-items-list-carousel__arrow-wrapper--left",arrowRightWrapperSelector:".user-items-list-carousel__arrow-wrapper--right",arrowContainerSelector:".user-items-list-carousel__arrow-container",arrowPositionerSelector:".user-items-list-carousel__arrow-positioner",parentSectionSelector:".user-items-list-section",hideElementClass:"list-item-content--hidden"});function Yu(e){return(Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zu(e,t){return(Zu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ju(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=el(e);if(t){var o=el(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ku(this,n)}}function Ku(e,t){return!t||"object"!==Yu(t)&&"function"!=typeof t?$u(e):t}function $u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function el(e){return(el=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zu(e,t)}(a,e);var t,n,r,o=Ju(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),tl($u(t=o.call(this)),"loadImage",(function(e){e&&(e.onload=function(){e.dataset.loaded=!0},i.a.loadLazy(e,{load:!0,useAdvancedPositioning:!0}))})),tl($u(t),"getStateFromDOM",(function(){var e=JSON.parse(t.node.dataset.currentContext),n=Object.assign({},e);return n.userItems.forEach((function(e,t){e.image&&(e.imageId=e.image.id,delete e.image)})),n})),tl($u(t),"onSectionTweak",(function(e){var n={layout:e.userItemsListOptions.layout,userItemsListCardTheme:e.userItemsListOptions.userItemsListCardTheme,userItems:Array.from(e.userItems),styles:e.styles,options:e.userItemsListOptions.simpleOptions};n.userItems.forEach((function(e){e.button&&(e.button.hasOwnProperty("buttonLink")&&(e.buttonLink=e.button.buttonLink),e.button.hasOwnProperty("buttonText")&&(e.buttonText=e.button.buttonText),e.buttonNewWindow=e.button.buttonNewWindow)}));var r=t.state.userItems.length!==n.userItems.length||t.state.layout!==n.layout;if(r)return!1;t.state.userItemsListCardTheme!==n.userItemsListCardTheme&&Vr(t.node,c.j,n.userItemsListCardTheme);var o=t.state.userItems.map((function(e,t){return Fc(n.userItems[t],e)}));if(r=t.shouldContentChangeUpdateDOM(o,t.state.userItems,n.userItems))return!1;var i=Fc(n.options,t.state.options);if(r=t.shouldOptionsChangeUpdateDOM(i,t.state.options,n.options))return!1;var a=Fc(n.styles,t.state.styles);return!(r=t.shouldStylesChangeUpdateDOM(a,t.state.styles,n.styles))&&(t.handleContentUpdate(o,n.userItems),t.handleOptionsUpdate(i,n.options),t.handleStylesUpdate(a,n.styles),t.ref=t.updateRef(),t.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xu(Object(n),!0).forEach((function(t){tl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n)),!0)})),tl($u(t),"handleOptionsUpdate",(function(e,n){var r=t.state.options,o=!1;if(e.includes("verticalPaddingTop.value")||e.includes("verticalPaddingTop.unit")||e.includes("verticalPaddingBottom.value")||e.includes("verticalPaddingBottom.unit")){var i="".concat(n.verticalPaddingTop.value).concat(n.verticalPaddingTop.unit),a="".concat(n.verticalPaddingBottom.value).concat(n.verticalPaddingBottom.unit);t.ref.layoutContainer.style.paddingTop=i,t.ref.layoutContainer.style.paddingBottom=a}if(e.includes("maxColumns")&&(t.node.dataset.numColumns=n.maxColumns,o=!0),e.includes("spaceBetweenRows.value")||e.includes("spaceBetweenRows.unit")||e.includes("spaceBetweenColumns.value")||e.includes("spaceBetweenColumns.unit")){var s="".concat(n.spaceBetweenRows.value).concat(n.spaceBetweenRows.unit),c="".concat(n.spaceBetweenColumns.value).concat(n.spaceBetweenColumns.unit);t.node.style.gridGap="".concat(s," ").concat(c),o=!0}if(e.includes("spaceBetweenContentAndMedia.value")||e.includes("spaceBetweenContentAndMedia.unit")){var u="".concat(n.spaceBetweenContentAndMedia.value).concat(n.spaceBetweenContentAndMedia.unit);"media-first"===t.state.options.contentOrder?t.ref.mediaContainers.forEach((function(e){e.style.marginBottom=u,e.style.marginTop=""})):t.ref.mediaContainers.forEach((function(e){e.style.marginBottom="",e.style.marginTop=u}))}if(e.includes("cardVerticalAlignment")&&(t.node.dataset.alignmentVertical=n.cardVerticalAlignment),e.includes("isCardEnabled")&&(n.isCardEnabled?t.ref.userItems.forEach((function(e){var t="".concat(r.cardPaddingTop.value).concat(r.cardPaddingTop.unit),n="".concat(r.cardPaddingRight.value).concat(r.cardPaddingRight.unit),o="".concat(r.cardPaddingBottom.value).concat(r.cardPaddingBottom.unit),i="".concat(r.cardPaddingLeft.value).concat(r.cardPaddingLeft.unit);e.style.paddingTop=t,e.style.paddingRight=n,e.style.paddingBottom=o,e.style.paddingLeft=i,e.dataset.isCardEnabled="true"})):t.ref.userItems.forEach((function(e){e.style.paddingTop="",e.style.paddingRight="",e.style.paddingBottom="",e.style.paddingLeft="",e.dataset.isCardEnabled="false"}))),(e.includes("cardPaddingTop.value")||e.includes("cardPaddingTop.unit")||e.includes("cardPaddingRight.value")||e.includes("cardPaddingRight.unit")||e.includes("cardPaddingBottom.value")||e.includes("cardPaddingBottom.unit")||e.includes("cardPaddingLeft.value")||e.includes("cardPaddingLeft.unit"))&&t.ref.userItems.forEach((function(e){var t="".concat(n.cardPaddingTop.value).concat(n.cardPaddingTop.unit),r="".concat(n.cardPaddingRight.value).concat(n.cardPaddingRight.unit),o="".concat(n.cardPaddingBottom.value).concat(n.cardPaddingBottom.unit),i="".concat(n.cardPaddingLeft.value).concat(n.cardPaddingLeft.unit);e.style.paddingTop=t,e.style.paddingRight=r,e.style.paddingBottom=o,e.style.paddingLeft=i})),e.includes("spaceBelowTitle.value")||e.includes("spaceBelowTitle.unit")){var l="".concat(n.spaceBelowTitle.value).concat(n.spaceBelowTitle.unit);t.ref.userItems.forEach((function(e){e.querySelector(t.props.itemDescriptionSelector).style.marginTop=l}))}if(e.includes("spaceBelowBody.value")||e.includes("spaceBelowBody.unit")){var d="".concat(n.spaceBelowBody.value).concat(n.spaceBelowBody.unit);t.ref.userItems.forEach((function(e){e.querySelector(t.props.itemButtonContainerSelector).style.marginTop=d}))}if((e.includes("titleAlignment")||e.includes("bodyAlignment")||e.includes("buttonAlignment"))&&(t.node.dataset.titleAlignment=n.titleAlignment,t.node.dataset.bodyAlignment=n.bodyAlignment,t.node.dataset.buttonAlignment=n.buttonAlignment),(e.includes("customOptions.customTitleFontSize.value")||e.includes("customOptions.customTitleFontSize.unit"))&&ju({type:"title",rootNode:t.node,targetElements:t.ref.itemTitles,fontSizeValue:n.customOptions.customTitleFontSize.value,fontSizeUnit:n.customOptions.customTitleFontSize.unit}),(e.includes("customOptions.customBodyFontSize.value")||e.includes("customOptions.customBodyFontSize.unit"))&&ju({type:"body",rootNode:t.node,targetElements:t.ref.itemDescriptions,fontSizeValue:n.customOptions.customBodyFontSize.value,fontSizeUnit:n.customOptions.customBodyFontSize.unit}),(e.includes("customOptions.customButtonFontSize.value")||e.includes("customOptions.customButtonFontSize.unit"))&&ju({type:"button",rootNode:t.node,targetElements:t.ref.itemButtons,fontSizeValue:n.customOptions.customButtonFontSize.value,fontSizeUnit:n.customOptions.customButtonFontSize.unit}),e.includes("mediaAspectRatio")){var f="original"===n.mediaAspectRatio,p=f?"none":"cover",h=n.mediaAspectRatio;t.ref.mediaContainers.forEach((function(e){e.dataset.aspectRatio=h})),f?t.ref.images.forEach((function(e){e.style.objectFit="",e.style.objectPosition="",e.dataset.mode=p,t.loadImage(e)})):t.ref.images.forEach((function(e){e.dataset.mode=p,t.loadImage(e)}))}o&&t.onResize()})),tl($u(t),"handleContentUpdate",(function(e,n){e.forEach((function(e,r){if(e.includes("title")){var o=t.ref.userItems[r].querySelector(t.props.itemTitleSelector);o&&t.renderContentUpdate({elementToUpdate:{textContainer:o,visibilityTarget:o},latestText:n[r].title})}if(e.includes("description")){var a=t.ref.userItems[r].querySelector(t.props.itemDescriptionSelector);a&&t.renderContentUpdate({elementToUpdate:{textContainer:a,visibilityTarget:a},latestText:n[r].description})}if(e.includes("buttonText")){var s=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);s&&t.renderContentUpdate({elementToUpdate:{textContainer:s,visibilityTarget:t.ref.userItems[r].querySelector(t.props.itemButtonContainerSelector)},latestText:n[r].buttonText})}if(e.includes("buttonLink")){var c=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);c&&(c.href=n[r].buttonLink)}if(e.includes("buttonNewWindow")){var u=t.ref.userItems[r].querySelector(t.props.itemButtonSelector);u&&(u.target=n[r].buttonNewWindow?"_blank":"_self")}if(e.includes("mediaFocalPoint.x")||e.includes("mediaFocalPoint.y")){var l=n[r].mediaFocalPoint,d=l.x,f=l.y,p=t.ref.userItems[r].querySelector(t.props.imageSelector);i.a.load(p,{load:!0,forceImageUpdate:!0,focalPoint:{x:d,y:f}}),p.dataset.imageFocalPoint="".concat(d,",").concat(f)}}))})),tl($u(t),"renderContentUpdate",(function(e){var n=e.elementToUpdate,r=e.latestText;r?(n.visibilityTarget.classList.remove(t.props.hideElementClass),n.textContainer.innerHTML=r):n.visibilityTarget.classList.add(t.props.hideElementClass)})),tl($u(t),"handleStylesUpdate",(function(e,n){var r=!1;if(e.includes("sectionTheme")&&Vr(t.ref.parentNode,c.j,n.sectionTheme),e.includes("horizontalAlignment")){["horizontal-alignment--left","horizontal-alignment--center","horizontal-alignment--right"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.horizontalAlignment)}if(e.includes("verticalAlignment")){["vertical-alignment--top","vertical-alignment--middle","vertical-alignment--bottom"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),t.ref.parentNode.classList.add(n.verticalAlignment)}if(e.includes("contentWidth")){t.node.dataset.widthConstraint=n.contentWidth,["content-width--narrow","content-width--medium","content-width--wide"].forEach((function(e){t.ref.parentNode.classList.contains(e)&&t.ref.parentNode.classList.remove(e)})),"content-width--custom"!==n.contentWidth?(t.ref.parentNode.classList.add(n.contentWidth),t.ref.parentNode.querySelector(".content").style.width=""):t.ref.parentNode.querySelector(".content").style.width="".concat(t.state.styles.customContentWidth,"%"),r=!0}e.includes("customContentWidth")&&"content-width--custom"===t.state.styles.contentWidth&&(t.ref.parentNode.querySelector(".content").style.width="".concat(n.customContentWidth,"%")),r&&t.onResize()})),tl($u(t),"shouldContentChangeUpdateDOM",(function(e,t,n){for(var r=!1,o=0;o<e.length;o++){if(e[o].includes("imageId")){r=!0;break}r=!1}return r})),tl($u(t),"shouldOptionsChangeUpdateDOM",(function(e,t,n){return!!(e.includes("layoutWidth")||e.includes("contentOrder")||e.includes("titleFontSize"))})),tl($u(t),"shouldStylesChangeUpdateDOM",(function(e,t,n){return!!(e.includes("backgroundMode")||e.includes("backgroundWidth")||e.includes("imageOverlayOpacity")||e.includes("video")||e.includes("sectionAnimation")||e.includes("sectionHeight")||e.includes("customSectionHeight"))})),tl($u(t),"updateRef",(function(){return{layoutContainer:t.node,userItems:Array.from(t.node.querySelectorAll(t.props.itemSelector)),images:Array.from(t.node.querySelectorAll(t.props.imageSelector)),contentContainers:Array.from(t.node.querySelectorAll(t.props.contentSelector)),mediaContainers:Array.from(t.node.querySelectorAll(t.props.mediaSelector)),parentNode:t.node.closest(t.props.parentSectionSelector),itemTitles:Array.from(t.node.querySelectorAll(t.props.itemTitleSelector)),itemDescriptions:Array.from(t.node.querySelectorAll(t.props.itemDescriptionSelector)),itemButtons:Array.from(t.node.querySelectorAll(t.props.itemButtonSelector))}})),tl($u(t),"onResize",(function(){t.loadImages(t.ref.images)})),tl($u(t),"destroy",(function(){t.unbindListeners()})),t.node=e;var n=t.props,r=n.itemSelector,s=n.imageSelector,u=n.contentSelector,l=n.mediaSelector,d=n.parentSectionSelector,f=n.itemTitleSelector,p=n.itemDescriptionSelector,h=n.itemButtonSelector;return t.ref={layoutContainer:t.node,userItems:Array.from(t.node.querySelectorAll(r)),images:Array.from(t.node.querySelectorAll(s)),contentContainers:Array.from(t.node.querySelector(u)),mediaContainers:Array.from(t.node.querySelectorAll(l)),itemTitles:Array.from(t.node.querySelectorAll(f)),itemDescriptions:Array.from(t.node.querySelectorAll(p)),itemButtons:Array.from(t.node.querySelectorAll(h)),parentNode:t.node.closest(d)},t.sectionId=t.node.dataset.sectionId,t.state=t.getStateFromDOM(),t.onResize=$(t.onResize,c.e),t.bindListeners(),t.loadImages(t.ref.images),t}return t=a,(n=[{key:"loadImages",value:function(e){e.forEach(this.loadImage)}},{key:"bindListeners",value:function(){D.a.watch(this.sectionId,this.onSectionTweak),s.a.on(this.onResize)}},{key:"unbindListeners",value:function(){D.a.disconnect(this.sectionId,this.onSectionTweak),s.a.off(this.onResize)}}])&&Qu(t.prototype,n),r&&Qu(t,r),a}(l.a);tl(nl,"defaultProps",{itemSelector:".list-item",imageSelector:"img",contentSelector:".list-item-content",mediaSelector:".list-item-media",itemTitleSelector:".list-item-content__title",itemDescriptionSelector:".list-item-content__description",itemButtonContainerSelector:".list-item-content__button-container",itemButtonSelector:".list-item-content__button",parentSectionSelector:".user-items-list-section",hideElementClass:"list-item-content--hidden"});var rl=function(e){return new nl(e)},ol=n(233),il=n.n(ol);function al(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cl(e,t,n){return t&&sl(e.prototype,t),n&&sl(e,n),e}function ul(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ll(e){return(ll=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dl(e,t){return(dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fl(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function pl(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function hl(e){return function(e){if(Array.isArray(e))return ml(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ml(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ml(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yl=function(e,t){if(!e||!t)return!1;if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0};var vl=function(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t.length=e.length,t},gl=[];var bl=function(e,t,n,r,o){var i=e.get("viewport")||[];gl[0]=t,gl[1]=n,gl[2]=r,gl[3]=o,yl(i,gl)||(e.gl.viewport(t,n,r,o),e.cache.set("viewport",vl(gl,i)))};var wl=function(e,t,n,r,o){e.viewport[0]=t,e.viewport[1]=n,e.viewport[2]=r,e.viewport[3]=o,bl.apply(void 0,[e.state].concat(hl(e.viewport)))};var Sl=function(e,t){var n,r=e.get("clearColor")||[];yl(r,t)||((n=e.gl).clearColor.apply(n,hl(t)),e.cache.set("clearColor",vl(t,r)))};var Al=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.gl,i=0;t&&(i|=o.COLOR_BUFFER_BIT),n&&(i|=o.DEPTH_BUFFER_BIT),r&&(i|=o.STENCIL_BUFFER_BIT),o.clear(i)};var Ol=function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),t},xl=function(){function e(){al(this,e),this.listeners=[]}return cl(e,[{key:"add",value:function(e){this.listeners.push(e)}},{key:"remove",value:function(e){Ol(this.listeners,e)}},{key:"dispatch",value:function(){var e=arguments;this.listeners.forEach((function(t){t.apply(void 0,hl(e))}))}},{key:"dispose",value:function(){this.listeners.length=0}}]),e}(),Pl=function(){function e(t){var n=this;al(this,e),ul(this,"handleContextCreate",(function(){n.cache=new Map,n.enabledCapabilities=new Map})),ul(this,"dispose",(function(){n.renderer.onDispose.remove(n.dispose),n.cache.clear(),n.enabledCapabilities.clear()})),this.renderer=t,this.renderer.onContextCreate.add(this.handleContextCreate),this.renderer.onDispose.add(this.dispose)}return cl(e,[{key:"get",value:function(e){return this.cache.get(e)}},{key:"set",value:function(e,t){this.cache.set(e,t)}},{key:"enable",value:function(e){this.enabledCapabilities.get(e)||(this.enabledCapabilities.set(e,!0),this.gl.enable(e))}},{key:"disable",value:function(e){this.enabledCapabilities.get(e)&&(this.enabledCapabilities.set(e,!1),this.gl.disable(e))}},{key:"gl",get:function(){return this.renderer.gl}}]),e}();ul(Pl,"NAME","state");var El=Pl,kl=function(){function e(t){var n=this;al(this,e),ul(this,"handleContextCreate",(function(){n.cache=new Map})),ul(this,"dispose",(function(){n.renderer.onDispose.remove(n.dispose),n.cache.clear()})),this.renderer=t,this.renderer.onContextCreate.add(this.handleContextCreate),this.renderer.onDispose.add(this.dispose)}return cl(e,[{key:"get",value:function(e){var t=this.cache.get(e);return t||(t={},this.cache.set(e,t)),t}},{key:"update",value:function(e,t,n){this.cache.get(e)[t]=n}},{key:"remove",value:function(e){this.cache.delete(e)}}]),e}();ul(kl,"NAME","properties");var Tl=kl,Cl=function(e){return e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0?"highp":e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"},jl=function(){function e(t){var n=this,r=t.canvas,o=t.alpha,i=void 0!==o&&o,a=t.antialias,s=void 0!==a&&a,c=t.depth,u=void 0!==c&&c,l=t.stencil,d=void 0!==l&&l,f=t.premultipliedAlpha,p=void 0!==f&&f,h=t.preserveDrawingBuffer,m=void 0!==h&&h,y=t.pixelRatio,v=void 0===y?1:y,g=t.plugins,b=void 0===g?[]:g,w=t.onContextCreate,S=t.onContextLoss;al(this,e),ul(this,"uniformValues",new Map),ul(this,"viewport",[0,0,2,2]),ul(this,"handleContextLost",(function(e){n.isContextLost=!0,n.onContextLoss.dispatch(),e.preventDefault()})),ul(this,"handleContextRestored",(function(){n.isContextLost=!1,n.createContext()})),this.contextAttributes={alpha:i,antialias:s,depth:u,stencil:d,premultipliedAlpha:p,preserveDrawingBuffer:m},this.canvas=r,this.pixelRatio=v,this.isContextLost=!1,this.initSignals(),this.initPlugins(b),w&&this.onContextCreate.add(w),S&&this.onContextLoss.add(S),this.createContext()}return cl(e,[{key:"initPlugins",value:function(t){var n=this;[].concat(hl(e.corePlugins),hl(t)).forEach((function(e){n[e.NAME]=new e(n)}))}},{key:"initSignals",value:function(){this.onContextCreate=new xl,this.onContextLoss=new xl,this.onBeforeRender=new xl,this.onDispose=new xl}},{key:"createContext",value:function(){if(this.gl=this.canvas.getContext("webgl",this.contextAttributes)||this.canvas.getContext("experimental-webgl",this.contextAttributes),!this.gl)throw this.isContextLost=!0,new Error("Error creating WebGL context");this.canvas.addEventListener("webglcontextlost",this.handleContextLost),this.canvas.addEventListener("webglcontextrestored",this.handleContextRestored),this.defaultPrecision=Cl(this.gl),this.onContextCreate.dispatch(this)}}]),e}();ul(jl,"corePlugins",[El,Tl]);var Il=jl;var Ll=function(e,t,n){!0!==e.isContextLost&&(t=t||e.canvas.clientWidth*e.pixelRatio,n=n||e.canvas.clientHeight*e.pixelRatio,e.canvas.width=t,e.canvas.height=n,wl(e,0,0,t,n))};var Rl=function(e){var t=e.gl;e.properties.cache.forEach((function(e){Object.values(e).forEach((function(n){switch(n.constructor.name){case"WebGLFramebuffer":t.deleteFramebuffer(n);break;case"WebGLRenderbuffer":t.deleteRenderbuffer(n);break;case"WebGLTexture":t.deleteTexture(n);break;case"WebGLBuffer":t.deleteBuffer(n);break;case"WebGLProgram":t.deleteProgram(n)}delete e[n]}))})),e.properties.cache.clear()};var _l=function(e){Rl(e),e.onDispose.dispatch(),e.uniformValues.clear(),e.onContextCreate.dispose(),e.onContextLoss.dispose(),e.onBeforeRender.dispose(),e.onDispose.dispose(),e.canvas.removeEventListener("webglcontextlost",e.handleContextLost),e.canvas.removeEventListener("webglcontextrestored",e.handleContextRestored),e.canvas=null,e.gl=null};var Dl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=void 0===t?0:t,r=e.height,o=void 0===r?0:r,i=document.createElement("canvas");return i.width=n,i.height=o,i},Ml=!(!self.OffscreenCanvas||!self.OffscreenCanvas.prototype.transferToImageBitmap);var Fl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=void 0===t?0:t,r=e.height,o=void 0===r?0:r;return Ml?new OffscreenCanvas(n,o):Dl({width:n,height:o})};n(397);var Bl=function(e,t){var n=e.properties.get(t);n.glTexture&&(e.gl.deleteTexture(n.glTexture),delete n.glTexture,e.properties.remove(t))};var zl=function(e,t){var n=e.properties.get(t);n&&(e.gl.deleteProgram(n.glProgram),e.properties.remove(t))};var Nl=function(e,t){var n=e.properties.get(t);n.glBuffer&&(e.gl.deleteBuffer(n.glBuffer),delete n.glBuffer),e.properties.remove(t)};var Wl=function(e,t){t.attributes.forEach((function(t){return Nl(e,t)})),t.index&&Nl(e,t.index)};function Ul(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hl=function(){function e(t){var n,r,o,i=t.renderer,a=t.instance,s=t.disposeMethod;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=0,(r="usageCount")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.renderer=i,this.instance=a,this.disposeMethod=s}var t,n,r;return t=e,(n=[{key:"dispose",value:function(){this.disposeMethod(this.renderer,this.instance)}}])&&Ul(t.prototype,n),r&&Ul(t,r),e}();function ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vl=function(){function e(t){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,r="resources",o=new Map,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.renderer=t}var t,n,r;return t=e,(n=[{key:"getResource",value:function(e){var t=e.key,n=e.factory,r=e.disposeMethod,o=this.resources.get(t);return o||(o=new Hl({renderer:this.renderer,instance:n(),disposeMethod:r}),this.resources.set(t,o)),o.usageCount++,o.instance}},{key:"getTexture",value:function(e){var t=e.key,n=e.factory;return this.getResource({key:t,factory:n,disposeMethod:Bl})}},{key:"getProgram",value:function(e){var t=e.key,n=e.factory;return this.getResource({key:t,factory:n,disposeMethod:zl})}},{key:"getGeometry",value:function(e){var t=e.key,n=e.factory;return this.getResource({key:t,factory:n,disposeMethod:Wl})}},{key:"releaseResource",value:function(e){var t=this.resources.get(e);t&&0==--t.usageCount&&(t.dispose(),this.resources.delete(e))}},{key:"destroy",value:function(){this.resources.clear(),this.renderer=null}}])&&ql(t.prototype,n),r&&ql(t,r),e}();function Gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ql(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.canvas,r=e.clearColor,o=e.isActive,i=e.isDirty;if(t||o&&i){var a=n.contextWidth,s=n.contextHeight,c=n.isBitmapRenderer;wl(this.renderer,0,0,a,s),Sl(this.renderer.state,r),Al(this.renderer),c?this.renderBitmap(e):this.renderImage(e),e.isDirty=!1}}function Zl(e,t){var n=e.isActive,r=e.isDirty;(t||n&&r)&&e.render()}var Jl=function(){function e(t){var n=t.attributes,r=t.plugins;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xl(this,"rendererWidth",0),Xl(this,"rendererHeight",0),Xl(this,"isWebGLSupported",!0),Xl(this,"content",[]),this.webglCanvas=Fl();try{this.renderer=new Il(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(n),!0).forEach((function(t){Xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({canvas:this.webglCanvas,plugins:r},n)),this.renderContent=Ql.bind(this),this.resourceCache=new Vl(this.renderer)}catch(e){this.isWebGLSupported=!1,this.renderer=null,this.renderContent=Zl.bind(this)}}var t,n,r;return t=e,(n=[{key:"register",value:function(e){this.content.push(e)}},{key:"unregister",value:function(e){var t=this.content.indexOf(e);-1!==t&&this.content.splice(t,1)}},{key:"update",value:function(e){var t=this;return this.content.forEach((function(n){if(!n.isActive)return t;n.update(e),n.autoUpdate&&(n.isDirty=!0)})),this}},{key:"render",value:function(){for(var e=0,t=this.content.length;e<t;e++)this.renderContent(this.content[e]);return this}},{key:"renderBitmap",value:function(e){var t=e.canvas,n=t.contextWidth,r=t.contextHeight,o=t.context;n===this.rendererWidth&&r===this.rendererHeight||this.resize(n,r),e.render();var i=this.webglCanvas.transferToImageBitmap();o.transferFromImageBitmap(i)}},{key:"renderImage",value:function(e){var t=e.canvas,n=t.contextWidth,r=t.contextHeight,o=t.context;if(n>this.rendererWidth||r>this.rendererHeight){var i=Math.max(n,this.rendererWidth),a=Math.max(r,this.rendererHeight);this.resize(i,a)}e.render(),o.clearRect(0,0,n,r),o.drawImage(this.webglCanvas,0,this.webglCanvas.height-r,n,r,0,0,n,r)}},{key:"resize",value:function(e,t){this.rendererWidth=e,this.rendererHeight=t,Ll(this.renderer,this.rendererWidth,this.rendererHeight)}},{key:"destroy",value:function(){this.renderer&&(_l(this.renderer),this.resourceCache.destroy())}},{key:"isEmpty",value:function(){return 0===this.content.length}}])&&Yl(t.prototype,n),r&&Yl(t,r),e}();function Kl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function td(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.canvas,r=e.clearColor,o=e.isActive,i=e.isDirty;if(t||o&&i){var a=n.contextWidth,s=n.contextHeight;this.resize(a,s),Sl(this.renderer.state,r),Al(this.renderer),e.render(),e.isDirty=!1}}function nd(e,t){var n=e.isActive,r=e.isDirty;(t||n&&r)&&e.render()}var rd=function(){function e(t){var n=t.content,r=t.canvas,o=t.attributes,i=t.plugins;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ed(this,"isWebGLSupported",!0),ed(this,"rendererWidth",0),ed(this,"rendererHeight",0),this.content=n;try{this.renderer=new Il(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(n),!0).forEach((function(t){ed(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({canvas:r.$el,plugins:i},o)),this.renderContent=td.bind(this),this.resourceCache=new Vl(this.renderer)}catch(e){this.isWebGLSupported=!1,this.renderer=null,this.renderContent=nd.bind(this)}}var t,n,r;return t=e,(n=[{key:"update",value:function(e){return this.content.isActive?(this.content.update(e),this.content.autoUpdate&&(this.content.isDirty=!0),this):this}},{key:"render",value:function(){return this.renderContent(this.content),this}},{key:"resize",value:function(e,t){this.rendererWidth=e,this.rendererHeight=t,Ll(this.renderer,this.rendererWidth,this.rendererHeight)}},{key:"destroy",value:function(){this.renderer&&(_l(this.renderer),this.resourceCache.destroy())}}])&&$l(t.prototype,n),r&&$l(t,r),e}();function od(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ad=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),id(this,"ticking",!1),id(this,"raf",-1),id(this,"tick",(function(e){n.raf=requestAnimationFrame(n.tick),n.callback(e)})),this.callback=t}var t,n,r;return t=e,(n=[{key:"start",value:function(){this.ticking||(this.raf=requestAnimationFrame(this.tick),this.ticking=!0)}},{key:"stop",value:function(){this.ticking&&(cancelAnimationFrame(this.raf),this.ticking=!1)}}])&&od(t.prototype,n),r&&od(t,r),e}();function sd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ud(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ld=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.node,r=t.width,o=t.height,i=t.pixelRatio,a=void 0===i?1:i,s=t.contextType,c=void 0===s?"":s;sd(this,e),ud(this,"width",0),ud(this,"height",0),ud(this,"isBitmapRenderer",!1),this.node=n,this.canvas=Dl(),this.pixelRatio=a,c&&this.getContext(c),this.node&&(this.node.appendChild(this.canvas),Object.assign(this.canvas.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"})),this.resize(r,o)}var t,n,r;return t=e,(n=[{key:"getContext",value:function(e){if("bitmaprenderer"===e){if(this.context=this.canvas.getContext("bitmaprenderer"),this.context)return void(this.isBitmapRenderer=!0);e="2d"}this.context=this.canvas.getContext(e),this.isBitmapRenderer=!1}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.canvas.clientWidth,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.canvas.clientHeight;return(e!==this.width||t!==this.height)&&(this.width=e,this.height=t,this.canvas.width=this.contextWidth,this.canvas.height=this.contextHeight,!0)}},{key:"clear",value:function(){this.canvas.width=this.contextWidth}},{key:"contextWidth",get:function(){return this.width*this.pixelRatio|0}},{key:"contextHeight",get:function(){return this.height*this.pixelRatio|0}},{key:"$el",get:function(){return this.canvas}}])&&cd(t.prototype,n),r&&cd(t,r),e}(),dd=function(){try{return window.top.__sqsWebGL,!0}catch(e){return!1}}()&&self.top||self;dd.__sqsWebGL||(dd.__sqsWebGL={initialized:!1,ticker:null,sharedController:null,dedicatedControllers:[],dedicatedContextLimit:Ml?1:4}),self.addEventListener("beforeunload",(function(){delete dd.__sqsWebGL}));var fd=dd.__sqsWebGL,pd=function(){function e(t){var n=this;al(this,e),ul(this,"handleContextCreate",(function(){n.cache=new Map})),ul(this,"dispose",(function(){n.renderer.onContextCreate.remove(n.handleContextCreate),n.renderer.onDispose.remove(n.dispose),n.cache.clear()})),this.renderer=t,this.renderer.onContextCreate.add(this.handleContextCreate),this.renderer.onDispose.add(this.dispose)}return cl(e,[{key:"get",value:function(e){var t=this.cache.get(e);if(!t){if(!(t=this.renderer.gl.getExtension(e)))throw new Error("WebGLExtensions: ".concat(e," extension not supported."));this.cache.set(e,t)}return t}}]),e}();ul(pd,"NAME","extensions");var hd=pd,md=function(){function e(t){var n=this;al(this,e),ul(this,"nextTextureUnit",1),ul(this,"reset",(function(){n.nextTextureUnit=1})),this.renderer=t,this.renderer.onBeforeRender.add(this.reset),this.textureBindings=new WeakMap}return cl(e,[{key:"dispose",value:function(){this.renderer.onBeforeRender.remove(this.reset),this.renderer=null}}]),e}();ul(md,"NAME","textures");var yd={plugins:[hd,md],attributes:{alpha:!0,antialias:!1,depth:!0,stencil:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!0}};function vd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vd(Object(n),!0).forEach((function(t){bd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wd(){fd.ticker.stop(),fd.initialized=!1}var Sd=function(e){var t=fd.initialized,n=fd.dedicatedControllers,r=fd.dedicatedContextLimit;if(t&&wd(),fd.ticker=new ad((function(e){var t=fd.sharedController,n=fd.dedicatedControllers;t&&t.update(e).render();for(var r=0,o=n.length;r<o;r++)n[r].update(e).render()})),fd.ticker.start(),fd.initialized=!0,n.length<r){var o=new ld({node:e.node,pixelRatio:e.pixelRatio}),i=new rd(gd({content:e,canvas:o},yd));return n.push(i),{canvas:o,renderController:i}}fd.sharedController||(fd.sharedController=new Jl(gd({},yd)));var a=fd.sharedController,s=new ld({node:e.node,pixelRatio:Ml?e.pixelRatio:1,contextType:Ml?"bitmaprenderer":"2d"});return a.register(e),{canvas:s,renderController:a}},Ad=function(e){var t=fd.dedicatedControllers,n=fd.sharedController,r=t.find((function(t){return t.content===e}));r?(r.destroy(),t.splice(t.indexOf(r),1)):(n.unregister(e),n.isEmpty()&&(n.destroy(),fd.sharedController=null)),n&&!n.isEmpty()||0!==t.length||wd()};function Od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Od(Object(n),!0).forEach((function(t){Ed(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Od(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kd=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ed(this,"isActive",!1),Ed(this,"isSupported",!0),Ed(this,"autoUpdate",!0),Ed(this,"isDirty",!0),Ed(this,"clearColor",[1,1,1,1]),Ed(this,"resourceKeys",[]),Ed(this,"start",(function(){return r.isActive||(r.isActive=!0),r})),Ed(this,"stop",(function(){return r.isActive?(r.isActive=!1,r):r})),Ed(this,"refresh",(function(){return r.updateSize(),r.onRefresh(),r})),Ed(this,"forceRender",(function(){r.renderController.renderContent(r,!0)})),this.node=t,this.props=xd(xd({},this.constructor.defaultProps),n),this.clearNode(),Object.assign(this,Sd(this)),this.renderer=this.renderController.renderer,this.resourceCache=this.renderController.resourceCache,this.isSupported=this.renderController.isWebGLSupported||this.constructor.hasFallback,this.isSupported&&this.updateSize()}var t,n,r;return t=e,(n=[{key:"setProps",value:function(e){var t=xd({},this.props);return this.props=xd(xd({},this.props),e),this.onUpdateProps(t),this}},{key:"onUpdateProps",value:function(e){}},{key:"updateSize",value:function(){var e,t;this.props.canvasSize&&(e=this.props.canvasSize.width,t=this.props.canvasSize.height),this.canvas.resize(e,t)&&Promise.resolve().then(this.forceRender)}},{key:"onRefresh",value:function(){}},{key:"update",value:function(e){}},{key:"render",value:function(){}},{key:"renderFrame",value:function(){return this.update(Date.now()),this.forceRender(),this.canvas.canvas}},{key:"destroy",value:function(){var e=this;return Ad(this),this.renderController=null,this.resourceKeys.forEach((function(t){e.resourceCache.releaseResource(t)})),this.clearNode(),this.onDestroy(),this}},{key:"clearNode",value:function(){this.node&&(this.node.innerHTML="")}},{key:"onDestroy",value:function(){}},{key:"getTexture",value:function(e){var t=e.key,n=e.factory;return this.resourceKeys.push(t),this.resourceCache.getTexture({key:t,factory:n})}},{key:"getProgram",value:function(e){var t=e.key,n=e.factory;return this.resourceKeys.push(t),this.resourceCache.getProgram({key:t,factory:n})}},{key:"getGeometry",value:function(e){var t=e.key,n=e.factory;return this.resourceKeys.push(t),this.resourceCache.getGeometry({key:t,factory:n})}},{key:"releaseResource",value:function(e){var t=this.resourceKeys.indexOf(e);-1!==t&&(this.resourceKeys.splice(t,1),this.resourceCache.releaseResource(e))}},{key:"pixelRatio",get:function(){return this.props.pixelRatio||1}}])&&Pd(t.prototype,n),r&&Pd(t,r),e}();Ed(kd,"hasFallback",!1),Ed(kd,"defaultProps",{canvasSize:null,pixelRatio:self.devicePixelRatio});var Td=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.image,r=void 0===n?null:n,o=t.minFilter,i=void 0===o?9729:o,a=t.magFilter,s=void 0===a?9729:a,c=t.wrapS,u=void 0===c?33071:c,l=t.wrapT,d=void 0===l?33071:l,f=t.format,p=void 0===f?6408:f,h=t.type,m=void 0===h?5121:h,y=t.flipY,v=void 0===y||y,g=t.premultiplyAlpha,b=void 0!==g&&g;al(this,e),this.image=r,this.minFilter=i,this.magFilter=s,this.wrapS=u,this.wrapT=d,this.format=p,this.type=m,this.flipY=v,this.premultiplyAlpha=b,this.generateMipmap=9729!==this.minFilter&&9728!==this.minFilter,this.needsUpdate=!1},Cd=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dl(e,t)}(r,e);var t,n=(t=r,function(){var e,n=ll(t);if(fl()){var r=ll(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return pl(this,e)});function r(e){var t=e.geometry,o=e.material,i=e.offset,a=void 0===i?0:i,s=e.count,c=void 0===s?t.attributes.values().next().value.count:s;return al(this,r),n.call(this,{geometry:t,material:o,offset:a,count:c})}return cl(r,[{key:"draw",value:function(e){e.drawArrays(this.mode,this.offset,this.count)}}]),r}(function(){function e(t){var n=t.geometry,r=t.material,o=t.offset,i=t.count;al(this,e),this.geometry=n,this.material=r,this.offset=o,this.count=i}return cl(e,[{key:"draw",value:function(e){}},{key:"uniforms",get:function(){return this.material.uniforms}},{key:"program",get:function(){return this.material.program},set:function(e){this.material.program=e}},{key:"mode",get:function(){return this.material.mode}},{key:"options",get:function(){return this.material.options}},{key:"attributes",get:function(){return this.geometry.attributes}},{key:"index",get:function(){return this.geometry.index}}]),e}()),jd=function e(t){var n=t.program,r=t.uniforms,o=void 0===r?{}:r,i=t.options,a=void 0===i?{}:i,s=t.mode,c=void 0===s?4:s;al(this,e),this.program=n,this.uniforms=o,this.options=a,this.mode=c},Id=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.vert,r=t.frag,o=t.precision;al(this,e),this.vert=n,this.frag=r,this.precision=o};var Ld=function(e){var t=e.geometry,n=e.vert,r=e.frag,o=e.precision,i=e.program,a=e.uniforms,s=e.options,c=e.mode,u=e.material,l=e.DrawInfoClass,d=void 0===l?Cd:l,f=e.offset,p=e.count,h=e.primcount;return i=i||new Id({vert:n,frag:r,precision:o}),new d({geometry:t,material:u=u||new jd({program:i,uniforms:a,options:s,mode:c}),offset:f,count:p,primcount:h})};var Rd=function(e,t){var n=t.wrapS,r=t.wrapT,o=t.minFilter,i=t.magFilter,a=t.flipY,s=t.premultiplyAlpha;e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s)};var _d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.get("activeTexture")!==t&&(e.gl.activeTexture(33984+t),e.set("activeTexture",t))};var Dd=function(e,t,n){var r="texture-".concat(n);e.get(r)!==t&&(e.gl.bindTexture(3553,t),e.set(r,t))};var Md=function(e,t){var n=e.gl;t.image&&n.texImage2D(3553,0,t.format,t.format,t.type,t.image),t.generateMipmap&&n.generateMipmap(3553)};var Fd=function(e,t,n){var r=e.gl,o=e.properties.get(t);return _d(e.state,n),o.glTexture?(Dd(e.state,o.glTexture,n),!0===t.needsUpdate&&(Md(e.state,t,o.glTexture),t.needsUpdate=!1)):(o.glTexture=r.createTexture(),Dd(e.state,o.glTexture,n),Rd(r,t),Md(e.state,t,o.glTexture)),n};var Bd=function(e,t){var n=e.textures,r=n.textureBindings,o=r.get(t);return o||(o=function(){return Fd(e,t,n.nextTextureUnit++)},r.set(t,o)),o},zd=function e(t){var n=t.array,r=t.itemSize,o=t.normalized,i=void 0!==o&&o,a=t.usage,s=void 0===a?35044:a,c=t.name,u=void 0===c?"":c,l=t.divisor,d=void 0===l?0:l;al(this,e),this.array=n,this.itemSize=r,this.normalized=i,this.usage=s,this.name=u,this.divisor=d,this.count=n?n.length/r:0,this.needsUpdate=!1},Nd=function e(){al(this,e),this.attributes=new Map,this.index=null};var Wd=function(e,t,n){return n.name=t,e.attributes.set(t,n),n};var Ud=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.position,n=void 0===t?"aPosition":t,r=new Nd,o=new Float32Array([-1,-1,-1,3,3,-1]);return Wd(r,n,new zd({array:o,itemSize:2})),r};var Hd=function(e,t,n){var r="buffer-".concat(t);e.get(r)!==n&&(e.gl.bindBuffer(t,n),e.set(r,n))};var qd=function(e,t,n){var r=e.properties.get(n);return r.glBuffer||(r.glBuffer=e.gl.createBuffer(),n.needsUpdate=!0),Hd(e.state,t,r.glBuffer),n.needsUpdate&&(e.gl.bufferData(t,n.array,n.usage),n.needsUpdate=!1),r.glBuffer};var Vd=function(e,t,n){var r=[];return n.forEach((function(n,o){var i=t.attributes.get(o),a=qd(e,34962,i);r[n(i,a)]=1})),t.index&&qd(e,34963,t.index),r};var Gd=function(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error("could not compile shader: ".concat(e.getShaderInfoLog(r)));return r};var Yd=function(e,t){return"precision"!==e.substring(0,9)?"precision ".concat(t," float;\n").concat(e):e};var Xd=function(e,t){var n=e.gl,r=n.createProgram(),o=t.vert,i=Yd(t.frag,t.precision||e.defaultPrecision),a=Gd(n,o,n.VERTEX_SHADER),s=Gd(n,i,n.FRAGMENT_SHADER);if(n.attachShader(r,a),n.attachShader(r,s),n.linkProgram(r),!n.getProgramParameter(r,n.LINK_STATUS))throw new Error("could not link shader: ".concat(n.getProgramInfoLog(r)));return n.deleteShader(a),n.deleteShader(s),r};var Qd=function(e,t){e.get("enabledAttributes")||e.set("enabledAttributes",[]);var n=e.get("enabledAttributes");1!==n[t]&&(e.gl.enableVertexAttribArray(t),n[t]=1)};var Zd=function(e,t){return function(n,r){return Hd(e.state,34962,r),Qd(e.state,t),e.gl.vertexAttribPointer(t,n.itemSize,n.type||5126,n.normalize||!1,n.stride||0,n.offset||0),e.gl.vertexAttribDivisor&&e.gl.vertexAttribDivisor(t,n.divisor),t}};var Jd=function(e,t){for(var n=new Map,r=e.gl,o=r.getProgramParameter(t,r.ACTIVE_ATTRIBUTES),i=0;i<o;i++){var a=r.getActiveAttrib(t,i),s=r.getAttribLocation(t,a.name);n.set(a.name,Zd(e,s))}return n};function Kd(e){switch(e){case 5126:return function(e,t,n){e.uniform1f(t,n)};case 35664:return function(e,t,n){e.uniform2f(t,n[0],n[1])};case 35665:return function(e,t,n){e.uniform3f(t,n[0],n[1],n[2])};case 35666:return function(e,t,n){e.uniform4f(t,n[0],n[1],n[2],n[3])};case 5124:case 35670:case 35678:return function(e,t,n){e.uniform1i(t,n)};case 35667:case 35671:return function(e,t,n){e.uniform2i(t,n[0],n[1])};case 35668:case 35672:return function(e,t,n){e.uniform3i(t,n[0],n[1],n[2])};case 35669:case 35673:return function(e,t,n){e.uniform4i(t,n[0],n[1],n[2],n[3])};case 35674:return function(e,t,n){e.uniformMatrix2fv(t,!1,n)};case 35675:return function(e,t,n){e.uniformMatrix3fv(t,!1,n)};case 35676:return function(e,t,n){e.uniformMatrix4fv(t,!1,n)}}}function $d(e){switch(e){case 5126:return function(e,t,n){e.uniform1fv(t,n)};case 35664:return function(e,t,n){e.uniform2fv(t,n)};case 35665:return function(e,t,n){e.uniform3fv(t,n)};case 35666:return function(e,t,n){e.uniform4fv(t,n)};case 5124:case 35670:case 35678:return function(e,t,n){e.uniform1iv(t,n)};case 35667:case 35671:return function(e,t,n){e.uniform2iv(t,n)};case 35668:case 35672:return function(e,t,n){e.uniform3iv(t,n)};case 35669:case 35673:return function(e,t,n){e.uniform4iv(t,n)}}}var ef=function(e,t,n){var r=e.getUniformLocation(t,n.name),o=(1===n.size?Kd:$d)(n.type);return function(t){o(e,r,t.call?t():t)}};var tf=function(e,t){for(var n=new Map,r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),o=0;o<r;o++){var i=e.getActiveUniform(t,o),a=i.name.replace(/\[.*?\]/,"");n.set(a,ef(e,t,i))}return n},nf=function e(t,n){al(this,e),this.attributeSetters=t,this.uniformSetters=n};var rf=function(e,t){var n=Jd(e,t),r=tf(e.gl,t);return new nf(n,r)};var of=function(e,t){var n=e.properties.get(t);return n.glProgram||(n.glProgram=Xd(e,t),n.setters=rf(e,n.glProgram)),n};var af=function(e,t){return e.get("program")!==t&&(e.gl.useProgram(t),e.cache.set("program",t),!0)};var sf=function(e,t){e.forEach((function(e,n){e(t.get(n))}))};var cf=function(e,t){var n=e.get("enabledAttributes");0!==n[t]&&(e.gl.disableVertexAttribArray(t),n[t]=0)};var uf=function(e,t){if(!0!==e.isContextLost){var n=of(e,t.program),r=n.glProgram,o=n.setters;af(e.state,r),e.onBeforeRender.dispatch(t);var i=Vd(e,t,o.attributeSetters);for(var a in e.state.get("enabledAttributes").forEach((function(t,n){i[n]||cf(e.state,n)})),t.uniforms)e.uniformValues.set(a,t.uniforms[a]);sf(o.uniformSetters,e.uniformValues),t.draw(e.gl)}},lf=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e};var df=function(e,t,n){var r=t[0],o=t[1],i=t[2],a=t[3],s=t[4],c=t[5],u=t[6],l=t[7],d=t[8],f=n[0],p=n[1];return e[0]=r,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=c,e[6]=f*r+p*a+u,e[7]=f*o+p*s+l,e[8]=f*i+p*c+d,e};var ff=function(e,t,n){var r=n[0],o=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e};var pf=function(e){var t,n,r=e.matrix,o=void 0===r?[]:r,i=e.containerWidth,a=e.containerHeight,s=e.contentWidth,c=e.contentHeight,u=e.centerX,l=void 0===u?.5:u,d=e.centerY;s/c>i/a?(t=i*c/(a*s),n=1):(t=1,n=a*s/(i*c));var f=(t-1)/2*-1,p=(n-1)/2*-1,h=f+(l-.5)*f*2,m=p+(.5-(void 0===d?.5:d))*p*2;return lf(o),df(o,o,[h,m]),ff(o,o,[t,n]),o},hf=n(234),mf=n.n(hf);function yf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){gf(e,t,n[t])}))}return e}function wf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Sf(e,t){return e(t={exports:{}},t.exports),t.exports}var Af=Sf((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),Of=Sf((function(e){var t=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=t)})),xf=(Of.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),Pf=function(e){if(!xf(e))throw TypeError(e+" is not an object!");return e},Ef=function(e){try{return!!e()}catch(e){return!0}},kf=!Ef((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),Tf=Af.document,Cf=xf(Tf)&&xf(Tf.createElement),jf=!kf&&!Ef((function(){return 7!=Object.defineProperty((e="div",Cf?Tf.createElement(e):{}),"a",{get:function(){return 7}}).a;var e})),If=Object.defineProperty,Lf={f:kf?Object.defineProperty:function(e,t,n){if(Pf(e),t=function(e,t){if(!xf(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!xf(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!xf(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!xf(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}(t,!0),Pf(n),jf)try{return If(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},Rf=kf?function(e,t,n){return Lf.f(e,t,function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}(1,n))}:function(e,t,n){return e[t]=n,e},_f={}.hasOwnProperty,Df=function(e,t){return _f.call(e,t)},Mf=0,Ff=Math.random(),Bf=Sf((function(e){var t=Af["__core-js_shared__"]||(Af["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:Of.version,mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})}))("native-function-to-string",Function.toString),zf=Sf((function(e){var t,n="Symbol(".concat(void 0===(t="src")?"":t,")_",(++Mf+Ff).toString(36)),r=(""+Bf).split("toString");Of.inspectSource=function(e){return Bf.call(e)},(e.exports=function(e,t,o,i){var a="function"==typeof o;a&&(Df(o,"name")||Rf(o,"name",t)),e[t]!==o&&(a&&(Df(o,n)||Rf(o,n,e[t]?""+e[t]:r.join(String(t)))),e===Af?e[t]=o:i?e[t]?e[t]=o:Rf(e,t,o):(delete e[t],Rf(e,t,o)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[n]||Bf.call(this)}))})),Nf=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},Wf=function(e,t,n){var r,o,i,a,s=e&Wf.F,c=e&Wf.G,u=e&Wf.S,l=e&Wf.P,d=e&Wf.B,f=c?Af:u?Af[t]||(Af[t]={}):(Af[t]||{}).prototype,p=c?Of:Of[t]||(Of[t]={}),h=p.prototype||(p.prototype={});for(r in c&&(n=t),n)i=((o=!s&&f&&void 0!==f[r])?f:n)[r],a=d&&o?Nf(i,Af):l&&"function"==typeof i?Nf(Function.call,i):i,f&&zf(f,r,i,e&Wf.U),p[r]!=i&&Rf(p,r,a),l&&h[r]!=i&&(h[r]=i)};Af.core=Of,Wf.F=1,Wf.G=2,Wf.S=4,Wf.P=8,Wf.B=16,Wf.W=32,Wf.U=64,Wf.R=128;var Uf=Wf;Uf(Uf.S+Uf.F*!kf,"Object",{defineProperty:Lf.f});var Hf=function(){},qf="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0),Vf=!!("ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||window.DocumentTouch&&document instanceof DocumentTouch),Gf=function(e){var t=e,n=0;do{n=t.offsetTop+n}while(t=t.offsetParent);return n},Yf=function(){function e(t,n){var r=this;yf(this,e),gf(this,"onResize",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shouldSkipUpdate,n=void 0!==t&&t,o=r.props.scrollEvents;r.computePositionData(),r.pos.offsetTop=Gf(r.node),r.pos.offsetBottom=document.body.scrollHeight-r.pos.offsetTop-r.pos.clientHeight,!o||qf&&n||r.onUpdate(!0)})),gf(this,"onScroll",(function(){r.onUpdate(!Vf)})),gf(this,"onIntersect",(function(e){var t=wf(e,1)[0].isIntersecting;(0,r.props.onIntersection)(t),r.onUpdate(),t?Do.a.on(r.onScroll):Do.a.off(r.onScroll)})),gf(this,"destroy",(function(){r.unbindListeners()})),this.props=bf({},this.constructor.defaultProps,n),this.node=t,this.observer={intersection:null};var o=window.pageYOffset;this.pos={scrollTop:o,top:0,bottom:0,progress:0,intersectionProgress:0,windowHeight:0,clientHeight:0,offsetTop:0,offsetBottom:0,initial:this.getNodePositionData(this.node,o),isIntersecting:!1}}var t,n,r;return t=e,(n=[{key:"start",value:function(){this.bindListeners()}},{key:"bindListeners",value:function(){if(s.a.on(this.onResize),this.onResize({shouldSkipUpdate:!0}),qf)return this.observer.intersection=new IntersectionObserver(this.onIntersect,{rootMargin:"0px 0px 0px 0px"}),void this.observer.intersection.observe(this.node);Do.a.on(this.onScroll)}},{key:"unbindListeners",value:function(){this.observer.intersection&&this.observer.intersection.unobserve(this.node),s.a.off(this.onResize),Do.a.off(this.onScroll)}},{key:"onUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,n=t.scrollEvents,r=t.normalize;e?this.pos.scrollTop=window.pageYOffset:this.computePositionData();var o=this.props,i=o.onIntersection,a=o.onUpdate,s=this.pos,c=s.clientHeight,u=s.windowHeight,l=s.initial;this.pos.top=l.top-this.pos.scrollTop,this.pos.bottom=l.bottom-this.pos.scrollTop-u;var d=r?Math.min(this.pos.offsetTop,u):u,f=r?Math.min(this.pos.offsetBottom,u):u,p=-this.pos.top+d,h=d+c+f-u,m=1-(this.pos.top+c)/(u+c),y=p===h?1:(-this.pos.top+d)/(d+c+f-u);this.pos.progress=y<0?0:y>1?1:y,this.pos.intersectionProgress=m<0?0:m>1?1:m,qf||(this.pos.intersectionProgress>0&&this.pos.intersectionProgress<1?this.pos.isIntersecting||(this.pos.isIntersecting=!0,i(this.pos.isIntersecting),this.onResize()):this.pos.isIntersecting&&(this.pos.isIntersecting=!1,i(this.pos.isIntersecting))),n&&a(this.pos)}},{key:"computePositionData",value:function(){this.pos.windowHeight=window.innerHeight,this.pos.clientHeight=this.node.clientHeight,this.pos.scrollTop=window.pageYOffset,this.pos.initial=this.getNodePositionData(this.node,this.pos.scrollTop)}},{key:"getNodePositionData",value:function(e,t){var n=e.getBoundingClientRect(),r=n.top,o=n.right,i=n.bottom,a=n.left;return{top:Math.round(r)+t,right:o,bottom:Math.round(i)+t,left:a}}}])&&vf(t.prototype,n),r&&vf(t,r),e}();gf(Yf,"defaultProps",{scrollEvents:!0,onIntersection:Hf,onUpdate:Hf});var Xf=function e(t,n){var r=this;yf(this,e),gf(this,"onIntersection",(function(e){var t=r.props.onIntersection;r.state.isIntersecting=e,t(e)})),gf(this,"onUpdate",(function(e){var t=e.progress;r.onProgress(t)})),gf(this,"onProgress",(function(e){var t=r.props.onProgress;r.state.progress!==e&&(r.state.progress=e,t(r.state.progress))})),gf(this,"destroy",(function(){r.intersection.destroy()})),this.props=bf({},this.constructor.defaultProps,n);var o=this.props.normalize;if(t){var i=this.props,a=i.progressEvents,s=i.onProgress;this.state={normalize:o,progressEvents:a&&s,progress:-1,isIntersecting:!1},this.intersection=new Yf(t,{normalize:o,scrollEvents:this.state.progressEvents,onIntersection:this.onIntersection,onUpdate:this.onUpdate}),this.intersection.start()}else console.error("Error: No valid HTMLElement node was supplied!")};gf(Xf,"defaultProps",{progressEvents:!0,normalize:!0,onIntersection:Hf,onProgress:null});var Qf=Xf;function Zf(e){return(Zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jf(Object(n),!0).forEach((function(t){ip(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ep(e,t){return(ep=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=op(e);if(t){var o=op(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return np(this,n)}}function np(e,t){return!t||"object"!==Zf(t)&&"function"!=typeof t?rp(e):t}function rp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function op(e){return(op=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ip(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ap=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ep(e,t)}(a,e);var t,n,r,o=tp(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ip(rp(n=o.call(this,e,Kf({pixelRatio:Ml?Math.min(self.devicePixelRatio,1.5):1},t))),"onIntersection",(function(e){e?n.start():n.stop(),n.props.onIntersection(e)}));var r=n.props.image;return n.focalPoint=Object(f.b)(r)||{x:.5,y:.5},n.isImageLoaded=!1,n.isEnabled=n.isSupported&&!pt.b,r?(n.isEnabled&&n.createResources(),n.loadImage(r),n):np(n)}return t=a,(n=[{key:"loadImage",value:function(e){var t=this;e.onload=function(){t.isEnabled&&(t.onImageLoaded(),e.style.visibility="hidden")},i.a.loadLazy(e,{load:!0,mode:"cover",useAdvancedPositioning:!0})}},{key:"onImageLoaded",value:function(){this.refresh(),this.isImageLoaded?this.texture.needsUpdate=!0:(this.isImageLoaded=!0,this.bindListeners())}},{key:"createResources",value:function(){var e,t,n=this.props,r=n.image,o=n.uniforms,i=n.pixelRatio;this.texture=new Td({image:r}),this.drawInfo=Ld({program:this.createProgram(),uniforms:Kf(Kf({},o),{},{uvMatrix:mf()(),uImage:Bd(this.renderer,this.texture),uResolution:[this.canvas.width,this.canvas.height],uReversePixelRatio:1/i}),geometry:this.getGeometry({key:"big-triangle",factory:Ud})}),e=this.renderer,t=this.drawInfo.program,of(e,t),this.uniforms=this.drawInfo.uniforms,this.updateUvMatrix()}},{key:"createProgram",value:function(){var e=this.props,t=e.programKey,n=e.vert,r=e.frag;return this.getProgram({key:t,factory:function(){return new Id({vert:n,frag:r})}})}},{key:"bindListeners",value:function(){this.intersectionScroll=new Qf(this.node,{onIntersection:this.onIntersection,onProgress:this.props.onScrollProgress,normalize:!1}),s.a.on(this.refresh)}},{key:"unbindListeners",value:function(){s.a.off(this.refresh),this.intersectionScroll&&this.intersectionScroll.destroy()}},{key:"onUpdateProps",value:function(e){this.props.programKey!==e.programKey&&(this.releaseResource(e.programKey),this.drawInfo.program=this.createProgram()),(this.props.imageNeedsUpdate||this.props.image!==e.image)&&(this.texture.image=this.props.image,this.texture.needsUpdate=!0,this.props.imageNeedsUpdate=!1),Object.assign(this.uniforms,this.props.uniforms),this.refresh()}},{key:"update",value:function(){this.props.onUpdate()}},{key:"render",value:function(){uf(this.renderer,this.drawInfo)}},{key:"onRefresh",value:function(){this.uniforms.uResolution[0]=this.canvas.width,this.uniforms.uResolution[1]=this.canvas.height,this.updateUvMatrix(),this.props.onResize()}},{key:"updateUvMatrix",value:function(){pf({matrix:this.drawInfo.material.uniforms.uvMatrix,containerWidth:this.canvas.width,containerHeight:this.canvas.height,contentWidth:this.props.image.naturalWidth,contentHeight:this.props.image.naturalHeight,centerX:this.focalPoint.x,centerY:this.focalPoint.y})}},{key:"onDestroy",value:function(){this.isEnabled&&this.unbindListeners()}}])&&$f(t.prototype,n),r&&$f(t,r),a}(kd);ip(ap,"defaultProps",{programKey:null,vert:"#define GLSLIFY 1\nattribute vec3 aPosition;\nuniform mat3 uvMatrix;\nvarying vec2 vUv;\n\nvoid main(){\n  gl_Position=vec4(aPosition,1.);\n  vec2 uv=gl_Position.xy*.5+.5;\n\n  vUv=(uvMatrix*vec3(uv,1.)).xy;\n}",frag:"#define GLSLIFY 1\nuniform sampler2D uImage;\nvarying vec2 vUv;\n\nvoid main(){\n  gl_FragColor=texture2D(uImage,vUv);\n}",image:null,uniforms:{},imageNeedsUpdate:!1,onUpdate:ee.a,onResize:ee.a,onIntersection:ee.a,onScrollProgress:null});function sp(e){return(sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cp(Object(n),!0).forEach((function(t){yp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dp(e,t){return(dp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mp(e);if(t){var o=mp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pp(this,n)}}function pp(e,t){return!t||"object"!==sp(t)&&"function"!=typeof t?hp(e):t}function hp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mp(e){return(mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dp(e,t)}(i,e);var t,n,r,o=fp(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),yp(hp(t=o.call(this)),"update",(function(){t.imageEffect.uniforms.uTime+=5e-5*t.state.speed,t.imageEffect.uniforms.uMorphTime+=1e-4*t.state.morphSpeed})),yp(hp(t),"destroy",(function(){t.imageEffect.destroy()})),t.node=e,t.imageEffect=new ap(t.node.querySelector(".background-fx-canvas"),{programKey:"liquid",image:e.querySelector("img"),uniforms:up({uTime:0,uMorphTime:0},t.updateUniforms({},t.state)),frag:"#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\nfloat cubicOut(float t) {\n  float f = t - 1.0;\n  return f * f * f + 1.0;\n}\n\nuniform float uComplexity;\nuniform float uDirection;\nuniform float uIntensity;\nuniform float uMorph;\nuniform float uSeed;\nuniform float uShadow;\nuniform float uSmoothness;\nuniform float uTime;\nuniform float uMorphTime;\nuniform sampler2D uImage;\n\nvarying vec2 vUv;\n\nvec2 rotate(vec2 uv,float amount){\n  float ca = cos(amount);\n  float sa = sin(amount);\n  \n  return vec2(\n    uv.x * ca + uv.y * sa,\n    -uv.x * sa + uv.y * ca\n  );\n}\n\nfloat getNoise(vec2 uv) {\n  vec2 direction = rotate(vec2(uTime), uDirection);\n  \n  return 1.0 - snoise(vec3(uv * uComplexity + direction, uMorphTime) + uSeed);\n}\n\nvoid main (void) {\n  float noise = 1.0 - cubicOut(smoothstep(1.0 - uSmoothness, 1.0, 1.0 - getNoise(vUv))) * uIntensity;\n  float shadow = smoothstep(1.0 - uIntensity, 1.0, noise) * uShadow * 0.5;\n  vec2 uv = (vUv - 0.5) * noise + 0.5;\n\n  gl_FragColor = texture2D(uImage, uv) - vec4(vec3(shadow), 0.0);\n}",onUpdate:t.update}),t}return t=i,(n=[{key:"updateUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.uComplexity=t.complexity,e.uDirection=(45+t.direction)*(Math.PI/180),e.uIntensity=.01*t.intensity,e.uSeed=t.seed,e.uShadow=.01*t.shadow,e.uSmoothness=.01*t.smoothness,e}}])&&lp(t.prototype,n),r&&lp(t,r),i}(l.a);yp(vp,"defaultState",{complexity:2,direction:270,intensity:10,morphSpeed:5,seed:100,shadow:8,smoothness:100,speed:50});r.a.register("BackgroundImageFXLiquid",(function(e){return new vp(e)}));function gp(e){return(gp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bp(Object(n),!0).forEach((function(t){kp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ap(e,t){return(Ap=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Op(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ep(e);if(t){var o=Ep(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xp(this,n)}}function xp(e,t){return!t||"object"!==gp(t)&&"function"!=typeof t?Pp(e):t}function Pp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ep(e){return(Ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ap(e,t)}(i,e);var t,n,r,o=Op(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),kp(Pp(t=o.call(this)),"shiftTarget",[0,0]),kp(Pp(t),"shiftResetTID",-1),kp(Pp(t),"onIntersection",(function(e){e?t.bindListeners():t.unbindListeners()})),kp(Pp(t),"resetShift",(function(){t.shiftTarget=[0,0]})),kp(Pp(t),"onPointerMove",(function(e){var n=t.sectionNode.getBoundingClientRect(),r=(e.clientX-n.left)/t.width,o=(e.clientY-n.top)/t.height;t.shiftTarget[0]=-2*r+1,t.shiftTarget[1]=2*o-1,t.onPointerLeave()})),kp(Pp(t),"onPointerLeave",(function(){clearTimeout(t.shiftResetTID),t.shiftResetTID=setTimeout(t.resetShift,2e3)})),kp(Pp(t),"onResize",(function(){var e=t.imageEffect.canvas,n=e.width,r=e.height,o=t.state,i=o.centerOffsetSize,a=o.isLimitRings,s=o.numRings,c=o.ringSize,u=.5*Math.min(n,r),l=.5*Math.sqrt(n*n+r*r),d=u*(.01*i),f=Math.ceil((l-i)/c),p=a?Math.min(s,f):f;t.width=n,t.height=r,t.imageEffect.uniforms.uCenterRadius=d,t.imageEffect.uniforms.uMaxRings=p})),kp(Pp(t),"update",(function(){var e=t.state.shiftSpeed,n=t.imageEffect.uniforms.uShift,r=t.shiftTarget[0]-n[0],o=t.shiftTarget[1]-n[1];n[0]+=r*(.002*e),n[1]+=o*(.002*e)})),kp(Pp(t),"destroy",(function(){t.imageEffect.destroy(),t.unbindListeners(),clearTimeout(t.shiftResetTID)})),t.node=e,t.sectionNode=t.node.closest("section")||t.node,t.imageEffect=new ap(t.node.querySelector(".background-fx-canvas"),{programKey:"refracted-circles",image:e.querySelector("img"),uniforms:wp({uCenterRadius:100,uMaxRings:-1,uShift:[0,0]},t.updateUniforms({},t.state)),frag:"#define GLSLIFY 1\n#ifndef HALF_PI\n#define HALF_PI 1.5707963267948966\n#endif\n\nfloat sineOut(float t) {\n  return sin(t * HALF_PI);\n}\n\nuniform sampler2D uImage;\nuniform float uCenterRadius;\nuniform float uMaxRings;\nuniform float uReversePixelRatio;\nuniform float uRingSize;\nuniform float uRotation;\nuniform float uScaleEven;\nuniform float uScaleOdd;\nuniform float uScaleTaperEven;\nuniform float uScaleTaperOdd;\nuniform float uShiftIntensity;\nuniform float uStepFlipRotation;\nuniform float uStepFlipX;\nuniform float uStepFlipY;\nuniform vec2 uResolution;\nuniform vec2 uShift;\nvarying vec2 vUv;\n\nvec2 rotate(vec2 uv, float amount) {\n  vec2 prime = vec2(uv.x * cos(amount) + uv.y * sin(amount),\n    -uv.x * sin(amount) + uv.y * cos(amount));\n  return prime;\n}\n\nfloat getStep (vec2 uv) {\n  return (floor(max(0.0, distance(uv, vec2(0.0)) - uCenterRadius) / uRingSize));\n}\n\nvoid main () {\n  vec2 uv = vUv - 0.5;\n  float aspect = uResolution.x / uResolution.y;\n  vec2 stepCoord = (gl_FragCoord.xy / uResolution * uReversePixelRatio) - 0.5;\n  float step = min(getStep(stepCoord * uResolution), uMaxRings);\n  float isEven = mod(step, 2.0);\n  float flipRotation = sign((1.0 - isEven + uStepFlipRotation) * 2.0 - 1.0);\n  vec2 flipAxis = vec2(\n    sign((1.0 - isEven + uStepFlipX) * 2.0 - 1.0),\n    sign((1.0 - isEven + uStepFlipY) * 2.0 - 1.0)\n  );\n  float progress = sineOut((step + 1.0) / (uMaxRings + 1.0));\n  float progressRotation = sineOut((step) / (uMaxRings));\n  float rotation = progressRotation * (uRotation) * flipRotation;\n  float scale = mix(uScaleOdd, uScaleEven, isEven);\n  float taper = mix(uScaleTaperEven, uScaleTaperOdd, isEven);\n  float taperScale = (1.0 - progress) * taper;\n  vec2 shift = uShift * uShiftIntensity * progress;\n\n  uv.x *= aspect;\n  uv = rotate(uv, rotation);\n  uv.x /= aspect;\n  uv =\n    (uv + shift) *\n      flipAxis *\n      scale *\n      (1.0 + taperScale) +\n    0.5;\n\n  gl_FragColor = texture2D(uImage, mod(uv * -sign(mod(uv, 2.0) - 1.0), 1.0));\n}",onUpdate:t.update,onResize:t.onResize,onIntersection:t.onIntersection}),t.width=t.node.clientWidth,t.height=t.node.clientHeight,t}return t=i,(n=[{key:"bindListeners",value:function(){this.sectionNode.addEventListener("mousemove",this.onPointerMove),this.sectionNode.addEventListener("mouseleave",this.onPointerLeave)}},{key:"unbindListeners",value:function(){this.sectionNode.removeEventListener("mousemove",this.onPointerMove),this.sectionNode.removeEventListener("mouseleave",this.onPointerLeave)}},{key:"updateUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.uRotation=t.rotation*Math.PI/180,e.uRingSize=t.ringSize,e.uScaleEven=.01*t.scaleEven,e.uScaleOdd=.01*t.scaleOdd,e.uScaleTaperEven=.01*t.scaleTaperEven,e.uScaleTaperOdd=.01*t.scaleTaperOdd,e.uStepFlipRotation=1-+t.isStepFlipRotation,e.uStepFlipX=1-+t.isStepFlipX,e.uStepFlipY=1-+t.isStepFlipY,e.uShiftIntensity=.002*t.shiftIntensity,e}}])&&Sp(t.prototype,n),r&&Sp(t,r),i}(l.a);kp(Tp,"defaultState",{isLimitRings:!1,numRings:5,centerOffsetSize:55,ringSize:150,rotation:2,scaleEven:100,scaleOdd:90,scaleTaperEven:10,scaleTaperOdd:-10,shiftIntensity:50,shiftSpeed:20,isStepFlipRotation:!0,isStepFlipX:!1,isStepFlipY:!1});r.a.register("BackgroundImageFXRefractedCircles",(function(e){return new Tp(e)}));function Cp(e){return(Cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ip(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jp(Object(n),!0).forEach((function(t){Bp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rp(e,t){return(Rp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fp(e);if(t){var o=Fp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dp(this,n)}}function Dp(e,t){return!t||"object"!==Cp(t)&&"function"!=typeof t?Mp(e):t}function Mp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fp(e){return(Fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rp(e,t)}(i,e);var t,n,r,o=_p(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Bp(Mp(t=o.call(this)),"targetProgress",0),Bp(Mp(t),"isImmediate",!0),Bp(Mp(t),"onScrollProgress",(function(e){t.isImmediate&&(t.imageEffect.uniforms.uShift[1]=e,t.imageEffect.isDirty=!0,t.isImmediate=!1),t.targetProgress=e})),Bp(Mp(t),"onIntersection",(function(e){e&&(t.isImmediate=!0)})),Bp(Mp(t),"onUpdate",(function(){var e=t.imageEffect.uniforms.uShift[1],n=t.targetProgress;if(e!==n){var r=n-e;t.imageEffect.uniforms.uShift[1]=r<.01?n:e+.1*r,t.imageEffect.isDirty=!0}})),Bp(Mp(t),"updateSize",(function(){var e=t.imageEffect.canvas,n=e.width,r=e.height,o=t.state.lineSize,i=Math.sqrt(n*n+r*r),a=Math.ceil(i/o),s=a*o;t.imageEffect.uniforms.uLineSize=o,t.imageEffect.uniforms.uLineCount=a,t.imageEffect.uniforms.uLineRegionSize=s,t.imageEffect.uniforms.uResolution[0]=n,t.imageEffect.uniforms.uResolution[1]=r,t.isImmediate=!0})),Bp(Mp(t),"destroy",(function(){t.imageEffect.destroy()})),t.node=e,t.imageEffect=new ap(t.node.querySelector(".background-fx-canvas"),{programKey:"refracted-lines",image:e.querySelector("img"),uniforms:Ip({uResolution:[1,1],uShift:[0,0]},t.updateUniforms({},t.state)),frag:"#define GLSLIFY 1\nfloat cubicOut(float t) {\n  float f = t - 1.0;\n  return f * f * f + 1.0;\n}\n\nuniform sampler2D uImage;\nuniform float uBulge;\nuniform float uLineCount;\nuniform float uLineRegionSize;\nuniform float uLineSize;\nuniform float uRotation;\nuniform float uScale;\nuniform float uShiftIntensity;\nuniform vec2 uOffsetScale;\nuniform vec2 uResolution;\nuniform vec2 uShift;\n\nvarying vec2 vUv;\n\nvec2 rotate(vec2 uv, float amount) {\n  vec2 prime = vec2(uv.x * cos(amount) + uv.y * sin(amount),\n    -uv.x * sin(amount) + uv.y * cos(amount));\n  return prime;\n}\n\nfloat getStep (vec2 uv) {\n  return (1.0 + floor(distance(uv.x, 0.0) / uLineRegionSize * uLineCount));\n}\n\nvoid main () {\n  vec2 uv = rotate((vUv - 0.5) * uResolution, uRotation);\n  float step = getStep(uv);\n  float multiplier = sign(uv.x);\n\n  uv = rotate(uv, -uRotation);\n\n  float aspect = uResolution.x / uResolution.y;\n\n  float interpStep = multiplier * step;\n  float strength = step / (uLineCount * 0.5);\n  vec2 rotated = vec2(cos(uRotation), sin(uRotation));\n\n  interpStep -= multiplier * 0.5;\n\n  vec2 centered = interpStep * uLineSize * vec2(aspect, 1.0) * uOffsetScale * rotated;\n  \n  uv += uShift * uResolution * uShiftIntensity * cubicOut((step + 1.0) / uLineCount);\n  uv = (uv - centered) * (2.0 - uScale + strength * uBulge) + centered;\n  uv /= uResolution;\n  uv += 0.5;\n  uv = mod(uv * -sign(mod(uv, 2.0) - 1.0), 1.0);\n\n  gl_FragColor = texture2D(uImage, uv);\n}",onResize:t.updateSize,onUpdate:t.onUpdate,onIntersection:t.onIntersection,onScrollProgress:t.onScrollProgress}),t.imageEffect.autoUpdate=!1,t}return t=i,(n=[{key:"updateUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.uRotation=t.rotation*Math.PI/180,e.uBulge=t.bulge,e.uOffsetScale=[t.offsetScaleX,t.offsetScaleY],e.uScale=t.scale,e.uShiftIntensity=t.shiftIntensity,e}}])&&Lp(t.prototype,n),r&&Lp(t,r),i}(l.a);Bp(zp,"defaultState",{bulge:-.25,lineSize:120,offsetScaleX:.5,offsetScaleY:.5,rotation:135,scale:.8,shiftIntensity:.25});r.a.register("BackgroundImageFXRefractedLines",(function(e){return new zp(e)}));function Np(e){return(Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wp(Object(n),!0).forEach((function(t){Qp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qp(e,t){return(qp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xp(e);if(t){var o=Xp(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gp(this,n)}}function Gp(e,t){return!t||"object"!==Np(t)&&"function"!=typeof t?Yp(e):t}function Yp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xp(e){return(Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zp=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qp(e,t)}(i,e);var t,n,r,o=Vp(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Qp(Yp(t=o.call(this)),"update",(function(){t.imageEffect.uniforms.uTime+=1e-4*t.state.speed})),Qp(Yp(t),"destroy",(function(){t.imageEffect.destroy()})),t.node=e,t.imageEffect=new ap(t.node.querySelector(".background-fx-canvas"),{programKey:"static",image:e.querySelector("img"),uniforms:Up({uTime:0},t.updateUniforms({},t.state)),frag:"#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute(vec4 x) {\n     return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g;\n  vec3 i1 = min( g.xyz, l.zxy );\n  vec3 i2 = max( g.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289(i);\n  vec4 p = permute( permute( permute(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n#define V_SEED_X 12.9898\n#define V_SEED_Y 78.233\n#define R_SEED 43758.5453\n\nuniform sampler2D uImage;\nuniform float uDepth;\nuniform float uNoise;\nuniform float uTime;\nuniform vec2 uResolution;\n\nvarying vec2 vUv;\n\nfloat luma(vec4 color) {\n  return dot(color.rgb, vec3(0.299, 0.587, 0.114));\n}\n\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy, vec2(V_SEED_X, V_SEED_Y))) * R_SEED);\n}\n\nfloat filmGrain(vec2 uv) {\n  float random = rand(uv + uTime);\n  return snoise(vec3(uv, random) + random);\n}\n\nvoid main (void) {\n  vec4 origin = texture2D(uImage, vUv);\n  float grain = filmGrain(vUv * uResolution);\n  vec3 color = origin.rgb;\n\n  color *= 1.0 + (grain * uNoise * (-1.0 + uDepth + luma(origin) * 0.75));\n\n  gl_FragColor = vec4(color, origin.a);\n}",onUpdate:t.update}),t}return t=i,(n=[{key:"updateUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.uNoise=t.noise,e.uDepth=t.depth,e}}])&&Hp(t.prototype,n),r&&Hp(t,r),i}(l.a);Qp(Zp,"defaultState",{noise:.5,depth:0,speed:30});r.a.register("BackgroundImageFXStatic",(function(e){return new Zp(e)}));function Jp(e){return(Jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kp(Object(n),!0).forEach((function(t){ah(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function th(e,t){return(th=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ih(e);if(t){var o=ih(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rh(this,n)}}function rh(e,t){return!t||"object"!==Jp(t)&&"function"!=typeof t?oh(e):t}function oh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ih(e){return(ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ah(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sh=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&th(e,t)}(i,e);var t,n,r,o=nh(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ah(oh(t=o.call(this)),"targetProgress",0),ah(oh(t),"isImmediate",!0),ah(oh(t),"onScrollProgress",(function(e){t.isImmediate&&(t.imageEffect.uniforms.uProgress=e,t.imageEffect.isDirty=!0,t.isImmediate=!1),t.targetProgress=e})),ah(oh(t),"onIntersection",(function(e){e&&(t.isImmediate=!0)})),ah(oh(t),"onUpdate",(function(){var e=t.imageEffect.uniforms.uProgress,n=t.targetProgress;if(e!==n){var r=n-e;t.imageEffect.uniforms.uProgress=r<.01?n:e+.1*r,t.imageEffect.isDirty=!0}})),ah(oh(t),"updateSize",(function(){var e=t.imageEffect.focalPoint,n=e.x,r=e.y;t.imageEffect.uniforms.uOrigin[0]=n,t.imageEffect.uniforms.uOrigin[1]=1-r,t.isImmediate=!0})),ah(oh(t),"destroy",(function(){t.imageEffect.destroy()})),t.node=e,t.setState(JSON.parse(t.node.dataset.props)),t.imageEffect=new ap(t.node.querySelector(".background-fx-canvas"),{programKey:"parallax-program",image:e.querySelector("img"),uniforms:$p({uOrigin:[.5,.5],uProgress:0},t.updateUniforms({},t.state)),vert:"#define GLSLIFY 1\nattribute vec3 aPosition;\n\nuniform mat3 uvMatrix;\nuniform float uAmount;\nuniform vec2 uAngle;\nuniform float uZoomStart;\nuniform float uZoomEnd;\nuniform float uProgress;\nuniform vec2 uOrigin;\n\nvarying vec2 vUv;\n\nvoid main(){\n  gl_Position = vec4(aPosition, 1.);\n  vec2 uv = gl_Position.xy * .5 + .5;\n\n  vUv = (uvMatrix * vec3(uv, 1.)).xy;\n  vUv -= uOrigin;\n  vUv *= 1.0 - uAmount - mix(uZoomStart, uZoomEnd, uProgress);\n  vUv -= uAngle * mix(\n    (vec2(1.0) - uOrigin) * -uAmount,\n    uOrigin * uAmount,\n    uProgress\n  );\n  vUv += uOrigin;\n}",onResize:t.updateSize,onUpdate:t.onUpdate,onIntersection:t.onIntersection,onScrollProgress:t.onScrollProgress}),t.imageEffect.autoUpdate=!1,t}return t=i,(n=[{key:"updateUniforms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.uAmount=t.amount,e.uAngle=[Math.cos(t.angle*Math.PI/180),Math.sin(t.angle*Math.PI/180)],e.uZoomStart=t.zoomStart,e.uZoomEnd=t.zoomEnd,e}}])&&eh(t.prototype,n),r&&eh(t,r),i}(l.a);ah(sh,"defaultState",{amount:.3,angle:90,zoomStart:0,zoomEnd:0});r.a.register("BackgroundImageFXParallax",(function(e){return new sh(e)})),r.a.register("AuthorProfileImageLoader",a),r.a.register("BlogImageLoader",u),r.a.register("BlogLayoutMasonry",T),r.a.register("EventsImageLoader",C),r.a.register("Flags",(function(e){return new L(e)})),r.a.register("FloatingCart",_),r.a.register("GalleryFullscreenSlideshow",(function(e){return new xe(e)})),r.a.register("GalleryGrid",(function(e){return new tt(e)})),r.a.register("GalleryMasonry",(function(e){return new ft(e)})),r.a.register("GalleryStrips",(function(e){return new an(e)})),r.a.register("GallerySlideshow",(function(e){return new Mt(e)})),r.a.register("GridImages",gr),r.a.register("Header",(function(e){return new oo(e)})),r.a.register("ImageZoom",(function(e){return new ho(e)})),r.a.register("ItemPagination",go),r.a.register("Lightbox",(function(e){return new ko(e)})),r.a.register("MagicPaddingController",(function(e){return new Ro(e)})),r.a.register("PortfolioHover",(function(e){return new Rs(e)})),r.a.register("PortfolioIndexBackground",Bs),r.a.register("ProductListImageLoader",zs),r.a.register("ProductGallery",(function(e){return new Ks(e)})),r.a.register("ProductItemVariants",(function(e){return new ac(e)})),r.a.register("ProductCartButton",(function(e){return new fc(e)})),r.a.register("SectionBackgroundOverlayController",(function(e){return new mc(e)})),r.a.register("SectionWrapperController",(function(e){return new jc(e)})),r.a.register("ImageAndText",(function(e){return new Uc(e)})),r.a.register("UserAccountLink",Vc),r.a.register("UserItemsListBannerSlideshow",(function(e){return new Pu(e)})),r.a.register("UserItemsListSimple",rl),r.a.register("UserItemsListCarousel",(function(e){return new Gu(e)})),r.a.register("UserItemsListSimple",rl),mo()&&r.a.register("GlobalAnimations",void 0),r.a.register("VideoBackground",(function(e){return il()(e)})),r.a.initialize()}]))}));